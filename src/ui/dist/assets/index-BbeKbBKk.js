(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=i(a);fetch(a.href,c)}})();function ha(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dc={exports:{}},fo={},fc={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function Wy(){if(kp)return we;kp=1;var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),b=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function z(O,W,ue){this.props=O,this.context=W,this.refs=D,this.updater=ue||M}z.prototype.isReactComponent={},z.prototype.setState=function(O,W){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,W,"setState")},z.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function U(){}U.prototype=z.prototype;function $(O,W,ue){this.props=O,this.context=W,this.refs=D,this.updater=ue||M}var V=$.prototype=new U;V.constructor=$,A(V,z.prototype),V.isPureReactComponent=!0;var P=Array.isArray,N=Object.prototype.hasOwnProperty,B={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function q(O,W,ue){var d,v={},g=null,C=null;if(W!=null)for(d in W.ref!==void 0&&(C=W.ref),W.key!==void 0&&(g=""+W.key),W)N.call(W,d)&&!F.hasOwnProperty(d)&&(v[d]=W[d]);var S=arguments.length-2;if(S===1)v.children=ue;else if(1<S){for(var R=Array(S),X=0;X<S;X++)R[X]=arguments[X+2];v.children=R}if(O&&O.defaultProps)for(d in S=O.defaultProps,S)v[d]===void 0&&(v[d]=S[d]);return{$$typeof:r,type:O,key:g,ref:C,props:v,_owner:B.current}}function ee(O,W){return{$$typeof:r,type:O.type,key:W,ref:O.ref,props:O.props,_owner:O._owner}}function Q(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function pe(O){var W={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return W[ue]})}var _e=/\/+/g;function Pe(O,W){return typeof O=="object"&&O!==null&&O.key!=null?pe(""+O.key):W.toString(36)}function Ue(O,W,ue,d,v){var g=typeof O;(g==="undefined"||g==="boolean")&&(O=null);var C=!1;if(O===null)C=!0;else switch(g){case"string":case"number":C=!0;break;case"object":switch(O.$$typeof){case r:case n:C=!0}}if(C)return C=O,v=v(C),O=d===""?"."+Pe(C,0):d,P(v)?(ue="",O!=null&&(ue=O.replace(_e,"$&/")+"/"),Ue(v,W,ue,"",function(X){return X})):v!=null&&(Q(v)&&(v=ee(v,ue+(!v.key||C&&C.key===v.key?"":(""+v.key).replace(_e,"$&/")+"/")+O)),W.push(v)),1;if(C=0,d=d===""?".":d+":",P(O))for(var S=0;S<O.length;S++){g=O[S];var R=d+Pe(g,S);C+=Ue(g,W,ue,R,v)}else if(R=x(O),typeof R=="function")for(O=R.call(O),S=0;!(g=O.next()).done;)g=g.value,R=d+Pe(g,S++),C+=Ue(g,W,ue,R,v);else if(g==="object")throw W=String(O),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return C}function Ye(O,W,ue){if(O==null)return O;var d=[],v=0;return Ue(O,d,"","",function(g){return W.call(ue,g,v++)}),d}function We(O){if(O._status===-1){var W=O._result;W=W(),W.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=W)}if(O._status===1)return O._result.default;throw O._result}var Ce={current:null},Z={transition:null},ae={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Z,ReactCurrentOwner:B};function te(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:Ye,forEach:function(O,W,ue){Ye(O,function(){W.apply(this,arguments)},ue)},count:function(O){var W=0;return Ye(O,function(){W++}),W},toArray:function(O){return Ye(O,function(W){return W})||[]},only:function(O){if(!Q(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},we.Component=z,we.Fragment=i,we.Profiler=a,we.PureComponent=$,we.StrictMode=s,we.Suspense=h,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,we.act=te,we.cloneElement=function(O,W,ue){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var d=A({},O.props),v=O.key,g=O.ref,C=O._owner;if(W!=null){if(W.ref!==void 0&&(g=W.ref,C=B.current),W.key!==void 0&&(v=""+W.key),O.type&&O.type.defaultProps)var S=O.type.defaultProps;for(R in W)N.call(W,R)&&!F.hasOwnProperty(R)&&(d[R]=W[R]===void 0&&S!==void 0?S[R]:W[R])}var R=arguments.length-2;if(R===1)d.children=ue;else if(1<R){S=Array(R);for(var X=0;X<R;X++)S[X]=arguments[X+2];d.children=S}return{$$typeof:r,type:O.type,key:v,ref:g,props:d,_owner:C}},we.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},we.createElement=q,we.createFactory=function(O){var W=q.bind(null,O);return W.type=O,W},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:m,render:O}},we.isValidElement=Q,we.lazy=function(O){return{$$typeof:w,_payload:{_status:-1,_result:O},_init:We}},we.memo=function(O,W){return{$$typeof:y,type:O,compare:W===void 0?null:W}},we.startTransition=function(O){var W=Z.transition;Z.transition={};try{O()}finally{Z.transition=W}},we.unstable_act=te,we.useCallback=function(O,W){return Ce.current.useCallback(O,W)},we.useContext=function(O){return Ce.current.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O){return Ce.current.useDeferredValue(O)},we.useEffect=function(O,W){return Ce.current.useEffect(O,W)},we.useId=function(){return Ce.current.useId()},we.useImperativeHandle=function(O,W,ue){return Ce.current.useImperativeHandle(O,W,ue)},we.useInsertionEffect=function(O,W){return Ce.current.useInsertionEffect(O,W)},we.useLayoutEffect=function(O,W){return Ce.current.useLayoutEffect(O,W)},we.useMemo=function(O,W){return Ce.current.useMemo(O,W)},we.useReducer=function(O,W,ue){return Ce.current.useReducer(O,W,ue)},we.useRef=function(O){return Ce.current.useRef(O)},we.useState=function(O){return Ce.current.useState(O)},we.useSyncExternalStore=function(O,W,ue){return Ce.current.useSyncExternalStore(O,W,ue)},we.useTransition=function(){return Ce.current.useTransition()},we.version="18.3.1",we}var bp;function hu(){return bp||(bp=1,fc.exports=Wy()),fc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function Jy(){if(Cp)return fo;Cp=1;var r=hu(),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,h,y){var w,b={},x=null,M=null;y!==void 0&&(x=""+y),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(M=h.ref);for(w in h)s.call(h,w)&&!c.hasOwnProperty(w)&&(b[w]=h[w]);if(m&&m.defaultProps)for(w in h=m.defaultProps,h)b[w]===void 0&&(b[w]=h[w]);return{$$typeof:n,type:m,key:x,ref:M,props:b,_owner:a.current}}return fo.Fragment=i,fo.jsx=f,fo.jsxs=f,fo}var Ep;function Hy(){return Ep||(Ep=1,dc.exports=Jy()),dc.exports}var ge=Hy(),Se=hu();const mu=ha(Se);var Is={},pc={exports:{}},Tt={},hc={exports:{}},mc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function qy(){return Tp||(Tp=1,function(r){function n(Z,ae){var te=Z.length;Z.push(ae);e:for(;0<te;){var O=te-1>>>1,W=Z[O];if(0<a(W,ae))Z[O]=ae,Z[te]=W,te=O;else break e}}function i(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ae=Z[0],te=Z.pop();if(te!==ae){Z[0]=te;e:for(var O=0,W=Z.length,ue=W>>>1;O<ue;){var d=2*(O+1)-1,v=Z[d],g=d+1,C=Z[g];if(0>a(v,te))g<W&&0>a(C,v)?(Z[O]=C,Z[g]=te,O=g):(Z[O]=v,Z[d]=te,O=d);else if(g<W&&0>a(C,te))Z[O]=C,Z[g]=te,O=g;else break e}}return ae}function a(Z,ae){var te=Z.sortIndex-ae.sortIndex;return te!==0?te:Z.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var h=[],y=[],w=1,b=null,x=3,M=!1,A=!1,D=!1,z=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(Z){for(var ae=i(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=Z)s(y),ae.sortIndex=ae.expirationTime,n(h,ae);else break;ae=i(y)}}function P(Z){if(D=!1,V(Z),!A)if(i(h)!==null)A=!0,We(N);else{var ae=i(y);ae!==null&&Ce(P,ae.startTime-Z)}}function N(Z,ae){A=!1,D&&(D=!1,U(q),q=-1),M=!0;var te=x;try{for(V(ae),b=i(h);b!==null&&(!(b.expirationTime>ae)||Z&&!pe());){var O=b.callback;if(typeof O=="function"){b.callback=null,x=b.priorityLevel;var W=O(b.expirationTime<=ae);ae=r.unstable_now(),typeof W=="function"?b.callback=W:b===i(h)&&s(h),V(ae)}else s(h);b=i(h)}if(b!==null)var ue=!0;else{var d=i(y);d!==null&&Ce(P,d.startTime-ae),ue=!1}return ue}finally{b=null,x=te,M=!1}}var B=!1,F=null,q=-1,ee=5,Q=-1;function pe(){return!(r.unstable_now()-Q<ee)}function _e(){if(F!==null){var Z=r.unstable_now();Q=Z;var ae=!0;try{ae=F(!0,Z)}finally{ae?Pe():(B=!1,F=null)}}else B=!1}var Pe;if(typeof $=="function")Pe=function(){$(_e)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Ye=Ue.port2;Ue.port1.onmessage=_e,Pe=function(){Ye.postMessage(null)}}else Pe=function(){z(_e,0)};function We(Z){F=Z,B||(B=!0,Pe())}function Ce(Z,ae){q=z(function(){Z(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_continueExecution=function(){A||M||(A=!0,We(N))},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return i(h)},r.unstable_next=function(Z){switch(x){case 1:case 2:case 3:var ae=3;break;default:ae=x}var te=x;x=ae;try{return Z()}finally{x=te}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var te=x;x=Z;try{return ae()}finally{x=te}},r.unstable_scheduleCallback=function(Z,ae,te){var O=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?O+te:O):te=O,Z){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=te+W,Z={id:w++,callback:ae,priorityLevel:Z,startTime:te,expirationTime:W,sortIndex:-1},te>O?(Z.sortIndex=te,n(y,Z),i(h)===null&&Z===i(y)&&(D?(U(q),q=-1):D=!0,Ce(P,te-O))):(Z.sortIndex=W,n(h,Z),A||M||(A=!0,We(N))),Z},r.unstable_shouldYield=pe,r.unstable_wrapCallback=function(Z){var ae=x;return function(){var te=x;x=ae;try{return Z.apply(this,arguments)}finally{x=te}}}}(mc)),mc}var Mp;function Qy(){return Mp||(Mp=1,hc.exports=qy()),hc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function Gy(){if(Pp)return Tt;Pp=1;var r=hu(),n=Qy();function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},b={};function x(e){return h.call(b,e)?!0:h.call(w,e)?!1:y.test(e)?b[e]=!0:(w[e]=!0,!1)}function M(e,t,o,l){if(o!==null&&o.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,t,o,l){if(t===null||typeof t>"u"||M(e,t,o,l))return!0;if(l)return!1;if(o!==null)switch(o.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function D(e,t,o,l,u,p,_){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=o,this.propertyName=e,this.type=t,this.sanitizeURL=p,this.removeEmptyString=_}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new D(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];z[t]=new D(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new D(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new D(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new D(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){z[e]=new D(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){z[e]=new D(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){z[e]=new D(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){z[e]=new D(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function $(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U,$);z[t]=new D(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U,$);z[t]=new D(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U,$);z[t]=new D(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){z[e]=new D(e,1,!1,e.toLowerCase(),null,!1,!1)}),z.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){z[e]=new D(e,1,!1,e.toLowerCase(),null,!0,!0)});function V(e,t,o,l){var u=z.hasOwnProperty(t)?z[t]:null;(u!==null?u.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A(t,o,u,l)&&(o=null),l||u===null?x(t)&&(o===null?e.removeAttribute(t):e.setAttribute(t,""+o)):u.mustUseProperty?e[u.propertyName]=o===null?u.type===3?!1:"":o:(t=u.attributeName,l=u.attributeNamespace,o===null?e.removeAttribute(t):(u=u.type,o=u===3||u===4&&o===!0?"":""+o,l?e.setAttributeNS(l,t,o):e.setAttribute(t,o))))}var P=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),B=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),pe=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),Ye=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,O;function W(e){if(O===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return`
`+O+e}var ue=!1;function d(e,t){if(!e||ue)return"";ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(I){var l=I}Reflect.construct(e,[],t)}else{try{t.call()}catch(I){l=I}e.call(t.prototype)}else{try{throw Error()}catch(I){l=I}e()}}catch(I){if(I&&l&&typeof I.stack=="string"){for(var u=I.stack.split(`
`),p=l.stack.split(`
`),_=u.length-1,k=p.length-1;1<=_&&0<=k&&u[_]!==p[k];)k--;for(;1<=_&&0<=k;_--,k--)if(u[_]!==p[k]){if(_!==1||k!==1)do if(_--,k--,0>k||u[_]!==p[k]){var E=`
`+u[_].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=_&&0<=k);break}}}finally{ue=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?W(e):""}function v(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=d(e.type,!1),e;case 11:return e=d(e.type.render,!1),e;case 1:return e=d(e.type,!0),e;default:return""}}function g(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case B:return"Portal";case ee:return"Profiler";case q:return"StrictMode";case Pe:return"Suspense";case Ue:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pe:return(e.displayName||"Context")+".Consumer";case Q:return(e._context.displayName||"Context")+".Provider";case _e:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ye:return t=e.displayName||null,t!==null?t:g(e.type)||"Memo";case We:t=e._payload,e=e._init;try{return g(e(t))}catch{}}return null}function C(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return g(t);case 8:return t===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function S(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function R(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function X(e){var t=R(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,p=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(_){l=""+_,p.call(this,_)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function le(e){e._valueTracker||(e._valueTracker=X(e))}function ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var o=t.getValue(),l="";return e&&(l=R(e)?e.checked?"true":"false":e.value),e=l,e!==o?(t.setValue(e),!0):!1}function qe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Re(e,t){var o=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Rt(e,t){var o=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;o=S(t.value!=null?t.value:o),e._wrapperState={initialChecked:l,initialValue:o,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qt(e,t){t=t.checked,t!=null&&V(e,"checked",t,!1)}function xt(e,t){Qt(e,t);var o=S(t.value),l=t.type;if(o!=null)l==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_n(e,t.type,o):t.hasOwnProperty("defaultValue")&&_n(e,t.type,S(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dr(e,t,o){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,o||t===e.value||(e.value=t),e.defaultValue=t}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function _n(e,t,o){(t!=="number"||qe(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Qe=Array.isArray;function ft(e,t,o,l){if(e=e.options,t){t={};for(var u=0;u<o.length;u++)t["$"+o[u]]=!0;for(o=0;o<e.length;o++)u=t.hasOwnProperty("$"+e[o].value),e[o].selected!==u&&(e[o].selected=u),u&&l&&(e[o].defaultSelected=!0)}else{for(o=""+S(o),t=null,u=0;u<e.length;u++){if(e[u].value===o){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Gt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(i(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dn(e,t){var o=t.value;if(o==null){if(o=t.children,t=t.defaultValue,o!=null){if(t!=null)throw Error(i(92));if(Qe(o)){if(1<o.length)throw Error(i(93));o=o[0]}t=o}t==null&&(t=""),o=t}e._wrapperState={initialValue:S(o)}}function Vr(e,t){var o=S(t.value),l=S(t.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),t.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),l!=null&&(e.defaultValue=""+l)}function Wr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ju(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ka(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ju(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Po,Du=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,o,l,u){MSApp.execUnsafeLocalFunction(function(){return e(t,o,l,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Po=Po||document.createElement("div"),Po.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Po.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mi(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=t;return}}e.textContent=t}var Pi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qv=["Webkit","ms","Moz","O"];Object.keys(Pi).forEach(function(e){Qv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pi[t]=Pi[e]})});function Iu(e,t,o){return t==null||typeof t=="boolean"||t===""?"":o||typeof t!="number"||t===0||Pi.hasOwnProperty(e)&&Pi[e]?(""+t).trim():t+"px"}function Ru(e,t){e=e.style;for(var o in t)if(t.hasOwnProperty(o)){var l=o.indexOf("--")===0,u=Iu(o,t[o],l);o==="float"&&(o="cssFloat"),l?e.setProperty(o,u):e[o]=u}}var Gv=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ba(e,t){if(t){if(Gv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(i(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(i(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(t.style!=null&&typeof t.style!="object")throw Error(i(62))}}function Ca(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ea=null;function Ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,Jr=null,Hr=null;function Fu(e){if(e=Ki(e)){if(typeof Ma!="function")throw Error(i(280));var t=e.stateNode;t&&(t=Yo(t),Ma(e.stateNode,e.type,t))}}function Bu(e){Jr?Hr?Hr.push(e):Hr=[e]:Jr=e}function Uu(){if(Jr){var e=Jr,t=Hr;if(Hr=Jr=null,Fu(e),t)for(e=0;e<t.length;e++)Fu(t[e])}}function $u(e,t){return e(t)}function zu(){}var Pa=!1;function Vu(e,t,o){if(Pa)return e(t,o);Pa=!0;try{return $u(e,t,o)}finally{Pa=!1,(Jr!==null||Hr!==null)&&(zu(),Uu())}}function Oi(e,t){var o=e.stateNode;if(o===null)return null;var l=Yo(o);if(l===null)return null;o=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(i(231,t,typeof o));return o}var Oa=!1;if(m)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){Oa=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{Oa=!1}function Kv(e,t,o,l,u,p,_,k,E){var I=Array.prototype.slice.call(arguments,3);try{t.apply(o,I)}catch(G){this.onError(G)}}var Li=!1,Oo=null,xo=!1,xa=null,Yv={onError:function(e){Li=!0,Oo=e}};function Xv(e,t,o,l,u,p,_,k,E){Li=!1,Oo=null,Kv.apply(Yv,arguments)}function Zv(e,t,o,l,u,p,_,k,E){if(Xv.apply(this,arguments),Li){if(Li){var I=Oo;Li=!1,Oo=null}else throw Error(i(198));xo||(xo=!0,xa=I)}}function fr(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function Wu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ju(e){if(fr(e)!==e)throw Error(i(188))}function eg(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(i(188));return t!==e?null:e}for(var o=e,l=t;;){var u=o.return;if(u===null)break;var p=u.alternate;if(p===null){if(l=u.return,l!==null){o=l;continue}break}if(u.child===p.child){for(p=u.child;p;){if(p===o)return Ju(u),e;if(p===l)return Ju(u),t;p=p.sibling}throw Error(i(188))}if(o.return!==l.return)o=u,l=p;else{for(var _=!1,k=u.child;k;){if(k===o){_=!0,o=u,l=p;break}if(k===l){_=!0,l=u,o=p;break}k=k.sibling}if(!_){for(k=p.child;k;){if(k===o){_=!0,o=p,l=u;break}if(k===l){_=!0,l=p,o=u;break}k=k.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==l)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?e:t}function Hu(e){return e=eg(e),e!==null?qu(e):null}function qu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qu(e);if(t!==null)return t;e=e.sibling}return null}var Qu=n.unstable_scheduleCallback,Gu=n.unstable_cancelCallback,tg=n.unstable_shouldYield,ng=n.unstable_requestPaint,Xe=n.unstable_now,rg=n.unstable_getCurrentPriorityLevel,La=n.unstable_ImmediatePriority,Ku=n.unstable_UserBlockingPriority,Lo=n.unstable_NormalPriority,ig=n.unstable_LowPriority,Yu=n.unstable_IdlePriority,Ao=null,dn=null;function og(e){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Ao,e,void 0,(e.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:lg,sg=Math.log,ag=Math.LN2;function lg(e){return e>>>=0,e===0?32:31-(sg(e)/ag|0)|0}var No=64,jo=4194304;function Ai(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Do(e,t){var o=e.pendingLanes;if(o===0)return 0;var l=0,u=e.suspendedLanes,p=e.pingedLanes,_=o&268435455;if(_!==0){var k=_&~u;k!==0?l=Ai(k):(p&=_,p!==0&&(l=Ai(p)))}else _=o&~u,_!==0?l=Ai(_):p!==0&&(l=Ai(p));if(l===0)return 0;if(t!==0&&t!==l&&!(t&u)&&(u=l&-l,p=t&-t,u>=p||u===16&&(p&4194240)!==0))return t;if(l&4&&(l|=o&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)o=31-Kt(t),u=1<<o,l|=e[o],t&=~u;return l}function cg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ug(e,t){for(var o=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,p=e.pendingLanes;0<p;){var _=31-Kt(p),k=1<<_,E=u[_];E===-1?(!(k&o)||k&l)&&(u[_]=cg(k,t)):E<=t&&(e.expiredLanes|=k),p&=~k}}function Aa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xu(){var e=No;return No<<=1,!(No&4194240)&&(No=64),e}function Na(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function Ni(e,t,o){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Kt(t),e[t]=o}function dg(e,t){var o=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<o;){var u=31-Kt(o),p=1<<u;t[u]=0,l[u]=-1,e[u]=-1,o&=~p}}function ja(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var l=31-Kt(o),u=1<<l;u&t|e[l]&t&&(e[l]|=t),o&=~u}}var Le=0;function Zu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ed,Da,td,nd,rd,Ia=!1,Io=[],In=null,Rn=null,Fn=null,ji=new Map,Di=new Map,Bn=[],fg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function id(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Di.delete(t.pointerId)}}function Ii(e,t,o,l,u,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:o,eventSystemFlags:l,nativeEvent:p,targetContainers:[u]},t!==null&&(t=Ki(t),t!==null&&Da(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function pg(e,t,o,l,u){switch(t){case"focusin":return In=Ii(In,e,t,o,l,u),!0;case"dragenter":return Rn=Ii(Rn,e,t,o,l,u),!0;case"mouseover":return Fn=Ii(Fn,e,t,o,l,u),!0;case"pointerover":var p=u.pointerId;return ji.set(p,Ii(ji.get(p)||null,e,t,o,l,u)),!0;case"gotpointercapture":return p=u.pointerId,Di.set(p,Ii(Di.get(p)||null,e,t,o,l,u)),!0}return!1}function od(e){var t=pr(e.target);if(t!==null){var o=fr(t);if(o!==null){if(t=o.tag,t===13){if(t=Wu(o),t!==null){e.blockedOn=t,rd(e.priority,function(){td(o)});return}}else if(t===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ro(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var o=Fa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var l=new o.constructor(o.type,o);Ea=l,o.target.dispatchEvent(l),Ea=null}else return t=Ki(o),t!==null&&Da(t),e.blockedOn=o,!1;t.shift()}return!0}function sd(e,t,o){Ro(e)&&o.delete(t)}function hg(){Ia=!1,In!==null&&Ro(In)&&(In=null),Rn!==null&&Ro(Rn)&&(Rn=null),Fn!==null&&Ro(Fn)&&(Fn=null),ji.forEach(sd),Di.forEach(sd)}function Ri(e,t){e.blockedOn===t&&(e.blockedOn=null,Ia||(Ia=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,hg)))}function Fi(e){function t(u){return Ri(u,e)}if(0<Io.length){Ri(Io[0],e);for(var o=1;o<Io.length;o++){var l=Io[o];l.blockedOn===e&&(l.blockedOn=null)}}for(In!==null&&Ri(In,e),Rn!==null&&Ri(Rn,e),Fn!==null&&Ri(Fn,e),ji.forEach(t),Di.forEach(t),o=0;o<Bn.length;o++)l=Bn[o],l.blockedOn===e&&(l.blockedOn=null);for(;0<Bn.length&&(o=Bn[0],o.blockedOn===null);)od(o),o.blockedOn===null&&Bn.shift()}var qr=P.ReactCurrentBatchConfig,Fo=!0;function mg(e,t,o,l){var u=Le,p=qr.transition;qr.transition=null;try{Le=1,Ra(e,t,o,l)}finally{Le=u,qr.transition=p}}function vg(e,t,o,l){var u=Le,p=qr.transition;qr.transition=null;try{Le=4,Ra(e,t,o,l)}finally{Le=u,qr.transition=p}}function Ra(e,t,o,l){if(Fo){var u=Fa(e,t,o,l);if(u===null)tl(e,t,l,Bo,o),id(e,l);else if(pg(u,e,t,o,l))l.stopPropagation();else if(id(e,l),t&4&&-1<fg.indexOf(e)){for(;u!==null;){var p=Ki(u);if(p!==null&&ed(p),p=Fa(e,t,o,l),p===null&&tl(e,t,l,Bo,o),p===u)break;u=p}u!==null&&l.stopPropagation()}else tl(e,t,l,null,o)}}var Bo=null;function Fa(e,t,o,l){if(Bo=null,e=Ta(l),e=pr(e),e!==null)if(t=fr(e),t===null)e=null;else if(o=t.tag,o===13){if(e=Wu(t),e!==null)return e;e=null}else if(o===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bo=e,null}function ad(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rg()){case La:return 1;case Ku:return 4;case Lo:case ig:return 16;case Yu:return 536870912;default:return 16}default:return 16}}var Un=null,Ba=null,Uo=null;function ld(){if(Uo)return Uo;var e,t=Ba,o=t.length,l,u="value"in Un?Un.value:Un.textContent,p=u.length;for(e=0;e<o&&t[e]===u[e];e++);var _=o-e;for(l=1;l<=_&&t[o-l]===u[p-l];l++);return Uo=u.slice(e,1<l?1-l:void 0)}function $o(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zo(){return!0}function cd(){return!1}function Lt(e){function t(o,l,u,p,_){this._reactName=o,this._targetInst=u,this.type=l,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var k in e)e.hasOwnProperty(k)&&(o=e[k],this[k]=o?o(p):p[k]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?zo:cd,this.isPropagationStopped=cd,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zo)},persist:function(){},isPersistent:zo}),t}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Lt(Qr),Bi=te({},Qr,{view:0,detail:0}),gg=Lt(Bi),$a,za,Ui,Vo=te({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ui&&(Ui&&e.type==="mousemove"?($a=e.screenX-Ui.screenX,za=e.screenY-Ui.screenY):za=$a=0,Ui=e),$a)},movementY:function(e){return"movementY"in e?e.movementY:za}}),ud=Lt(Vo),yg=te({},Vo,{dataTransfer:0}),_g=Lt(yg),wg=te({},Bi,{relatedTarget:0}),Va=Lt(wg),Sg=te({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),kg=Lt(Sg),bg=te({},Qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cg=Lt(bg),Eg=te({},Qr,{data:0}),dd=Lt(Eg),Tg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Og(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Pg[e])?!!t[e]:!1}function Wa(){return Og}var xg=te({},Bi,{key:function(e){if(e.key){var t=Tg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$o(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(e){return e.type==="keypress"?$o(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$o(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lg=Lt(xg),Ag=te({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fd=Lt(Ag),Ng=te({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),jg=Lt(Ng),Dg=te({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ig=Lt(Dg),Rg=te({},Vo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fg=Lt(Rg),Bg=[9,13,27,32],Ja=m&&"CompositionEvent"in window,$i=null;m&&"documentMode"in document&&($i=document.documentMode);var Ug=m&&"TextEvent"in window&&!$i,pd=m&&(!Ja||$i&&8<$i&&11>=$i),hd=" ",md=!1;function vd(e,t){switch(e){case"keyup":return Bg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function $g(e,t){switch(e){case"compositionend":return gd(t);case"keypress":return t.which!==32?null:(md=!0,hd);case"textInput":return e=t.data,e===hd&&md?null:e;default:return null}}function zg(e,t){if(Gr)return e==="compositionend"||!Ja&&vd(e,t)?(e=ld(),Uo=Ba=Un=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pd&&t.locale!=="ko"?null:t.data;default:return null}}var Vg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vg[e.type]:t==="textarea"}function _d(e,t,o,l){Bu(l),t=Qo(t,"onChange"),0<t.length&&(o=new Ua("onChange","change",null,o,l),e.push({event:o,listeners:t}))}var zi=null,Vi=null;function Wg(e){Rd(e,0)}function Wo(e){var t=ei(e);if(ke(t))return e}function Jg(e,t){if(e==="change")return t}var wd=!1;if(m){var Ha;if(m){var qa="oninput"in document;if(!qa){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),qa=typeof Sd.oninput=="function"}Ha=qa}else Ha=!1;wd=Ha&&(!document.documentMode||9<document.documentMode)}function kd(){zi&&(zi.detachEvent("onpropertychange",bd),Vi=zi=null)}function bd(e){if(e.propertyName==="value"&&Wo(Vi)){var t=[];_d(t,Vi,e,Ta(e)),Vu(Wg,t)}}function Hg(e,t,o){e==="focusin"?(kd(),zi=t,Vi=o,zi.attachEvent("onpropertychange",bd)):e==="focusout"&&kd()}function qg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wo(Vi)}function Qg(e,t){if(e==="click")return Wo(t)}function Gg(e,t){if(e==="input"||e==="change")return Wo(t)}function Kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:Kg;function Wi(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),l=Object.keys(t);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var u=o[l];if(!h.call(t,u)||!Yt(e[u],t[u]))return!1}return!0}function Cd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ed(e,t){var o=Cd(e);e=0;for(var l;o;){if(o.nodeType===3){if(l=e+o.textContent.length,e<=t&&l>=t)return{node:o,offset:t-e};e=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Cd(o)}}function Td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Md(){for(var e=window,t=qe();t instanceof e.HTMLIFrameElement;){try{var o=typeof t.contentWindow.location.href=="string"}catch{o=!1}if(o)e=t.contentWindow;else break;t=qe(e.document)}return t}function Qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yg(e){var t=Md(),o=e.focusedElem,l=e.selectionRange;if(t!==o&&o&&o.ownerDocument&&Td(o.ownerDocument.documentElement,o)){if(l!==null&&Qa(o)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in o)o.selectionStart=t,o.selectionEnd=Math.min(e,o.value.length);else if(e=(t=o.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=o.textContent.length,p=Math.min(l.start,u);l=l.end===void 0?p:Math.min(l.end,u),!e.extend&&p>l&&(u=l,l=p,p=u),u=Ed(o,p);var _=Ed(o,l);u&&_&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==_.node||e.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),p>l?(e.addRange(t),e.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),e.addRange(t)))}}for(t=[],e=o;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<t.length;o++)e=t[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xg=m&&"documentMode"in document&&11>=document.documentMode,Kr=null,Ga=null,Ji=null,Ka=!1;function Pd(e,t,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ka||Kr==null||Kr!==qe(l)||(l=Kr,"selectionStart"in l&&Qa(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ji&&Wi(Ji,l)||(Ji=l,l=Qo(Ga,"onSelect"),0<l.length&&(t=new Ua("onSelect","select",null,t,o),e.push({event:t,listeners:l}),t.target=Kr)))}function Jo(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o}var Yr={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionend:Jo("Transition","TransitionEnd")},Ya={},Od={};m&&(Od=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Ho(e){if(Ya[e])return Ya[e];if(!Yr[e])return e;var t=Yr[e],o;for(o in t)if(t.hasOwnProperty(o)&&o in Od)return Ya[e]=t[o];return e}var xd=Ho("animationend"),Ld=Ho("animationiteration"),Ad=Ho("animationstart"),Nd=Ho("transitionend"),jd=new Map,Dd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(e,t){jd.set(e,t),c(t,[e])}for(var Xa=0;Xa<Dd.length;Xa++){var Za=Dd[Xa],Zg=Za.toLowerCase(),ey=Za[0].toUpperCase()+Za.slice(1);$n(Zg,"on"+ey)}$n(xd,"onAnimationEnd"),$n(Ld,"onAnimationIteration"),$n(Ad,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(Nd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ty=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hi));function Id(e,t,o){var l=e.type||"unknown-event";e.currentTarget=o,Zv(l,t,void 0,e),e.currentTarget=null}function Rd(e,t){t=(t&4)!==0;for(var o=0;o<e.length;o++){var l=e[o],u=l.event;l=l.listeners;e:{var p=void 0;if(t)for(var _=l.length-1;0<=_;_--){var k=l[_],E=k.instance,I=k.currentTarget;if(k=k.listener,E!==p&&u.isPropagationStopped())break e;Id(u,k,I),p=E}else for(_=0;_<l.length;_++){if(k=l[_],E=k.instance,I=k.currentTarget,k=k.listener,E!==p&&u.isPropagationStopped())break e;Id(u,k,I),p=E}}}if(xo)throw e=xa,xo=!1,xa=null,e}function $e(e,t){var o=t[al];o===void 0&&(o=t[al]=new Set);var l=e+"__bubble";o.has(l)||(Fd(t,e,2,!1),o.add(l))}function el(e,t,o){var l=0;t&&(l|=4),Fd(o,e,l,t)}var qo="_reactListening"+Math.random().toString(36).slice(2);function qi(e){if(!e[qo]){e[qo]=!0,s.forEach(function(o){o!=="selectionchange"&&(ty.has(o)||el(o,!1,e),el(o,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qo]||(t[qo]=!0,el("selectionchange",!1,t))}}function Fd(e,t,o,l){switch(ad(t)){case 1:var u=mg;break;case 4:u=vg;break;default:u=Ra}o=u.bind(null,t,o,e),u=void 0,!Oa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,o,{capture:!0,passive:u}):e.addEventListener(t,o,!0):u!==void 0?e.addEventListener(t,o,{passive:u}):e.addEventListener(t,o,!1)}function tl(e,t,o,l,u){var p=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var k=l.stateNode.containerInfo;if(k===u||k.nodeType===8&&k.parentNode===u)break;if(_===4)for(_=l.return;_!==null;){var E=_.tag;if((E===3||E===4)&&(E=_.stateNode.containerInfo,E===u||E.nodeType===8&&E.parentNode===u))return;_=_.return}for(;k!==null;){if(_=pr(k),_===null)return;if(E=_.tag,E===5||E===6){l=p=_;continue e}k=k.parentNode}}l=l.return}Vu(function(){var I=p,G=Ta(o),K=[];e:{var H=jd.get(e);if(H!==void 0){var ne=Ua,ie=e;switch(e){case"keypress":if($o(o)===0)break e;case"keydown":case"keyup":ne=Lg;break;case"focusin":ie="focus",ne=Va;break;case"focusout":ie="blur",ne=Va;break;case"beforeblur":case"afterblur":ne=Va;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=_g;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=jg;break;case xd:case Ld:case Ad:ne=kg;break;case Nd:ne=Ig;break;case"scroll":ne=gg;break;case"wheel":ne=Fg;break;case"copy":case"cut":case"paste":ne=Cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=fd}var oe=(t&4)!==0,Ze=!oe&&e==="scroll",L=oe?H!==null?H+"Capture":null:H;oe=[];for(var T=I,j;T!==null;){j=T;var Y=j.stateNode;if(j.tag===5&&Y!==null&&(j=Y,L!==null&&(Y=Oi(T,L),Y!=null&&oe.push(Qi(T,Y,j)))),Ze)break;T=T.return}0<oe.length&&(H=new ne(H,ie,null,o,G),K.push({event:H,listeners:oe}))}}if(!(t&7)){e:{if(H=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",H&&o!==Ea&&(ie=o.relatedTarget||o.fromElement)&&(pr(ie)||ie[wn]))break e;if((ne||H)&&(H=G.window===G?G:(H=G.ownerDocument)?H.defaultView||H.parentWindow:window,ne?(ie=o.relatedTarget||o.toElement,ne=I,ie=ie?pr(ie):null,ie!==null&&(Ze=fr(ie),ie!==Ze||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ne=null,ie=I),ne!==ie)){if(oe=ud,Y="onMouseLeave",L="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(oe=fd,Y="onPointerLeave",L="onPointerEnter",T="pointer"),Ze=ne==null?H:ei(ne),j=ie==null?H:ei(ie),H=new oe(Y,T+"leave",ne,o,G),H.target=Ze,H.relatedTarget=j,Y=null,pr(G)===I&&(oe=new oe(L,T+"enter",ie,o,G),oe.target=j,oe.relatedTarget=Ze,Y=oe),Ze=Y,ne&&ie)t:{for(oe=ne,L=ie,T=0,j=oe;j;j=Xr(j))T++;for(j=0,Y=L;Y;Y=Xr(Y))j++;for(;0<T-j;)oe=Xr(oe),T--;for(;0<j-T;)L=Xr(L),j--;for(;T--;){if(oe===L||L!==null&&oe===L.alternate)break t;oe=Xr(oe),L=Xr(L)}oe=null}else oe=null;ne!==null&&Bd(K,H,ne,oe,!1),ie!==null&&Ze!==null&&Bd(K,Ze,ie,oe,!0)}}e:{if(H=I?ei(I):window,ne=H.nodeName&&H.nodeName.toLowerCase(),ne==="select"||ne==="input"&&H.type==="file")var se=Jg;else if(yd(H))if(wd)se=Gg;else{se=qg;var de=Hg}else(ne=H.nodeName)&&ne.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(se=Qg);if(se&&(se=se(e,I))){_d(K,se,o,G);break e}de&&de(e,H,I),e==="focusout"&&(de=H._wrapperState)&&de.controlled&&H.type==="number"&&_n(H,"number",H.value)}switch(de=I?ei(I):window,e){case"focusin":(yd(de)||de.contentEditable==="true")&&(Kr=de,Ga=I,Ji=null);break;case"focusout":Ji=Ga=Kr=null;break;case"mousedown":Ka=!0;break;case"contextmenu":case"mouseup":case"dragend":Ka=!1,Pd(K,o,G);break;case"selectionchange":if(Xg)break;case"keydown":case"keyup":Pd(K,o,G)}var fe;if(Ja)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Gr?vd(e,o)&&(he="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(he="onCompositionStart");he&&(pd&&o.locale!=="ko"&&(Gr||he!=="onCompositionStart"?he==="onCompositionEnd"&&Gr&&(fe=ld()):(Un=G,Ba="value"in Un?Un.value:Un.textContent,Gr=!0)),de=Qo(I,he),0<de.length&&(he=new dd(he,e,null,o,G),K.push({event:he,listeners:de}),fe?he.data=fe:(fe=gd(o),fe!==null&&(he.data=fe)))),(fe=Ug?$g(e,o):zg(e,o))&&(I=Qo(I,"onBeforeInput"),0<I.length&&(G=new dd("onBeforeInput","beforeinput",null,o,G),K.push({event:G,listeners:I}),G.data=fe))}Rd(K,t)})}function Qi(e,t,o){return{instance:e,listener:t,currentTarget:o}}function Qo(e,t){for(var o=t+"Capture",l=[];e!==null;){var u=e,p=u.stateNode;u.tag===5&&p!==null&&(u=p,p=Oi(e,o),p!=null&&l.unshift(Qi(e,p,u)),p=Oi(e,t),p!=null&&l.push(Qi(e,p,u))),e=e.return}return l}function Xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bd(e,t,o,l,u){for(var p=t._reactName,_=[];o!==null&&o!==l;){var k=o,E=k.alternate,I=k.stateNode;if(E!==null&&E===l)break;k.tag===5&&I!==null&&(k=I,u?(E=Oi(o,p),E!=null&&_.unshift(Qi(o,E,k))):u||(E=Oi(o,p),E!=null&&_.push(Qi(o,E,k)))),o=o.return}_.length!==0&&e.push({event:t,listeners:_})}var ny=/\r\n?/g,ry=/\u0000|\uFFFD/g;function Ud(e){return(typeof e=="string"?e:""+e).replace(ny,`
`).replace(ry,"")}function Go(e,t,o){if(t=Ud(t),Ud(e)!==t&&o)throw Error(i(425))}function Ko(){}var nl=null,rl=null;function il(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ol=typeof setTimeout=="function"?setTimeout:void 0,iy=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,oy=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(e){return $d.resolve(null).then(e).catch(sy)}:ol;function sy(e){setTimeout(function(){throw e})}function sl(e,t){var o=t,l=0;do{var u=o.nextSibling;if(e.removeChild(o),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(l===0){e.removeChild(u),Fi(t);return}l--}else o!=="$"&&o!=="$?"&&o!=="$!"||l++;o=u}while(o);Fi(t)}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(t===0)return e;t--}else o==="/$"&&t++}e=e.previousSibling}return null}var Zr=Math.random().toString(36).slice(2),fn="__reactFiber$"+Zr,Gi="__reactProps$"+Zr,wn="__reactContainer$"+Zr,al="__reactEvents$"+Zr,ay="__reactListeners$"+Zr,ly="__reactHandles$"+Zr;function pr(e){var t=e[fn];if(t)return t;for(var o=e.parentNode;o;){if(t=o[wn]||o[fn]){if(o=t.alternate,t.child!==null||o!==null&&o.child!==null)for(e=zd(e);e!==null;){if(o=e[fn])return o;e=zd(e)}return t}e=o,o=e.parentNode}return null}function Ki(e){return e=e[fn]||e[wn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ei(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(i(33))}function Yo(e){return e[Gi]||null}var ll=[],ti=-1;function Vn(e){return{current:e}}function ze(e){0>ti||(e.current=ll[ti],ll[ti]=null,ti--)}function Fe(e,t){ti++,ll[ti]=e.current,e.current=t}var Wn={},pt=Vn(Wn),St=Vn(!1),hr=Wn;function ni(e,t){var o=e.type.contextTypes;if(!o)return Wn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var u={},p;for(p in o)u[p]=t[p];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function kt(e){return e=e.childContextTypes,e!=null}function Xo(){ze(St),ze(pt)}function Vd(e,t,o){if(pt.current!==Wn)throw Error(i(168));Fe(pt,t),Fe(St,o)}function Wd(e,t,o){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return o;l=l.getChildContext();for(var u in l)if(!(u in t))throw Error(i(108,C(e)||"Unknown",u));return te({},o,l)}function Zo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wn,hr=pt.current,Fe(pt,e),Fe(St,St.current),!0}function Jd(e,t,o){var l=e.stateNode;if(!l)throw Error(i(169));o?(e=Wd(e,t,hr),l.__reactInternalMemoizedMergedChildContext=e,ze(St),ze(pt),Fe(pt,e)):ze(St),Fe(St,o)}var Sn=null,es=!1,cl=!1;function Hd(e){Sn===null?Sn=[e]:Sn.push(e)}function cy(e){es=!0,Hd(e)}function Jn(){if(!cl&&Sn!==null){cl=!0;var e=0,t=Le;try{var o=Sn;for(Le=1;e<o.length;e++){var l=o[e];do l=l(!0);while(l!==null)}Sn=null,es=!1}catch(u){throw Sn!==null&&(Sn=Sn.slice(e+1)),Qu(La,Jn),u}finally{Le=t,cl=!1}}return null}var ri=[],ii=0,ts=null,ns=0,Ft=[],Bt=0,mr=null,kn=1,bn="";function vr(e,t){ri[ii++]=ns,ri[ii++]=ts,ts=e,ns=t}function qd(e,t,o){Ft[Bt++]=kn,Ft[Bt++]=bn,Ft[Bt++]=mr,mr=e;var l=kn;e=bn;var u=32-Kt(l)-1;l&=~(1<<u),o+=1;var p=32-Kt(t)+u;if(30<p){var _=u-u%5;p=(l&(1<<_)-1).toString(32),l>>=_,u-=_,kn=1<<32-Kt(t)+u|o<<u|l,bn=p+e}else kn=1<<p|o<<u|l,bn=e}function ul(e){e.return!==null&&(vr(e,1),qd(e,1,0))}function dl(e){for(;e===ts;)ts=ri[--ii],ri[ii]=null,ns=ri[--ii],ri[ii]=null;for(;e===mr;)mr=Ft[--Bt],Ft[Bt]=null,bn=Ft[--Bt],Ft[Bt]=null,kn=Ft[--Bt],Ft[Bt]=null}var At=null,Nt=null,Ve=!1,Xt=null;function Qd(e,t){var o=Vt(5,null,null,0);o.elementType="DELETED",o.stateNode=t,o.return=e,t=e.deletions,t===null?(e.deletions=[o],e.flags|=16):t.push(o)}function Gd(e,t){switch(e.tag){case 5:var o=e.type;return t=t.nodeType!==1||o.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,At=e,Nt=zn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,At=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(o=mr!==null?{id:kn,overflow:bn}:null,e.memoizedState={dehydrated:t,treeContext:o,retryLane:1073741824},o=Vt(18,null,null,0),o.stateNode=t,o.return=e,e.child=o,At=e,Nt=null,!0):!1;default:return!1}}function fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pl(e){if(Ve){var t=Nt;if(t){var o=t;if(!Gd(e,t)){if(fl(e))throw Error(i(418));t=zn(o.nextSibling);var l=At;t&&Gd(e,t)?Qd(l,o):(e.flags=e.flags&-4097|2,Ve=!1,At=e)}}else{if(fl(e))throw Error(i(418));e.flags=e.flags&-4097|2,Ve=!1,At=e}}}function Kd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function rs(e){if(e!==At)return!1;if(!Ve)return Kd(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!il(e.type,e.memoizedProps)),t&&(t=Nt)){if(fl(e))throw Yd(),Error(i(418));for(;t;)Qd(e,t),t=zn(t.nextSibling)}if(Kd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(t===0){Nt=zn(e.nextSibling);break e}t--}else o!=="$"&&o!=="$!"&&o!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=At?zn(e.stateNode.nextSibling):null;return!0}function Yd(){for(var e=Nt;e;)e=zn(e.nextSibling)}function oi(){Nt=At=null,Ve=!1}function hl(e){Xt===null?Xt=[e]:Xt.push(e)}var uy=P.ReactCurrentBatchConfig;function Yi(e,t,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(i(309));var l=o.stateNode}if(!l)throw Error(i(147,e));var u=l,p=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===p?t.ref:(t=function(_){var k=u.refs;_===null?delete k[p]:k[p]=_},t._stringRef=p,t)}if(typeof e!="string")throw Error(i(284));if(!o._owner)throw Error(i(290,e))}return e}function is(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xd(e){var t=e._init;return t(e._payload)}function Zd(e){function t(L,T){if(e){var j=L.deletions;j===null?(L.deletions=[T],L.flags|=16):j.push(T)}}function o(L,T){if(!e)return null;for(;T!==null;)t(L,T),T=T.sibling;return null}function l(L,T){for(L=new Map;T!==null;)T.key!==null?L.set(T.key,T):L.set(T.index,T),T=T.sibling;return L}function u(L,T){return L=Zn(L,T),L.index=0,L.sibling=null,L}function p(L,T,j){return L.index=j,e?(j=L.alternate,j!==null?(j=j.index,j<T?(L.flags|=2,T):j):(L.flags|=2,T)):(L.flags|=1048576,T)}function _(L){return e&&L.alternate===null&&(L.flags|=2),L}function k(L,T,j,Y){return T===null||T.tag!==6?(T=oc(j,L.mode,Y),T.return=L,T):(T=u(T,j),T.return=L,T)}function E(L,T,j,Y){var se=j.type;return se===F?G(L,T,j.props.children,Y,j.key):T!==null&&(T.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===We&&Xd(se)===T.type)?(Y=u(T,j.props),Y.ref=Yi(L,T,j),Y.return=L,Y):(Y=Ps(j.type,j.key,j.props,null,L.mode,Y),Y.ref=Yi(L,T,j),Y.return=L,Y)}function I(L,T,j,Y){return T===null||T.tag!==4||T.stateNode.containerInfo!==j.containerInfo||T.stateNode.implementation!==j.implementation?(T=sc(j,L.mode,Y),T.return=L,T):(T=u(T,j.children||[]),T.return=L,T)}function G(L,T,j,Y,se){return T===null||T.tag!==7?(T=Cr(j,L.mode,Y,se),T.return=L,T):(T=u(T,j),T.return=L,T)}function K(L,T,j){if(typeof T=="string"&&T!==""||typeof T=="number")return T=oc(""+T,L.mode,j),T.return=L,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case N:return j=Ps(T.type,T.key,T.props,null,L.mode,j),j.ref=Yi(L,null,T),j.return=L,j;case B:return T=sc(T,L.mode,j),T.return=L,T;case We:var Y=T._init;return K(L,Y(T._payload),j)}if(Qe(T)||ae(T))return T=Cr(T,L.mode,j,null),T.return=L,T;is(L,T)}return null}function H(L,T,j,Y){var se=T!==null?T.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return se!==null?null:k(L,T,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return j.key===se?E(L,T,j,Y):null;case B:return j.key===se?I(L,T,j,Y):null;case We:return se=j._init,H(L,T,se(j._payload),Y)}if(Qe(j)||ae(j))return se!==null?null:G(L,T,j,Y,null);is(L,j)}return null}function ne(L,T,j,Y,se){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return L=L.get(j)||null,k(T,L,""+Y,se);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:return L=L.get(Y.key===null?j:Y.key)||null,E(T,L,Y,se);case B:return L=L.get(Y.key===null?j:Y.key)||null,I(T,L,Y,se);case We:var de=Y._init;return ne(L,T,j,de(Y._payload),se)}if(Qe(Y)||ae(Y))return L=L.get(j)||null,G(T,L,Y,se,null);is(T,Y)}return null}function ie(L,T,j,Y){for(var se=null,de=null,fe=T,he=T=0,st=null;fe!==null&&he<j.length;he++){fe.index>he?(st=fe,fe=null):st=fe.sibling;var Me=H(L,fe,j[he],Y);if(Me===null){fe===null&&(fe=st);break}e&&fe&&Me.alternate===null&&t(L,fe),T=p(Me,T,he),de===null?se=Me:de.sibling=Me,de=Me,fe=st}if(he===j.length)return o(L,fe),Ve&&vr(L,he),se;if(fe===null){for(;he<j.length;he++)fe=K(L,j[he],Y),fe!==null&&(T=p(fe,T,he),de===null?se=fe:de.sibling=fe,de=fe);return Ve&&vr(L,he),se}for(fe=l(L,fe);he<j.length;he++)st=ne(fe,L,he,j[he],Y),st!==null&&(e&&st.alternate!==null&&fe.delete(st.key===null?he:st.key),T=p(st,T,he),de===null?se=st:de.sibling=st,de=st);return e&&fe.forEach(function(er){return t(L,er)}),Ve&&vr(L,he),se}function oe(L,T,j,Y){var se=ae(j);if(typeof se!="function")throw Error(i(150));if(j=se.call(j),j==null)throw Error(i(151));for(var de=se=null,fe=T,he=T=0,st=null,Me=j.next();fe!==null&&!Me.done;he++,Me=j.next()){fe.index>he?(st=fe,fe=null):st=fe.sibling;var er=H(L,fe,Me.value,Y);if(er===null){fe===null&&(fe=st);break}e&&fe&&er.alternate===null&&t(L,fe),T=p(er,T,he),de===null?se=er:de.sibling=er,de=er,fe=st}if(Me.done)return o(L,fe),Ve&&vr(L,he),se;if(fe===null){for(;!Me.done;he++,Me=j.next())Me=K(L,Me.value,Y),Me!==null&&(T=p(Me,T,he),de===null?se=Me:de.sibling=Me,de=Me);return Ve&&vr(L,he),se}for(fe=l(L,fe);!Me.done;he++,Me=j.next())Me=ne(fe,L,he,Me.value,Y),Me!==null&&(e&&Me.alternate!==null&&fe.delete(Me.key===null?he:Me.key),T=p(Me,T,he),de===null?se=Me:de.sibling=Me,de=Me);return e&&fe.forEach(function(Vy){return t(L,Vy)}),Ve&&vr(L,he),se}function Ze(L,T,j,Y){if(typeof j=="object"&&j!==null&&j.type===F&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case N:e:{for(var se=j.key,de=T;de!==null;){if(de.key===se){if(se=j.type,se===F){if(de.tag===7){o(L,de.sibling),T=u(de,j.props.children),T.return=L,L=T;break e}}else if(de.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===We&&Xd(se)===de.type){o(L,de.sibling),T=u(de,j.props),T.ref=Yi(L,de,j),T.return=L,L=T;break e}o(L,de);break}else t(L,de);de=de.sibling}j.type===F?(T=Cr(j.props.children,L.mode,Y,j.key),T.return=L,L=T):(Y=Ps(j.type,j.key,j.props,null,L.mode,Y),Y.ref=Yi(L,T,j),Y.return=L,L=Y)}return _(L);case B:e:{for(de=j.key;T!==null;){if(T.key===de)if(T.tag===4&&T.stateNode.containerInfo===j.containerInfo&&T.stateNode.implementation===j.implementation){o(L,T.sibling),T=u(T,j.children||[]),T.return=L,L=T;break e}else{o(L,T);break}else t(L,T);T=T.sibling}T=sc(j,L.mode,Y),T.return=L,L=T}return _(L);case We:return de=j._init,Ze(L,T,de(j._payload),Y)}if(Qe(j))return ie(L,T,j,Y);if(ae(j))return oe(L,T,j,Y);is(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,T!==null&&T.tag===6?(o(L,T.sibling),T=u(T,j),T.return=L,L=T):(o(L,T),T=oc(j,L.mode,Y),T.return=L,L=T),_(L)):o(L,T)}return Ze}var si=Zd(!0),ef=Zd(!1),os=Vn(null),ss=null,ai=null,ml=null;function vl(){ml=ai=ss=null}function gl(e){var t=os.current;ze(os),e._currentValue=t}function yl(e,t,o){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===o)break;e=e.return}}function li(e,t){ss=e,ml=ai=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function Ut(e){var t=e._currentValue;if(ml!==e)if(e={context:e,memoizedValue:t,next:null},ai===null){if(ss===null)throw Error(i(308));ai=e,ss.dependencies={lanes:0,firstContext:e}}else ai=ai.next=e;return t}var gr=null;function _l(e){gr===null?gr=[e]:gr.push(e)}function tf(e,t,o,l){var u=t.interleaved;return u===null?(o.next=o,_l(t)):(o.next=u.next,u.next=o),t.interleaved=o,Cn(e,l)}function Cn(e,t){e.lanes|=t;var o=e.alternate;for(o!==null&&(o.lanes|=t),o=e,e=e.return;e!==null;)e.childLanes|=t,o=e.alternate,o!==null&&(o.childLanes|=t),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Hn=!1;function wl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function En(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qn(e,t,o){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,Ee&2){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,Cn(e,o)}return u=l.interleaved,u===null?(t.next=t,_l(l)):(t.next=u.next,u.next=t),l.interleaved=t,Cn(e,o)}function as(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,o|=l,t.lanes=o,ja(e,o)}}function rf(e,t){var o=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var u=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?u=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?u=p=t:p=p.next=t}else u=p=t;o={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:p,shared:l.shared,effects:l.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}function ls(e,t,o,l){var u=e.updateQueue;Hn=!1;var p=u.firstBaseUpdate,_=u.lastBaseUpdate,k=u.shared.pending;if(k!==null){u.shared.pending=null;var E=k,I=E.next;E.next=null,_===null?p=I:_.next=I,_=E;var G=e.alternate;G!==null&&(G=G.updateQueue,k=G.lastBaseUpdate,k!==_&&(k===null?G.firstBaseUpdate=I:k.next=I,G.lastBaseUpdate=E))}if(p!==null){var K=u.baseState;_=0,G=I=E=null,k=p;do{var H=k.lane,ne=k.eventTime;if((l&H)===H){G!==null&&(G=G.next={eventTime:ne,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var ie=e,oe=k;switch(H=t,ne=o,oe.tag){case 1:if(ie=oe.payload,typeof ie=="function"){K=ie.call(ne,K,H);break e}K=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=oe.payload,H=typeof ie=="function"?ie.call(ne,K,H):ie,H==null)break e;K=te({},K,H);break e;case 2:Hn=!0}}k.callback!==null&&k.lane!==0&&(e.flags|=64,H=u.effects,H===null?u.effects=[k]:H.push(k))}else ne={eventTime:ne,lane:H,tag:k.tag,payload:k.payload,callback:k.callback,next:null},G===null?(I=G=ne,E=K):G=G.next=ne,_|=H;if(k=k.next,k===null){if(k=u.shared.pending,k===null)break;H=k,k=H.next,H.next=null,u.lastBaseUpdate=H,u.shared.pending=null}}while(!0);if(G===null&&(E=K),u.baseState=E,u.firstBaseUpdate=I,u.lastBaseUpdate=G,t=u.shared.interleaved,t!==null){u=t;do _|=u.lane,u=u.next;while(u!==t)}else p===null&&(u.shared.lanes=0);wr|=_,e.lanes=_,e.memoizedState=K}}function of(e,t,o){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],u=l.callback;if(u!==null){if(l.callback=null,l=o,typeof u!="function")throw Error(i(191,u));u.call(l)}}}var Xi={},pn=Vn(Xi),Zi=Vn(Xi),eo=Vn(Xi);function yr(e){if(e===Xi)throw Error(i(174));return e}function Sl(e,t){switch(Fe(eo,t),Fe(Zi,e),Fe(pn,Xi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ka(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ka(t,e)}ze(pn),Fe(pn,t)}function ci(){ze(pn),ze(Zi),ze(eo)}function sf(e){yr(eo.current);var t=yr(pn.current),o=ka(t,e.type);t!==o&&(Fe(Zi,e),Fe(pn,o))}function kl(e){Zi.current===e&&(ze(pn),ze(Zi))}var Je=Vn(0);function cs(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bl=[];function Cl(){for(var e=0;e<bl.length;e++)bl[e]._workInProgressVersionPrimary=null;bl.length=0}var us=P.ReactCurrentDispatcher,El=P.ReactCurrentBatchConfig,_r=0,He=null,nt=null,it=null,ds=!1,to=!1,no=0,dy=0;function ht(){throw Error(i(321))}function Tl(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!Yt(e[o],t[o]))return!1;return!0}function Ml(e,t,o,l,u,p){if(_r=p,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,us.current=e===null||e.memoizedState===null?my:vy,e=o(l,u),to){p=0;do{if(to=!1,no=0,25<=p)throw Error(i(301));p+=1,it=nt=null,t.updateQueue=null,us.current=gy,e=o(l,u)}while(to)}if(us.current=hs,t=nt!==null&&nt.next!==null,_r=0,it=nt=He=null,ds=!1,t)throw Error(i(300));return e}function Pl(){var e=no!==0;return no=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?He.memoizedState=it=e:it=it.next=e,it}function $t(){if(nt===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=it===null?He.memoizedState:it.next;if(t!==null)it=t,nt=e;else{if(e===null)throw Error(i(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},it===null?He.memoizedState=it=e:it=it.next=e}return it}function ro(e,t){return typeof t=="function"?t(e):t}function Ol(e){var t=$t(),o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var l=nt,u=l.baseQueue,p=o.pending;if(p!==null){if(u!==null){var _=u.next;u.next=p.next,p.next=_}l.baseQueue=u=p,o.pending=null}if(u!==null){p=u.next,l=l.baseState;var k=_=null,E=null,I=p;do{var G=I.lane;if((_r&G)===G)E!==null&&(E=E.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),l=I.hasEagerState?I.eagerState:e(l,I.action);else{var K={lane:G,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};E===null?(k=E=K,_=l):E=E.next=K,He.lanes|=G,wr|=G}I=I.next}while(I!==null&&I!==p);E===null?_=l:E.next=k,Yt(l,t.memoizedState)||(bt=!0),t.memoizedState=l,t.baseState=_,t.baseQueue=E,o.lastRenderedState=l}if(e=o.interleaved,e!==null){u=e;do p=u.lane,He.lanes|=p,wr|=p,u=u.next;while(u!==e)}else u===null&&(o.lanes=0);return[t.memoizedState,o.dispatch]}function xl(e){var t=$t(),o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var l=o.dispatch,u=o.pending,p=t.memoizedState;if(u!==null){o.pending=null;var _=u=u.next;do p=e(p,_.action),_=_.next;while(_!==u);Yt(p,t.memoizedState)||(bt=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),o.lastRenderedState=p}return[p,l]}function af(){}function lf(e,t){var o=He,l=$t(),u=t(),p=!Yt(l.memoizedState,u);if(p&&(l.memoizedState=u,bt=!0),l=l.queue,Ll(df.bind(null,o,l,e),[e]),l.getSnapshot!==t||p||it!==null&&it.memoizedState.tag&1){if(o.flags|=2048,io(9,uf.bind(null,o,l,u,t),void 0,null),ot===null)throw Error(i(349));_r&30||cf(o,t,u)}return u}function cf(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function uf(e,t,o,l){t.value=o,t.getSnapshot=l,ff(t)&&pf(e)}function df(e,t,o){return o(function(){ff(t)&&pf(e)})}function ff(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!Yt(e,o)}catch{return!0}}function pf(e){var t=Cn(e,1);t!==null&&nn(t,e,1,-1)}function hf(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:e},t.queue=e,e=e.dispatch=hy.bind(null,He,e),[t.memoizedState,e]}function io(e,t,o,l){return e={tag:e,create:t,destroy:o,deps:l,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(o=t.lastEffect,o===null?t.lastEffect=e.next=e:(l=o.next,o.next=e,e.next=l,t.lastEffect=e)),e}function mf(){return $t().memoizedState}function fs(e,t,o,l){var u=hn();He.flags|=e,u.memoizedState=io(1|t,o,void 0,l===void 0?null:l)}function ps(e,t,o,l){var u=$t();l=l===void 0?null:l;var p=void 0;if(nt!==null){var _=nt.memoizedState;if(p=_.destroy,l!==null&&Tl(l,_.deps)){u.memoizedState=io(t,o,p,l);return}}He.flags|=e,u.memoizedState=io(1|t,o,p,l)}function vf(e,t){return fs(8390656,8,e,t)}function Ll(e,t){return ps(2048,8,e,t)}function gf(e,t){return ps(4,2,e,t)}function yf(e,t){return ps(4,4,e,t)}function _f(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wf(e,t,o){return o=o!=null?o.concat([e]):null,ps(4,4,_f.bind(null,t,e),o)}function Al(){}function Sf(e,t){var o=$t();t=t===void 0?null:t;var l=o.memoizedState;return l!==null&&t!==null&&Tl(t,l[1])?l[0]:(o.memoizedState=[e,t],e)}function kf(e,t){var o=$t();t=t===void 0?null:t;var l=o.memoizedState;return l!==null&&t!==null&&Tl(t,l[1])?l[0]:(e=e(),o.memoizedState=[e,t],e)}function bf(e,t,o){return _r&21?(Yt(o,t)||(o=Xu(),He.lanes|=o,wr|=o,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=o)}function fy(e,t){var o=Le;Le=o!==0&&4>o?o:4,e(!0);var l=El.transition;El.transition={};try{e(!1),t()}finally{Le=o,El.transition=l}}function Cf(){return $t().memoizedState}function py(e,t,o){var l=Yn(e);if(o={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null},Ef(e))Tf(t,o);else if(o=tf(e,t,o,l),o!==null){var u=_t();nn(o,e,l,u),Mf(o,t,l)}}function hy(e,t,o){var l=Yn(e),u={lane:l,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ef(e))Tf(t,u);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var _=t.lastRenderedState,k=p(_,o);if(u.hasEagerState=!0,u.eagerState=k,Yt(k,_)){var E=t.interleaved;E===null?(u.next=u,_l(t)):(u.next=E.next,E.next=u),t.interleaved=u;return}}catch{}finally{}o=tf(e,t,u,l),o!==null&&(u=_t(),nn(o,e,l,u),Mf(o,t,l))}}function Ef(e){var t=e.alternate;return e===He||t!==null&&t===He}function Tf(e,t){to=ds=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function Mf(e,t,o){if(o&4194240){var l=t.lanes;l&=e.pendingLanes,o|=l,t.lanes=o,ja(e,o)}}var hs={readContext:Ut,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},my={readContext:Ut,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:Ut,useEffect:vf,useImperativeHandle:function(e,t,o){return o=o!=null?o.concat([e]):null,fs(4194308,4,_f.bind(null,t,e),o)},useLayoutEffect:function(e,t){return fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return fs(4,2,e,t)},useMemo:function(e,t){var o=hn();return t=t===void 0?null:t,e=e(),o.memoizedState=[e,t],e},useReducer:function(e,t,o){var l=hn();return t=o!==void 0?o(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=py.bind(null,He,e),[l.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:hf,useDebugValue:Al,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=hf(!1),t=e[0];return e=fy.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,o){var l=He,u=hn();if(Ve){if(o===void 0)throw Error(i(407));o=o()}else{if(o=t(),ot===null)throw Error(i(349));_r&30||cf(l,t,o)}u.memoizedState=o;var p={value:o,getSnapshot:t};return u.queue=p,vf(df.bind(null,l,p,e),[e]),l.flags|=2048,io(9,uf.bind(null,l,p,o,t),void 0,null),o},useId:function(){var e=hn(),t=ot.identifierPrefix;if(Ve){var o=bn,l=kn;o=(l&~(1<<32-Kt(l)-1)).toString(32)+o,t=":"+t+"R"+o,o=no++,0<o&&(t+="H"+o.toString(32)),t+=":"}else o=dy++,t=":"+t+"r"+o.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vy={readContext:Ut,useCallback:Sf,useContext:Ut,useEffect:Ll,useImperativeHandle:wf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:kf,useReducer:Ol,useRef:mf,useState:function(){return Ol(ro)},useDebugValue:Al,useDeferredValue:function(e){var t=$t();return bf(t,nt.memoizedState,e)},useTransition:function(){var e=Ol(ro)[0],t=$t().memoizedState;return[e,t]},useMutableSource:af,useSyncExternalStore:lf,useId:Cf,unstable_isNewReconciler:!1},gy={readContext:Ut,useCallback:Sf,useContext:Ut,useEffect:Ll,useImperativeHandle:wf,useInsertionEffect:gf,useLayoutEffect:yf,useMemo:kf,useReducer:xl,useRef:mf,useState:function(){return xl(ro)},useDebugValue:Al,useDeferredValue:function(e){var t=$t();return nt===null?t.memoizedState=e:bf(t,nt.memoizedState,e)},useTransition:function(){var e=xl(ro)[0],t=$t().memoizedState;return[e,t]},useMutableSource:af,useSyncExternalStore:lf,useId:Cf,unstable_isNewReconciler:!1};function Zt(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var o in e)t[o]===void 0&&(t[o]=e[o]);return t}return t}function Nl(e,t,o,l){t=e.memoizedState,o=o(l,t),o=o==null?t:te({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var ms={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,o){e=e._reactInternals;var l=_t(),u=Yn(e),p=En(l,u);p.payload=t,o!=null&&(p.callback=o),t=qn(e,p,u),t!==null&&(nn(t,e,u,l),as(t,e,u))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var l=_t(),u=Yn(e),p=En(l,u);p.tag=1,p.payload=t,o!=null&&(p.callback=o),t=qn(e,p,u),t!==null&&(nn(t,e,u,l),as(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=_t(),l=Yn(e),u=En(o,l);u.tag=2,t!=null&&(u.callback=t),t=qn(e,u,l),t!==null&&(nn(t,e,l,o),as(t,e,l))}};function Pf(e,t,o,l,u,p,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,p,_):t.prototype&&t.prototype.isPureReactComponent?!Wi(o,l)||!Wi(u,p):!0}function Of(e,t,o){var l=!1,u=Wn,p=t.contextType;return typeof p=="object"&&p!==null?p=Ut(p):(u=kt(t)?hr:pt.current,l=t.contextTypes,p=(l=l!=null)?ni(e,u):Wn),t=new t(o,p),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ms,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=p),t}function xf(e,t,o,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,l),t.state!==e&&ms.enqueueReplaceState(t,t.state,null)}function jl(e,t,o,l){var u=e.stateNode;u.props=o,u.state=e.memoizedState,u.refs={},wl(e);var p=t.contextType;typeof p=="object"&&p!==null?u.context=Ut(p):(p=kt(t)?hr:pt.current,u.context=ni(e,p)),u.state=e.memoizedState,p=t.getDerivedStateFromProps,typeof p=="function"&&(Nl(e,t,p,o),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&ms.enqueueReplaceState(u,u.state,null),ls(e,o,u,l),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function ui(e,t){try{var o="",l=t;do o+=v(l),l=l.return;while(l);var u=o}catch(p){u=`
Error generating stack: `+p.message+`
`+p.stack}return{value:e,source:t,stack:u,digest:null}}function Dl(e,t,o){return{value:e,source:null,stack:o??null,digest:t??null}}function Il(e,t){try{console.error(t.value)}catch(o){setTimeout(function(){throw o})}}var yy=typeof WeakMap=="function"?WeakMap:Map;function Lf(e,t,o){o=En(-1,o),o.tag=3,o.payload={element:null};var l=t.value;return o.callback=function(){ks||(ks=!0,Yl=l),Il(e,t)},o}function Af(e,t,o){o=En(-1,o),o.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var u=t.value;o.payload=function(){return l(u)},o.callback=function(){Il(e,t)}}var p=e.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Il(e,t),typeof l!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var _=t.stack;this.componentDidCatch(t.value,{componentStack:_!==null?_:""})}),o}function Nf(e,t,o){var l=e.pingCache;if(l===null){l=e.pingCache=new yy;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(o)||(u.add(o),e=Ay.bind(null,e,t,o),t.then(e,e))}function jf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Df(e,t,o,l,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===t?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(t=En(-1,1),t.tag=2,qn(o,t,1))),o.lanes|=1),e)}var _y=P.ReactCurrentOwner,bt=!1;function yt(e,t,o,l){t.child=e===null?ef(t,null,o,l):si(t,e.child,o,l)}function If(e,t,o,l,u){o=o.render;var p=t.ref;return li(t,u),l=Ml(e,t,o,l,p,u),o=Pl(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Tn(e,t,u)):(Ve&&o&&ul(t),t.flags|=1,yt(e,t,l,u),t.child)}function Rf(e,t,o,l,u){if(e===null){var p=o.type;return typeof p=="function"&&!ic(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(t.tag=15,t.type=p,Ff(e,t,p,l,u)):(e=Ps(o.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!(e.lanes&u)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:Wi,o(_,l)&&e.ref===t.ref)return Tn(e,t,u)}return t.flags|=1,e=Zn(p,l),e.ref=t.ref,e.return=t,t.child=e}function Ff(e,t,o,l,u){if(e!==null){var p=e.memoizedProps;if(Wi(p,l)&&e.ref===t.ref)if(bt=!1,t.pendingProps=l=p,(e.lanes&u)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,Tn(e,t,u)}return Rl(e,t,o,l,u)}function Bf(e,t,o){var l=t.pendingProps,u=l.children,p=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(fi,jt),jt|=o;else{if(!(o&1073741824))return e=p!==null?p.baseLanes|o:o,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(fi,jt),jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=p!==null?p.baseLanes:o,Fe(fi,jt),jt|=l}else p!==null?(l=p.baseLanes|o,t.memoizedState=null):l=o,Fe(fi,jt),jt|=l;return yt(e,t,u,o),t.child}function Uf(e,t){var o=t.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(t.flags|=512,t.flags|=2097152)}function Rl(e,t,o,l,u){var p=kt(o)?hr:pt.current;return p=ni(t,p),li(t,u),o=Ml(e,t,o,l,p,u),l=Pl(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,Tn(e,t,u)):(Ve&&l&&ul(t),t.flags|=1,yt(e,t,o,u),t.child)}function $f(e,t,o,l,u){if(kt(o)){var p=!0;Zo(t)}else p=!1;if(li(t,u),t.stateNode===null)gs(e,t),Of(t,o,l),jl(t,o,l,u),l=!0;else if(e===null){var _=t.stateNode,k=t.memoizedProps;_.props=k;var E=_.context,I=o.contextType;typeof I=="object"&&I!==null?I=Ut(I):(I=kt(o)?hr:pt.current,I=ni(t,I));var G=o.getDerivedStateFromProps,K=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function";K||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==l||E!==I)&&xf(t,_,l,I),Hn=!1;var H=t.memoizedState;_.state=H,ls(t,l,_,u),E=t.memoizedState,k!==l||H!==E||St.current||Hn?(typeof G=="function"&&(Nl(t,o,G,l),E=t.memoizedState),(k=Hn||Pf(t,o,k,l,H,E,I))?(K||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(t.flags|=4194308)):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=E),_.props=l,_.state=E,_.context=I,l=k):(typeof _.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{_=t.stateNode,nf(e,t),k=t.memoizedProps,I=t.type===t.elementType?k:Zt(t.type,k),_.props=I,K=t.pendingProps,H=_.context,E=o.contextType,typeof E=="object"&&E!==null?E=Ut(E):(E=kt(o)?hr:pt.current,E=ni(t,E));var ne=o.getDerivedStateFromProps;(G=typeof ne=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k!==K||H!==E)&&xf(t,_,l,E),Hn=!1,H=t.memoizedState,_.state=H,ls(t,l,_,u);var ie=t.memoizedState;k!==K||H!==ie||St.current||Hn?(typeof ne=="function"&&(Nl(t,o,ne,l),ie=t.memoizedState),(I=Hn||Pf(t,o,I,l,H,ie,E)||!1)?(G||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(l,ie,E),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(l,ie,E)),typeof _.componentDidUpdate=="function"&&(t.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof _.componentDidUpdate!="function"||k===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=ie),_.props=l,_.state=ie,_.context=E,l=I):(typeof _.componentDidUpdate!="function"||k===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||k===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),l=!1)}return Fl(e,t,o,l,p,u)}function Fl(e,t,o,l,u,p){Uf(e,t);var _=(t.flags&128)!==0;if(!l&&!_)return u&&Jd(t,o,!1),Tn(e,t,p);l=t.stateNode,_y.current=t;var k=_&&typeof o.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&_?(t.child=si(t,e.child,null,p),t.child=si(t,null,k,p)):yt(e,t,k,p),t.memoizedState=l.state,u&&Jd(t,o,!0),t.child}function zf(e){var t=e.stateNode;t.pendingContext?Vd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vd(e,t.context,!1),Sl(e,t.containerInfo)}function Vf(e,t,o,l,u){return oi(),hl(u),t.flags|=256,yt(e,t,o,l),t.child}var Bl={dehydrated:null,treeContext:null,retryLane:0};function Ul(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wf(e,t,o){var l=t.pendingProps,u=Je.current,p=!1,_=(t.flags&128)!==0,k;if((k=_)||(k=e!==null&&e.memoizedState===null?!1:(u&2)!==0),k?(p=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Fe(Je,u&1),e===null)return pl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(_=l.children,e=l.fallback,p?(l=t.mode,p=t.child,_={mode:"hidden",children:_},!(l&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Os(_,l,0,null),e=Cr(e,l,o,null),p.return=t,e.return=t,p.sibling=e,t.child=p,t.child.memoizedState=Ul(o),t.memoizedState=Bl,e):$l(t,_));if(u=e.memoizedState,u!==null&&(k=u.dehydrated,k!==null))return wy(e,t,_,l,k,u,o);if(p){p=l.fallback,_=t.mode,u=e.child,k=u.sibling;var E={mode:"hidden",children:l.children};return!(_&1)&&t.child!==u?(l=t.child,l.childLanes=0,l.pendingProps=E,t.deletions=null):(l=Zn(u,E),l.subtreeFlags=u.subtreeFlags&14680064),k!==null?p=Zn(k,p):(p=Cr(p,_,o,null),p.flags|=2),p.return=t,l.return=t,l.sibling=p,t.child=l,l=p,p=t.child,_=e.child.memoizedState,_=_===null?Ul(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=e.childLanes&~o,t.memoizedState=Bl,l}return p=e.child,e=p.sibling,l=Zn(p,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=o),l.return=t,l.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=l,t.memoizedState=null,l}function $l(e,t){return t=Os({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vs(e,t,o,l){return l!==null&&hl(l),si(t,e.child,null,o),e=$l(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wy(e,t,o,l,u,p,_){if(o)return t.flags&256?(t.flags&=-257,l=Dl(Error(i(422))),vs(e,t,_,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(p=l.fallback,u=t.mode,l=Os({mode:"visible",children:l.children},u,0,null),p=Cr(p,u,_,null),p.flags|=2,l.return=t,p.return=t,l.sibling=p,t.child=l,t.mode&1&&si(t,e.child,null,_),t.child.memoizedState=Ul(_),t.memoizedState=Bl,p);if(!(t.mode&1))return vs(e,t,_,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var k=l.dgst;return l=k,p=Error(i(419)),l=Dl(p,l,void 0),vs(e,t,_,l)}if(k=(_&e.childLanes)!==0,bt||k){if(l=ot,l!==null){switch(_&-_){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(l.suspendedLanes|_)?0:u,u!==0&&u!==p.retryLane&&(p.retryLane=u,Cn(e,u),nn(l,e,u,-1))}return rc(),l=Dl(Error(i(421))),vs(e,t,_,l)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=Ny.bind(null,e),u._reactRetry=t,null):(e=p.treeContext,Nt=zn(u.nextSibling),At=t,Ve=!0,Xt=null,e!==null&&(Ft[Bt++]=kn,Ft[Bt++]=bn,Ft[Bt++]=mr,kn=e.id,bn=e.overflow,mr=t),t=$l(t,l.children),t.flags|=4096,t)}function Jf(e,t,o){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),yl(e.return,t,o)}function zl(e,t,o,l,u){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:u}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=o,p.tailMode=u)}function Hf(e,t,o){var l=t.pendingProps,u=l.revealOrder,p=l.tail;if(yt(e,t,l.children,o),l=Je.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jf(e,o,t);else if(e.tag===19)Jf(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Fe(Je,l),!(t.mode&1))t.memoizedState=null;else switch(u){case"forwards":for(o=t.child,u=null;o!==null;)e=o.alternate,e!==null&&cs(e)===null&&(u=o),o=o.sibling;o=u,o===null?(u=t.child,t.child=null):(u=o.sibling,o.sibling=null),zl(t,!1,u,o,p);break;case"backwards":for(o=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&cs(e)===null){t.child=u;break}e=u.sibling,u.sibling=o,o=u,u=e}zl(t,!0,o,null,p);break;case"together":zl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tn(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),wr|=t.lanes,!(o&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,o=Zn(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=Zn(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function Sy(e,t,o){switch(t.tag){case 3:zf(t),oi();break;case 5:sf(t);break;case 1:kt(t.type)&&Zo(t);break;case 4:Sl(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,u=t.memoizedProps.value;Fe(os,l._currentValue),l._currentValue=u;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Fe(Je,Je.current&1),t.flags|=128,null):o&t.child.childLanes?Wf(e,t,o):(Fe(Je,Je.current&1),e=Tn(e,t,o),e!==null?e.sibling:null);Fe(Je,Je.current&1);break;case 19:if(l=(o&t.childLanes)!==0,e.flags&128){if(l)return Hf(e,t,o);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Fe(Je,Je.current),l)break;return null;case 22:case 23:return t.lanes=0,Bf(e,t,o)}return Tn(e,t,o)}var qf,Vl,Qf,Gf;qf=function(e,t){for(var o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Vl=function(){},Qf=function(e,t,o,l){var u=e.memoizedProps;if(u!==l){e=t.stateNode,yr(pn.current);var p=null;switch(o){case"input":u=Re(e,u),l=Re(e,l),p=[];break;case"select":u=te({},u,{value:void 0}),l=te({},l,{value:void 0}),p=[];break;case"textarea":u=Gt(e,u),l=Gt(e,l),p=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ko)}ba(o,l);var _;o=null;for(I in u)if(!l.hasOwnProperty(I)&&u.hasOwnProperty(I)&&u[I]!=null)if(I==="style"){var k=u[I];for(_ in k)k.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(a.hasOwnProperty(I)?p||(p=[]):(p=p||[]).push(I,null));for(I in l){var E=l[I];if(k=u!=null?u[I]:void 0,l.hasOwnProperty(I)&&E!==k&&(E!=null||k!=null))if(I==="style")if(k){for(_ in k)!k.hasOwnProperty(_)||E&&E.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in E)E.hasOwnProperty(_)&&k[_]!==E[_]&&(o||(o={}),o[_]=E[_])}else o||(p||(p=[]),p.push(I,o)),o=E;else I==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,k=k?k.__html:void 0,E!=null&&k!==E&&(p=p||[]).push(I,E)):I==="children"?typeof E!="string"&&typeof E!="number"||(p=p||[]).push(I,""+E):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(a.hasOwnProperty(I)?(E!=null&&I==="onScroll"&&$e("scroll",e),p||k===E||(p=[])):(p=p||[]).push(I,E))}o&&(p=p||[]).push("style",o);var I=p;(t.updateQueue=I)&&(t.flags|=4)}},Gf=function(e,t,o,l){o!==l&&(t.flags|=4)};function oo(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,l=0;if(t)for(var u=e.child;u!==null;)o|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)o|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=o,t}function ky(e,t,o){var l=t.pendingProps;switch(dl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return kt(t.type)&&Xo(),mt(t),null;case 3:return l=t.stateNode,ci(),ze(St),ze(pt),Cl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xt!==null&&(ec(Xt),Xt=null))),Vl(e,t),mt(t),null;case 5:kl(t);var u=yr(eo.current);if(o=t.type,e!==null&&t.stateNode!=null)Qf(e,t,o,l,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(i(166));return mt(t),null}if(e=yr(pn.current),rs(t)){l=t.stateNode,o=t.type;var p=t.memoizedProps;switch(l[fn]=t,l[Gi]=p,e=(t.mode&1)!==0,o){case"dialog":$e("cancel",l),$e("close",l);break;case"iframe":case"object":case"embed":$e("load",l);break;case"video":case"audio":for(u=0;u<Hi.length;u++)$e(Hi[u],l);break;case"source":$e("error",l);break;case"img":case"image":case"link":$e("error",l),$e("load",l);break;case"details":$e("toggle",l);break;case"input":Rt(l,p),$e("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!p.multiple},$e("invalid",l);break;case"textarea":Dn(l,p),$e("invalid",l)}ba(o,p),u=null;for(var _ in p)if(p.hasOwnProperty(_)){var k=p[_];_==="children"?typeof k=="string"?l.textContent!==k&&(p.suppressHydrationWarning!==!0&&Go(l.textContent,k,e),u=["children",k]):typeof k=="number"&&l.textContent!==""+k&&(p.suppressHydrationWarning!==!0&&Go(l.textContent,k,e),u=["children",""+k]):a.hasOwnProperty(_)&&k!=null&&_==="onScroll"&&$e("scroll",l)}switch(o){case"input":le(l),dr(l,p,!0);break;case"textarea":le(l),Wr(l);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(l.onclick=Ko)}l=u,t.updateQueue=l,l!==null&&(t.flags|=4)}else{_=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ju(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=_.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=_.createElement(o,{is:l.is}):(e=_.createElement(o),o==="select"&&(_=e,l.multiple?_.multiple=!0:l.size&&(_.size=l.size))):e=_.createElementNS(e,o),e[fn]=t,e[Gi]=l,qf(e,t,!1,!1),t.stateNode=e;e:{switch(_=Ca(o,l),o){case"dialog":$e("cancel",e),$e("close",e),u=l;break;case"iframe":case"object":case"embed":$e("load",e),u=l;break;case"video":case"audio":for(u=0;u<Hi.length;u++)$e(Hi[u],e);u=l;break;case"source":$e("error",e),u=l;break;case"img":case"image":case"link":$e("error",e),$e("load",e),u=l;break;case"details":$e("toggle",e),u=l;break;case"input":Rt(e,l),u=Re(e,l),$e("invalid",e);break;case"option":u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=te({},l,{value:void 0}),$e("invalid",e);break;case"textarea":Dn(e,l),u=Gt(e,l),$e("invalid",e);break;default:u=l}ba(o,u),k=u;for(p in k)if(k.hasOwnProperty(p)){var E=k[p];p==="style"?Ru(e,E):p==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&Du(e,E)):p==="children"?typeof E=="string"?(o!=="textarea"||E!=="")&&Mi(e,E):typeof E=="number"&&Mi(e,""+E):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?E!=null&&p==="onScroll"&&$e("scroll",e):E!=null&&V(e,p,E,_))}switch(o){case"input":le(e),dr(e,l,!1);break;case"textarea":le(e),Wr(e);break;case"option":l.value!=null&&e.setAttribute("value",""+S(l.value));break;case"select":e.multiple=!!l.multiple,p=l.value,p!=null?ft(e,!!l.multiple,p,!1):l.defaultValue!=null&&ft(e,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Ko)}switch(o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mt(t),null;case 6:if(e&&t.stateNode!=null)Gf(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(o=yr(eo.current),yr(pn.current),rs(t)){if(l=t.stateNode,o=t.memoizedProps,l[fn]=t,(p=l.nodeValue!==o)&&(e=At,e!==null))switch(e.tag){case 3:Go(l.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Go(l.nodeValue,o,(e.mode&1)!==0)}p&&(t.flags|=4)}else l=(o.nodeType===9?o:o.ownerDocument).createTextNode(l),l[fn]=t,t.stateNode=l}return mt(t),null;case 13:if(ze(Je),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&Nt!==null&&t.mode&1&&!(t.flags&128))Yd(),oi(),t.flags|=98560,p=!1;else if(p=rs(t),l!==null&&l.dehydrated!==null){if(e===null){if(!p)throw Error(i(318));if(p=t.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[fn]=t}else oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),p=!1}else Xt!==null&&(ec(Xt),Xt=null),p=!0;if(!p)return t.flags&65536?t:null}return t.flags&128?(t.lanes=o,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||Je.current&1?rt===0&&(rt=3):rc())),t.updateQueue!==null&&(t.flags|=4),mt(t),null);case 4:return ci(),Vl(e,t),e===null&&qi(t.stateNode.containerInfo),mt(t),null;case 10:return gl(t.type._context),mt(t),null;case 17:return kt(t.type)&&Xo(),mt(t),null;case 19:if(ze(Je),p=t.memoizedState,p===null)return mt(t),null;if(l=(t.flags&128)!==0,_=p.rendering,_===null)if(l)oo(p,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(_=cs(e),_!==null){for(t.flags|=128,oo(p,!1),l=_.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=o,o=t.child;o!==null;)p=o,e=l,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=e,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,e=_.dependencies,p.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return Fe(Je,Je.current&1|2),t.child}e=e.sibling}p.tail!==null&&Xe()>pi&&(t.flags|=128,l=!0,oo(p,!1),t.lanes=4194304)}else{if(!l)if(e=cs(_),e!==null){if(t.flags|=128,l=!0,o=e.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),oo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ve)return mt(t),null}else 2*Xe()-p.renderingStartTime>pi&&o!==1073741824&&(t.flags|=128,l=!0,oo(p,!1),t.lanes=4194304);p.isBackwards?(_.sibling=t.child,t.child=_):(o=p.last,o!==null?o.sibling=_:t.child=_,p.last=_)}return p.tail!==null?(t=p.tail,p.rendering=t,p.tail=t.sibling,p.renderingStartTime=Xe(),t.sibling=null,o=Je.current,Fe(Je,l?o&1|2:o&1),t):(mt(t),null);case 22:case 23:return nc(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?jt&1073741824&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),null;case 24:return null;case 25:return null}throw Error(i(156,t.tag))}function by(e,t){switch(dl(t),t.tag){case 1:return kt(t.type)&&Xo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ci(),ze(St),ze(pt),Cl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return kl(t),null;case 13:if(ze(Je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Je),null;case 4:return ci(),null;case 10:return gl(t.type._context),null;case 22:case 23:return nc(),null;case 24:return null;default:return null}}var ys=!1,vt=!1,Cy=typeof WeakSet=="function"?WeakSet:Set,re=null;function di(e,t){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(l){Ge(e,t,l)}else o.current=null}function Wl(e,t,o){try{o()}catch(l){Ge(e,t,l)}}var Kf=!1;function Ey(e,t){if(nl=Fo,e=Md(),Qa(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var u=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,k=-1,E=-1,I=0,G=0,K=e,H=null;t:for(;;){for(var ne;K!==o||u!==0&&K.nodeType!==3||(k=_+u),K!==p||l!==0&&K.nodeType!==3||(E=_+l),K.nodeType===3&&(_+=K.nodeValue.length),(ne=K.firstChild)!==null;)H=K,K=ne;for(;;){if(K===e)break t;if(H===o&&++I===u&&(k=_),H===p&&++G===l&&(E=_),(ne=K.nextSibling)!==null)break;K=H,H=K.parentNode}K=ne}o=k===-1||E===-1?null:{start:k,end:E}}else o=null}o=o||{start:0,end:0}}else o=null;for(rl={focusedElem:e,selectionRange:o},Fo=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var ie=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var oe=ie.memoizedProps,Ze=ie.memoizedState,L=t.stateNode,T=L.getSnapshotBeforeUpdate(t.elementType===t.type?oe:Zt(t.type,oe),Ze);L.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(Y){Ge(t,t.return,Y)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return ie=Kf,Kf=!1,ie}function so(e,t,o){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&e)===e){var p=u.destroy;u.destroy=void 0,p!==void 0&&Wl(t,o,p)}u=u.next}while(u!==l)}}function _s(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&e)===e){var l=o.create;o.destroy=l()}o=o.next}while(o!==t)}}function Jl(e){var t=e.ref;if(t!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof t=="function"?t(e):t.current=e}}function Yf(e){var t=e.alternate;t!==null&&(e.alternate=null,Yf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[fn],delete t[Gi],delete t[al],delete t[ay],delete t[ly])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xf(e){return e.tag===5||e.tag===3||e.tag===4}function Zf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hl(e,t,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?o.nodeType===8?o.parentNode.insertBefore(e,t):o.insertBefore(e,t):(o.nodeType===8?(t=o.parentNode,t.insertBefore(e,o)):(t=o,t.appendChild(e)),o=o._reactRootContainer,o!=null||t.onclick!==null||(t.onclick=Ko));else if(l!==4&&(e=e.child,e!==null))for(Hl(e,t,o),e=e.sibling;e!==null;)Hl(e,t,o),e=e.sibling}function ql(e,t,o){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?o.insertBefore(e,t):o.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(ql(e,t,o),e=e.sibling;e!==null;)ql(e,t,o),e=e.sibling}var at=null,en=!1;function Qn(e,t,o){for(o=o.child;o!==null;)ep(e,t,o),o=o.sibling}function ep(e,t,o){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Ao,o)}catch{}switch(o.tag){case 5:vt||di(o,t);case 6:var l=at,u=en;at=null,Qn(e,t,o),at=l,en=u,at!==null&&(en?(e=at,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):at.removeChild(o.stateNode));break;case 18:at!==null&&(en?(e=at,o=o.stateNode,e.nodeType===8?sl(e.parentNode,o):e.nodeType===1&&sl(e,o),Fi(e)):sl(at,o.stateNode));break;case 4:l=at,u=en,at=o.stateNode.containerInfo,en=!0,Qn(e,t,o),at=l,en=u;break;case 0:case 11:case 14:case 15:if(!vt&&(l=o.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var p=u,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&Wl(o,t,_),u=u.next}while(u!==l)}Qn(e,t,o);break;case 1:if(!vt&&(di(o,t),l=o.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=o.memoizedProps,l.state=o.memoizedState,l.componentWillUnmount()}catch(k){Ge(o,t,k)}Qn(e,t,o);break;case 21:Qn(e,t,o);break;case 22:o.mode&1?(vt=(l=vt)||o.memoizedState!==null,Qn(e,t,o),vt=l):Qn(e,t,o);break;default:Qn(e,t,o)}}function tp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Cy),t.forEach(function(l){var u=jy.bind(null,e,l);o.has(l)||(o.add(l),l.then(u,u))})}}function tn(e,t){var o=t.deletions;if(o!==null)for(var l=0;l<o.length;l++){var u=o[l];try{var p=e,_=t,k=_;e:for(;k!==null;){switch(k.tag){case 5:at=k.stateNode,en=!1;break e;case 3:at=k.stateNode.containerInfo,en=!0;break e;case 4:at=k.stateNode.containerInfo,en=!0;break e}k=k.return}if(at===null)throw Error(i(160));ep(p,_,u),at=null,en=!1;var E=u.alternate;E!==null&&(E.return=null),u.return=null}catch(I){Ge(u,t,I)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)np(t,e),t=t.sibling}function np(e,t){var o=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tn(t,e),mn(e),l&4){try{so(3,e,e.return),_s(3,e)}catch(oe){Ge(e,e.return,oe)}try{so(5,e,e.return)}catch(oe){Ge(e,e.return,oe)}}break;case 1:tn(t,e),mn(e),l&512&&o!==null&&di(o,o.return);break;case 5:if(tn(t,e),mn(e),l&512&&o!==null&&di(o,o.return),e.flags&32){var u=e.stateNode;try{Mi(u,"")}catch(oe){Ge(e,e.return,oe)}}if(l&4&&(u=e.stateNode,u!=null)){var p=e.memoizedProps,_=o!==null?o.memoizedProps:p,k=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{k==="input"&&p.type==="radio"&&p.name!=null&&Qt(u,p),Ca(k,_);var I=Ca(k,p);for(_=0;_<E.length;_+=2){var G=E[_],K=E[_+1];G==="style"?Ru(u,K):G==="dangerouslySetInnerHTML"?Du(u,K):G==="children"?Mi(u,K):V(u,G,K,I)}switch(k){case"input":xt(u,p);break;case"textarea":Vr(u,p);break;case"select":var H=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!p.multiple;var ne=p.value;ne!=null?ft(u,!!p.multiple,ne,!1):H!==!!p.multiple&&(p.defaultValue!=null?ft(u,!!p.multiple,p.defaultValue,!0):ft(u,!!p.multiple,p.multiple?[]:"",!1))}u[Gi]=p}catch(oe){Ge(e,e.return,oe)}}break;case 6:if(tn(t,e),mn(e),l&4){if(e.stateNode===null)throw Error(i(162));u=e.stateNode,p=e.memoizedProps;try{u.nodeValue=p}catch(oe){Ge(e,e.return,oe)}}break;case 3:if(tn(t,e),mn(e),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Fi(t.containerInfo)}catch(oe){Ge(e,e.return,oe)}break;case 4:tn(t,e),mn(e);break;case 13:tn(t,e),mn(e),u=e.child,u.flags&8192&&(p=u.memoizedState!==null,u.stateNode.isHidden=p,!p||u.alternate!==null&&u.alternate.memoizedState!==null||(Kl=Xe())),l&4&&tp(e);break;case 22:if(G=o!==null&&o.memoizedState!==null,e.mode&1?(vt=(I=vt)||G,tn(t,e),vt=I):tn(t,e),mn(e),l&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!G&&e.mode&1)for(re=e,G=e.child;G!==null;){for(K=re=G;re!==null;){switch(H=re,ne=H.child,H.tag){case 0:case 11:case 14:case 15:so(4,H,H.return);break;case 1:di(H,H.return);var ie=H.stateNode;if(typeof ie.componentWillUnmount=="function"){l=H,o=H.return;try{t=l,ie.props=t.memoizedProps,ie.state=t.memoizedState,ie.componentWillUnmount()}catch(oe){Ge(l,o,oe)}}break;case 5:di(H,H.return);break;case 22:if(H.memoizedState!==null){op(K);continue}}ne!==null?(ne.return=H,re=ne):op(K)}G=G.sibling}e:for(G=null,K=e;;){if(K.tag===5){if(G===null){G=K;try{u=K.stateNode,I?(p=u.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(k=K.stateNode,E=K.memoizedProps.style,_=E!=null&&E.hasOwnProperty("display")?E.display:null,k.style.display=Iu("display",_))}catch(oe){Ge(e,e.return,oe)}}}else if(K.tag===6){if(G===null)try{K.stateNode.nodeValue=I?"":K.memoizedProps}catch(oe){Ge(e,e.return,oe)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===e)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===e)break e;for(;K.sibling===null;){if(K.return===null||K.return===e)break e;G===K&&(G=null),K=K.return}G===K&&(G=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:tn(t,e),mn(e),l&4&&tp(e);break;case 21:break;default:tn(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var o=e.return;o!==null;){if(Xf(o)){var l=o;break e}o=o.return}throw Error(i(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(Mi(u,""),l.flags&=-33);var p=Zf(e);ql(e,p,u);break;case 3:case 4:var _=l.stateNode.containerInfo,k=Zf(e);Hl(e,k,_);break;default:throw Error(i(161))}}catch(E){Ge(e,e.return,E)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ty(e,t,o){re=e,rp(e)}function rp(e,t,o){for(var l=(e.mode&1)!==0;re!==null;){var u=re,p=u.child;if(u.tag===22&&l){var _=u.memoizedState!==null||ys;if(!_){var k=u.alternate,E=k!==null&&k.memoizedState!==null||vt;k=ys;var I=vt;if(ys=_,(vt=E)&&!I)for(re=u;re!==null;)_=re,E=_.child,_.tag===22&&_.memoizedState!==null?sp(u):E!==null?(E.return=_,re=E):sp(u);for(;p!==null;)re=p,rp(p),p=p.sibling;re=u,ys=k,vt=I}ip(e)}else u.subtreeFlags&8772&&p!==null?(p.return=u,re=p):ip(e)}}function ip(e){for(;re!==null;){var t=re;if(t.flags&8772){var o=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vt||_s(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!vt)if(o===null)l.componentDidMount();else{var u=t.elementType===t.type?o.memoizedProps:Zt(t.type,o.memoizedProps);l.componentDidUpdate(u,o.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var p=t.updateQueue;p!==null&&of(t,p,l);break;case 3:var _=t.updateQueue;if(_!==null){if(o=null,t.child!==null)switch(t.child.tag){case 5:o=t.child.stateNode;break;case 1:o=t.child.stateNode}of(t,_,o)}break;case 5:var k=t.stateNode;if(o===null&&t.flags&4){o=k;var E=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&o.focus();break;case"img":E.src&&(o.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var I=t.alternate;if(I!==null){var G=I.memoizedState;if(G!==null){var K=G.dehydrated;K!==null&&Fi(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}vt||t.flags&512&&Jl(t)}catch(H){Ge(t,t.return,H)}}if(t===e){re=null;break}if(o=t.sibling,o!==null){o.return=t.return,re=o;break}re=t.return}}function op(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var o=t.sibling;if(o!==null){o.return=t.return,re=o;break}re=t.return}}function sp(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var o=t.return;try{_s(4,t)}catch(E){Ge(t,o,E)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var u=t.return;try{l.componentDidMount()}catch(E){Ge(t,u,E)}}var p=t.return;try{Jl(t)}catch(E){Ge(t,p,E)}break;case 5:var _=t.return;try{Jl(t)}catch(E){Ge(t,_,E)}}}catch(E){Ge(t,t.return,E)}if(t===e){re=null;break}var k=t.sibling;if(k!==null){k.return=t.return,re=k;break}re=t.return}}var My=Math.ceil,ws=P.ReactCurrentDispatcher,Ql=P.ReactCurrentOwner,zt=P.ReactCurrentBatchConfig,Ee=0,ot=null,tt=null,lt=0,jt=0,fi=Vn(0),rt=0,ao=null,wr=0,Ss=0,Gl=0,lo=null,Ct=null,Kl=0,pi=1/0,Mn=null,ks=!1,Yl=null,Gn=null,bs=!1,Kn=null,Cs=0,co=0,Xl=null,Es=-1,Ts=0;function _t(){return Ee&6?Xe():Es!==-1?Es:Es=Xe()}function Yn(e){return e.mode&1?Ee&2&&lt!==0?lt&-lt:uy.transition!==null?(Ts===0&&(Ts=Xu()),Ts):(e=Le,e!==0||(e=window.event,e=e===void 0?16:ad(e.type)),e):1}function nn(e,t,o,l){if(50<co)throw co=0,Xl=null,Error(i(185));Ni(e,o,l),(!(Ee&2)||e!==ot)&&(e===ot&&(!(Ee&2)&&(Ss|=o),rt===4&&Xn(e,lt)),Et(e,l),o===1&&Ee===0&&!(t.mode&1)&&(pi=Xe()+500,es&&Jn()))}function Et(e,t){var o=e.callbackNode;ug(e,t);var l=Do(e,e===ot?lt:0);if(l===0)o!==null&&Gu(o),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(o!=null&&Gu(o),t===1)e.tag===0?cy(lp.bind(null,e)):Hd(lp.bind(null,e)),oy(function(){!(Ee&6)&&Jn()}),o=null;else{switch(Zu(l)){case 1:o=La;break;case 4:o=Ku;break;case 16:o=Lo;break;case 536870912:o=Yu;break;default:o=Lo}o=vp(o,ap.bind(null,e))}e.callbackPriority=t,e.callbackNode=o}}function ap(e,t){if(Es=-1,Ts=0,Ee&6)throw Error(i(327));var o=e.callbackNode;if(hi()&&e.callbackNode!==o)return null;var l=Do(e,e===ot?lt:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=Ms(e,l);else{t=l;var u=Ee;Ee|=2;var p=up();(ot!==e||lt!==t)&&(Mn=null,pi=Xe()+500,kr(e,t));do try{xy();break}catch(k){cp(e,k)}while(!0);vl(),ws.current=p,Ee=u,tt!==null?t=0:(ot=null,lt=0,t=rt)}if(t!==0){if(t===2&&(u=Aa(e),u!==0&&(l=u,t=Zl(e,u))),t===1)throw o=ao,kr(e,0),Xn(e,l),Et(e,Xe()),o;if(t===6)Xn(e,l);else{if(u=e.current.alternate,!(l&30)&&!Py(u)&&(t=Ms(e,l),t===2&&(p=Aa(e),p!==0&&(l=p,t=Zl(e,p))),t===1))throw o=ao,kr(e,0),Xn(e,l),Et(e,Xe()),o;switch(e.finishedWork=u,e.finishedLanes=l,t){case 0:case 1:throw Error(i(345));case 2:br(e,Ct,Mn);break;case 3:if(Xn(e,l),(l&130023424)===l&&(t=Kl+500-Xe(),10<t)){if(Do(e,0)!==0)break;if(u=e.suspendedLanes,(u&l)!==l){_t(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=ol(br.bind(null,e,Ct,Mn),t);break}br(e,Ct,Mn);break;case 4:if(Xn(e,l),(l&4194240)===l)break;for(t=e.eventTimes,u=-1;0<l;){var _=31-Kt(l);p=1<<_,_=t[_],_>u&&(u=_),l&=~p}if(l=u,l=Xe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*My(l/1960))-l,10<l){e.timeoutHandle=ol(br.bind(null,e,Ct,Mn),l);break}br(e,Ct,Mn);break;case 5:br(e,Ct,Mn);break;default:throw Error(i(329))}}}return Et(e,Xe()),e.callbackNode===o?ap.bind(null,e):null}function Zl(e,t){var o=lo;return e.current.memoizedState.isDehydrated&&(kr(e,t).flags|=256),e=Ms(e,t),e!==2&&(t=Ct,Ct=o,t!==null&&ec(t)),e}function ec(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function Py(e){for(var t=e;;){if(t.flags&16384){var o=t.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var l=0;l<o.length;l++){var u=o[l],p=u.getSnapshot;u=u.value;try{if(!Yt(p(),u))return!1}catch{return!1}}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t){for(t&=~Gl,t&=~Ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var o=31-Kt(t),l=1<<o;e[o]=-1,t&=~l}}function lp(e){if(Ee&6)throw Error(i(327));hi();var t=Do(e,0);if(!(t&1))return Et(e,Xe()),null;var o=Ms(e,t);if(e.tag!==0&&o===2){var l=Aa(e);l!==0&&(t=l,o=Zl(e,l))}if(o===1)throw o=ao,kr(e,0),Xn(e,t),Et(e,Xe()),o;if(o===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,br(e,Ct,Mn),Et(e,Xe()),null}function tc(e,t){var o=Ee;Ee|=1;try{return e(t)}finally{Ee=o,Ee===0&&(pi=Xe()+500,es&&Jn())}}function Sr(e){Kn!==null&&Kn.tag===0&&!(Ee&6)&&hi();var t=Ee;Ee|=1;var o=zt.transition,l=Le;try{if(zt.transition=null,Le=1,e)return e()}finally{Le=l,zt.transition=o,Ee=t,!(Ee&6)&&Jn()}}function nc(){jt=fi.current,ze(fi)}function kr(e,t){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,iy(o)),tt!==null)for(o=tt.return;o!==null;){var l=o;switch(dl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Xo();break;case 3:ci(),ze(St),ze(pt),Cl();break;case 5:kl(l);break;case 4:ci();break;case 13:ze(Je);break;case 19:ze(Je);break;case 10:gl(l.type._context);break;case 22:case 23:nc()}o=o.return}if(ot=e,tt=e=Zn(e.current,null),lt=jt=t,rt=0,ao=null,Gl=Ss=wr=0,Ct=lo=null,gr!==null){for(t=0;t<gr.length;t++)if(o=gr[t],l=o.interleaved,l!==null){o.interleaved=null;var u=l.next,p=o.pending;if(p!==null){var _=p.next;p.next=u,l.next=_}o.pending=l}gr=null}return e}function cp(e,t){do{var o=tt;try{if(vl(),us.current=hs,ds){for(var l=He.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}ds=!1}if(_r=0,it=nt=He=null,to=!1,no=0,Ql.current=null,o===null||o.return===null){rt=1,ao=t,tt=null;break}e:{var p=e,_=o.return,k=o,E=t;if(t=lt,k.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=E,G=k,K=G.tag;if(!(G.mode&1)&&(K===0||K===11||K===15)){var H=G.alternate;H?(G.updateQueue=H.updateQueue,G.memoizedState=H.memoizedState,G.lanes=H.lanes):(G.updateQueue=null,G.memoizedState=null)}var ne=jf(_);if(ne!==null){ne.flags&=-257,Df(ne,_,k,p,t),ne.mode&1&&Nf(p,I,t),t=ne,E=I;var ie=t.updateQueue;if(ie===null){var oe=new Set;oe.add(E),t.updateQueue=oe}else ie.add(E);break e}else{if(!(t&1)){Nf(p,I,t),rc();break e}E=Error(i(426))}}else if(Ve&&k.mode&1){var Ze=jf(_);if(Ze!==null){!(Ze.flags&65536)&&(Ze.flags|=256),Df(Ze,_,k,p,t),hl(ui(E,k));break e}}p=E=ui(E,k),rt!==4&&(rt=2),lo===null?lo=[p]:lo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,t&=-t,p.lanes|=t;var L=Lf(p,E,t);rf(p,L);break e;case 1:k=E;var T=p.type,j=p.stateNode;if(!(p.flags&128)&&(typeof T.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Gn===null||!Gn.has(j)))){p.flags|=65536,t&=-t,p.lanes|=t;var Y=Af(p,k,t);rf(p,Y);break e}}p=p.return}while(p!==null)}fp(o)}catch(se){t=se,tt===o&&o!==null&&(tt=o=o.return);continue}break}while(!0)}function up(){var e=ws.current;return ws.current=hs,e===null?hs:e}function rc(){(rt===0||rt===3||rt===2)&&(rt=4),ot===null||!(wr&268435455)&&!(Ss&268435455)||Xn(ot,lt)}function Ms(e,t){var o=Ee;Ee|=2;var l=up();(ot!==e||lt!==t)&&(Mn=null,kr(e,t));do try{Oy();break}catch(u){cp(e,u)}while(!0);if(vl(),Ee=o,ws.current=l,tt!==null)throw Error(i(261));return ot=null,lt=0,rt}function Oy(){for(;tt!==null;)dp(tt)}function xy(){for(;tt!==null&&!tg();)dp(tt)}function dp(e){var t=mp(e.alternate,e,jt);e.memoizedProps=e.pendingProps,t===null?fp(e):tt=t,Ql.current=null}function fp(e){var t=e;do{var o=t.alternate;if(e=t.return,t.flags&32768){if(o=by(o,t),o!==null){o.flags&=32767,tt=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,tt=null;return}}else if(o=ky(o,t,jt),o!==null){tt=o;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);rt===0&&(rt=5)}function br(e,t,o){var l=Le,u=zt.transition;try{zt.transition=null,Le=1,Ly(e,t,o,l)}finally{zt.transition=u,Le=l}return null}function Ly(e,t,o,l){do hi();while(Kn!==null);if(Ee&6)throw Error(i(327));o=e.finishedWork;var u=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var p=o.lanes|o.childLanes;if(dg(e,p),e===ot&&(tt=ot=null,lt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||bs||(bs=!0,vp(Lo,function(){return hi(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=zt.transition,zt.transition=null;var _=Le;Le=1;var k=Ee;Ee|=4,Ql.current=null,Ey(e,o),np(o,e),Yg(rl),Fo=!!nl,rl=nl=null,e.current=o,Ty(o),ng(),Ee=k,Le=_,zt.transition=p}else e.current=o;if(bs&&(bs=!1,Kn=e,Cs=u),p=e.pendingLanes,p===0&&(Gn=null),og(o.stateNode),Et(e,Xe()),t!==null)for(l=e.onRecoverableError,o=0;o<t.length;o++)u=t[o],l(u.value,{componentStack:u.stack,digest:u.digest});if(ks)throw ks=!1,e=Yl,Yl=null,e;return Cs&1&&e.tag!==0&&hi(),p=e.pendingLanes,p&1?e===Xl?co++:(co=0,Xl=e):co=0,Jn(),null}function hi(){if(Kn!==null){var e=Zu(Cs),t=zt.transition,o=Le;try{if(zt.transition=null,Le=16>e?16:e,Kn===null)var l=!1;else{if(e=Kn,Kn=null,Cs=0,Ee&6)throw Error(i(331));var u=Ee;for(Ee|=4,re=e.current;re!==null;){var p=re,_=p.child;if(re.flags&16){var k=p.deletions;if(k!==null){for(var E=0;E<k.length;E++){var I=k[E];for(re=I;re!==null;){var G=re;switch(G.tag){case 0:case 11:case 15:so(8,G,p)}var K=G.child;if(K!==null)K.return=G,re=K;else for(;re!==null;){G=re;var H=G.sibling,ne=G.return;if(Yf(G),G===I){re=null;break}if(H!==null){H.return=ne,re=H;break}re=ne}}}var ie=p.alternate;if(ie!==null){var oe=ie.child;if(oe!==null){ie.child=null;do{var Ze=oe.sibling;oe.sibling=null,oe=Ze}while(oe!==null)}}re=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,re=_;else e:for(;re!==null;){if(p=re,p.flags&2048)switch(p.tag){case 0:case 11:case 15:so(9,p,p.return)}var L=p.sibling;if(L!==null){L.return=p.return,re=L;break e}re=p.return}}var T=e.current;for(re=T;re!==null;){_=re;var j=_.child;if(_.subtreeFlags&2064&&j!==null)j.return=_,re=j;else e:for(_=T;re!==null;){if(k=re,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:_s(9,k)}}catch(se){Ge(k,k.return,se)}if(k===_){re=null;break e}var Y=k.sibling;if(Y!==null){Y.return=k.return,re=Y;break e}re=k.return}}if(Ee=u,Jn(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Ao,e)}catch{}l=!0}return l}finally{Le=o,zt.transition=t}}return!1}function pp(e,t,o){t=ui(o,t),t=Lf(e,t,1),e=qn(e,t,1),t=_t(),e!==null&&(Ni(e,1,t),Et(e,t))}function Ge(e,t,o){if(e.tag===3)pp(e,e,o);else for(;t!==null;){if(t.tag===3){pp(t,e,o);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gn===null||!Gn.has(l))){e=ui(o,e),e=Af(t,e,1),t=qn(t,e,1),e=_t(),t!==null&&(Ni(t,1,e),Et(t,e));break}}t=t.return}}function Ay(e,t,o){var l=e.pingCache;l!==null&&l.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&o,ot===e&&(lt&o)===o&&(rt===4||rt===3&&(lt&130023424)===lt&&500>Xe()-Kl?kr(e,0):Gl|=o),Et(e,t)}function hp(e,t){t===0&&(e.mode&1?(t=jo,jo<<=1,!(jo&130023424)&&(jo=4194304)):t=1);var o=_t();e=Cn(e,t),e!==null&&(Ni(e,t,o),Et(e,o))}function Ny(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),hp(e,o)}function jy(e,t){var o=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(o=u.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(i(314))}l!==null&&l.delete(t),hp(e,o)}var mp;mp=function(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps||St.current)bt=!0;else{if(!(e.lanes&o)&&!(t.flags&128))return bt=!1,Sy(e,t,o);bt=!!(e.flags&131072)}else bt=!1,Ve&&t.flags&1048576&&qd(t,ns,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;gs(e,t),e=t.pendingProps;var u=ni(t,pt.current);li(t,o),u=Ml(null,t,l,e,u,o);var p=Pl();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kt(l)?(p=!0,Zo(t)):p=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,wl(t),u.updater=ms,t.stateNode=u,u._reactInternals=t,jl(t,l,e,o),t=Fl(null,t,l,!0,p,o)):(t.tag=0,Ve&&p&&ul(t),yt(null,t,u,o),t=t.child),t;case 16:l=t.elementType;e:{switch(gs(e,t),e=t.pendingProps,u=l._init,l=u(l._payload),t.type=l,u=t.tag=Iy(l),e=Zt(l,e),u){case 0:t=Rl(null,t,l,e,o);break e;case 1:t=$f(null,t,l,e,o);break e;case 11:t=If(null,t,l,e,o);break e;case 14:t=Rf(null,t,l,Zt(l.type,e),o);break e}throw Error(i(306,l,""))}return t;case 0:return l=t.type,u=t.pendingProps,u=t.elementType===l?u:Zt(l,u),Rl(e,t,l,u,o);case 1:return l=t.type,u=t.pendingProps,u=t.elementType===l?u:Zt(l,u),$f(e,t,l,u,o);case 3:e:{if(zf(t),e===null)throw Error(i(387));l=t.pendingProps,p=t.memoizedState,u=p.element,nf(e,t),ls(t,l,null,o);var _=t.memoizedState;if(l=_.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){u=ui(Error(i(423)),t),t=Vf(e,t,l,o,u);break e}else if(l!==u){u=ui(Error(i(424)),t),t=Vf(e,t,l,o,u);break e}else for(Nt=zn(t.stateNode.containerInfo.firstChild),At=t,Ve=!0,Xt=null,o=ef(t,null,l,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(oi(),l===u){t=Tn(e,t,o);break e}yt(e,t,l,o)}t=t.child}return t;case 5:return sf(t),e===null&&pl(t),l=t.type,u=t.pendingProps,p=e!==null?e.memoizedProps:null,_=u.children,il(l,u)?_=null:p!==null&&il(l,p)&&(t.flags|=32),Uf(e,t),yt(e,t,_,o),t.child;case 6:return e===null&&pl(t),null;case 13:return Wf(e,t,o);case 4:return Sl(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=si(t,null,l,o):yt(e,t,l,o),t.child;case 11:return l=t.type,u=t.pendingProps,u=t.elementType===l?u:Zt(l,u),If(e,t,l,u,o);case 7:return yt(e,t,t.pendingProps,o),t.child;case 8:return yt(e,t,t.pendingProps.children,o),t.child;case 12:return yt(e,t,t.pendingProps.children,o),t.child;case 10:e:{if(l=t.type._context,u=t.pendingProps,p=t.memoizedProps,_=u.value,Fe(os,l._currentValue),l._currentValue=_,p!==null)if(Yt(p.value,_)){if(p.children===u.children&&!St.current){t=Tn(e,t,o);break e}}else for(p=t.child,p!==null&&(p.return=t);p!==null;){var k=p.dependencies;if(k!==null){_=p.child;for(var E=k.firstContext;E!==null;){if(E.context===l){if(p.tag===1){E=En(-1,o&-o),E.tag=2;var I=p.updateQueue;if(I!==null){I=I.shared;var G=I.pending;G===null?E.next=E:(E.next=G.next,G.next=E),I.pending=E}}p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),yl(p.return,o,t),k.lanes|=o;break}E=E.next}}else if(p.tag===10)_=p.type===t.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(i(341));_.lanes|=o,k=_.alternate,k!==null&&(k.lanes|=o),yl(_,o,t),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===t){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}yt(e,t,u.children,o),t=t.child}return t;case 9:return u=t.type,l=t.pendingProps.children,li(t,o),u=Ut(u),l=l(u),t.flags|=1,yt(e,t,l,o),t.child;case 14:return l=t.type,u=Zt(l,t.pendingProps),u=Zt(l.type,u),Rf(e,t,l,u,o);case 15:return Ff(e,t,t.type,t.pendingProps,o);case 17:return l=t.type,u=t.pendingProps,u=t.elementType===l?u:Zt(l,u),gs(e,t),t.tag=1,kt(l)?(e=!0,Zo(t)):e=!1,li(t,o),Of(t,l,u),jl(t,l,u,o),Fl(null,t,l,!0,e,o);case 19:return Hf(e,t,o);case 22:return Bf(e,t,o)}throw Error(i(156,t.tag))};function vp(e,t){return Qu(e,t)}function Dy(e,t,o,l){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(e,t,o,l){return new Dy(e,t,o,l)}function ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Iy(e){if(typeof e=="function")return ic(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_e)return 11;if(e===Ye)return 14}return 2}function Zn(e,t){var o=e.alternate;return o===null?(o=Vt(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Ps(e,t,o,l,u,p){var _=2;if(l=e,typeof e=="function")ic(e)&&(_=1);else if(typeof e=="string")_=5;else e:switch(e){case F:return Cr(o.children,u,p,t);case q:_=8,u|=8;break;case ee:return e=Vt(12,o,t,u|2),e.elementType=ee,e.lanes=p,e;case Pe:return e=Vt(13,o,t,u),e.elementType=Pe,e.lanes=p,e;case Ue:return e=Vt(19,o,t,u),e.elementType=Ue,e.lanes=p,e;case Ce:return Os(o,u,p,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:_=10;break e;case pe:_=9;break e;case _e:_=11;break e;case Ye:_=14;break e;case We:_=16,l=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return t=Vt(_,o,t,u),t.elementType=e,t.type=l,t.lanes=p,t}function Cr(e,t,o,l){return e=Vt(7,e,l,t),e.lanes=o,e}function Os(e,t,o,l){return e=Vt(22,e,l,t),e.elementType=Ce,e.lanes=o,e.stateNode={isHidden:!1},e}function oc(e,t,o){return e=Vt(6,e,null,t),e.lanes=o,e}function sc(e,t,o){return t=Vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ry(e,t,o,l,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Na(0),this.expirationTimes=Na(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Na(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function ac(e,t,o,l,u,p,_,k,E){return e=new Ry(e,t,o,k,E),t===1?(t=1,p===!0&&(t|=8)):t=0,p=Vt(3,null,null,t),e.current=p,p.stateNode=e,p.memoizedState={element:l,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},wl(p),e}function Fy(e,t,o){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:l==null?null:""+l,children:e,containerInfo:t,implementation:o}}function gp(e){if(!e)return Wn;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(i(171))}if(e.tag===1){var o=e.type;if(kt(o))return Wd(e,o,t)}return t}function yp(e,t,o,l,u,p,_,k,E){return e=ac(o,l,!0,e,u,p,_,k,E),e.context=gp(null),o=e.current,l=_t(),u=Yn(o),p=En(l,u),p.callback=t??null,qn(o,p,u),e.current.lanes=u,Ni(e,u,l),Et(e,l),e}function xs(e,t,o,l){var u=t.current,p=_t(),_=Yn(u);return o=gp(o),t.context===null?t.context=o:t.pendingContext=o,t=En(p,_),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=qn(u,t,_),e!==null&&(nn(e,u,_,p),as(e,u,_)),_}function Ls(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _p(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function lc(e,t){_p(e,t),(e=e.alternate)&&_p(e,t)}function By(){return null}var wp=typeof reportError=="function"?reportError:function(e){console.error(e)};function cc(e){this._internalRoot=e}As.prototype.render=cc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));xs(e,t,null,null)},As.prototype.unmount=cc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Sr(function(){xs(null,e,null,null)}),t[wn]=null}};function As(e){this._internalRoot=e}As.prototype.unstable_scheduleHydration=function(e){if(e){var t=nd();e={blockedOn:null,target:e,priority:t};for(var o=0;o<Bn.length&&t!==0&&t<Bn[o].priority;o++);Bn.splice(o,0,e),o===0&&od(e)}};function uc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ns(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sp(){}function Uy(e,t,o,l,u){if(u){if(typeof l=="function"){var p=l;l=function(){var I=Ls(_);p.call(I)}}var _=yp(t,l,e,0,null,!1,!1,"",Sp);return e._reactRootContainer=_,e[wn]=_.current,qi(e.nodeType===8?e.parentNode:e),Sr(),_}for(;u=e.lastChild;)e.removeChild(u);if(typeof l=="function"){var k=l;l=function(){var I=Ls(E);k.call(I)}}var E=ac(e,0,!1,null,null,!1,!1,"",Sp);return e._reactRootContainer=E,e[wn]=E.current,qi(e.nodeType===8?e.parentNode:e),Sr(function(){xs(t,E,o,l)}),E}function js(e,t,o,l,u){var p=o._reactRootContainer;if(p){var _=p;if(typeof u=="function"){var k=u;u=function(){var E=Ls(_);k.call(E)}}xs(t,_,e,u)}else _=Uy(o,t,e,u,l);return Ls(_)}ed=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var o=Ai(t.pendingLanes);o!==0&&(ja(t,o|1),Et(t,Xe()),!(Ee&6)&&(pi=Xe()+500,Jn()))}break;case 13:Sr(function(){var l=Cn(e,1);if(l!==null){var u=_t();nn(l,e,1,u)}}),lc(e,1)}},Da=function(e){if(e.tag===13){var t=Cn(e,134217728);if(t!==null){var o=_t();nn(t,e,134217728,o)}lc(e,134217728)}},td=function(e){if(e.tag===13){var t=Yn(e),o=Cn(e,t);if(o!==null){var l=_t();nn(o,e,t,l)}lc(e,t)}},nd=function(){return Le},rd=function(e,t){var o=Le;try{return Le=e,t()}finally{Le=o}},Ma=function(e,t,o){switch(t){case"input":if(xt(e,o),t=o.name,o.type==="radio"&&t!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<o.length;t++){var l=o[t];if(l!==e&&l.form===e.form){var u=Yo(l);if(!u)throw Error(i(90));ke(l),xt(l,u)}}}break;case"textarea":Vr(e,o);break;case"select":t=o.value,t!=null&&ft(e,!!o.multiple,t,!1)}},$u=tc,zu=Sr;var $y={usingClientEntryPoint:!1,Events:[Ki,ei,Yo,Bu,Uu,tc]},uo={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zy={bundleType:uo.bundleType,version:uo.version,rendererPackageName:uo.rendererPackageName,rendererConfig:uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hu(e),e===null?null:e.stateNode},findFiberByHostInstance:uo.findFiberByHostInstance||By,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ds.isDisabled&&Ds.supportsFiber)try{Ao=Ds.inject(zy),dn=Ds}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$y,Tt.createPortal=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uc(t))throw Error(i(200));return Fy(e,t,null,o)},Tt.createRoot=function(e,t){if(!uc(e))throw Error(i(299));var o=!1,l="",u=wp;return t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=ac(e,1,!1,null,null,o,!1,l,u),e[wn]=t.current,qi(e.nodeType===8?e.parentNode:e),new cc(t)},Tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=Hu(t),e=e===null?null:e.stateNode,e},Tt.flushSync=function(e){return Sr(e)},Tt.hydrate=function(e,t,o){if(!Ns(t))throw Error(i(200));return js(null,e,t,!0,o)},Tt.hydrateRoot=function(e,t,o){if(!uc(e))throw Error(i(405));var l=o!=null&&o.hydratedSources||null,u=!1,p="",_=wp;if(o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),t=yp(t,null,e,1,o??null,u,!1,p,_),e[wn]=t.current,qi(e),l)for(e=0;e<l.length;e++)o=l[e],u=o._getVersion,u=u(o._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[o,u]:t.mutableSourceEagerHydrationData.push(o,u);return new As(t)},Tt.render=function(e,t,o){if(!Ns(t))throw Error(i(200));return js(null,e,t,!1,o)},Tt.unmountComponentAtNode=function(e){if(!Ns(e))throw Error(i(40));return e._reactRootContainer?(Sr(function(){js(null,null,e,!1,function(){e._reactRootContainer=null,e[wn]=null})}),!0):!1},Tt.unstable_batchedUpdates=tc,Tt.unstable_renderSubtreeIntoContainer=function(e,t,o,l){if(!Ns(o))throw Error(i(200));if(e==null||e._reactInternals===void 0)throw Error(i(38));return js(e,t,o,!1,l)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var Op;function Ky(){if(Op)return pc.exports;Op=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),pc.exports=Gy(),pc.exports}var xp;function Yy(){if(xp)return Is;xp=1;var r=Ky();return Is.createRoot=r.createRoot,Is.hydrateRoot=r.hydrateRoot,Is}var Xy=Yy();const Zy=ha(Xy);var vc,Lp;function Fm(){if(Lp)return vc;Lp=1;var r=Object.prototype.toString;vc=function(b){if(b===void 0)return"undefined";if(b===null)return"null";var x=typeof b;if(x==="boolean")return"boolean";if(x==="string")return"string";if(x==="number")return"number";if(x==="symbol")return"symbol";if(x==="function")return f(b)?"generatorfunction":"function";if(i(b))return"array";if(y(b))return"buffer";if(h(b))return"arguments";if(a(b))return"date";if(s(b))return"error";if(c(b))return"regexp";switch(n(b)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(m(b))return"generator";switch(x=r.call(b),x){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return x.slice(8,-1).toLowerCase().replace(/\s/g,"")};function n(w){return typeof w.constructor=="function"?w.constructor.name:null}function i(w){return Array.isArray?Array.isArray(w):w instanceof Array}function s(w){return w instanceof Error||typeof w.message=="string"&&w.constructor&&typeof w.constructor.stackTraceLimit=="number"}function a(w){return w instanceof Date?!0:typeof w.toDateString=="function"&&typeof w.getDate=="function"&&typeof w.setDate=="function"}function c(w){return w instanceof RegExp?!0:typeof w.flags=="string"&&typeof w.ignoreCase=="boolean"&&typeof w.multiline=="boolean"&&typeof w.global=="boolean"}function f(w,b){return n(w)==="GeneratorFunction"}function m(w){return typeof w.throw=="function"&&typeof w.return=="function"&&typeof w.next=="function"}function h(w){try{if(typeof w.length=="number"&&typeof w.callee=="function")return!0}catch(b){if(b.message.indexOf("callee")!==-1)return!0}return!1}function y(w){return w.constructor&&typeof w.constructor.isBuffer=="function"?w.constructor.isBuffer(w):!1}return vc}/*!
 * shallow-clone <https://github.com/jonschlinkert/shallow-clone>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */var gc,Ap;function e0(){if(Ap)return gc;Ap=1;const r=Symbol.prototype.valueOf,n=Fm();function i(h,y){switch(n(h)){case"array":return h.slice();case"object":return Object.assign({},h);case"date":return new h.constructor(Number(h));case"map":return new Map(h);case"set":return new Set(h);case"buffer":return f(h);case"symbol":return m(h);case"arraybuffer":return a(h);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return c(h);case"regexp":return s(h);case"error":return Object.create(h);default:return h}}function s(h){const y=h.flags!==void 0?h.flags:/\w+$/.exec(h)||void 0,w=new h.constructor(h.source,y);return w.lastIndex=h.lastIndex,w}function a(h){const y=new h.constructor(h.byteLength);return new Uint8Array(y).set(new Uint8Array(h)),y}function c(h,y){return new h.constructor(h.buffer,h.byteOffset,h.length)}function f(h){const y=h.length,w=Buffer.allocUnsafe?Buffer.allocUnsafe(y):Buffer.from(y);return h.copy(w),w}function m(h){return r?Object(r.call(h)):{}}return gc=i,gc}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var yc,Np;function t0(){return Np||(Np=1,yc=function(n){return n!=null&&typeof n=="object"&&Array.isArray(n)===!1}),yc}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var _c,jp;function n0(){if(jp)return _c;jp=1;var r=t0();function n(i){return r(i)===!0&&Object.prototype.toString.call(i)==="[object Object]"}return _c=function(s){var a,c;return!(n(s)===!1||(a=s.constructor,typeof a!="function")||(c=a.prototype,n(c)===!1)||c.hasOwnProperty("isPrototypeOf")===!1)},_c}var wc,Dp;function r0(){if(Dp)return wc;Dp=1;const r=e0(),n=Fm(),i=n0();function s(f,m){switch(n(f)){case"object":return a(f,m);case"array":return c(f,m);default:return r(f)}}function a(f,m){if(typeof m=="function")return m(f);if(m||i(f)){const h=new f.constructor;for(let y in f)h[y]=s(f[y],m);return h}return f}function c(f,m){const h=new f.constructor(f.length);for(let y=0;y<f.length;y++)h[y]=s(f[y],m);return h}return wc=s,wc}var i0=r0();const Ip=ha(i0);var Rs={exports:{}},Rp;function o0(){if(Rp)return Rs.exports;Rp=1;var r=typeof Reflect=="object"?Reflect:null,n=r&&typeof r.apply=="function"?r.apply:function(N,B,F){return Function.prototype.apply.call(N,B,F)},i;r&&typeof r.ownKeys=="function"?i=r.ownKeys:Object.getOwnPropertySymbols?i=function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:i=function(N){return Object.getOwnPropertyNames(N)};function s(P){console&&console.warn&&console.warn(P)}var a=Number.isNaN||function(N){return N!==N};function c(){c.init.call(this)}Rs.exports=c,Rs.exports.once=U,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var f=10;function m(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(P){if(typeof P!="number"||P<0||a(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");f=P}}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||a(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this};function h(P){return P._maxListeners===void 0?c.defaultMaxListeners:P._maxListeners}c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(N){for(var B=[],F=1;F<arguments.length;F++)B.push(arguments[F]);var q=N==="error",ee=this._events;if(ee!==void 0)q=q&&ee.error===void 0;else if(!q)return!1;if(q){var Q;if(B.length>0&&(Q=B[0]),Q instanceof Error)throw Q;var pe=new Error("Unhandled error."+(Q?" ("+Q.message+")":""));throw pe.context=Q,pe}var _e=ee[N];if(_e===void 0)return!1;if(typeof _e=="function")n(_e,this,B);else for(var Pe=_e.length,Ue=A(_e,Pe),F=0;F<Pe;++F)n(Ue[F],this,B);return!0};function y(P,N,B,F){var q,ee,Q;if(m(B),ee=P._events,ee===void 0?(ee=P._events=Object.create(null),P._eventsCount=0):(ee.newListener!==void 0&&(P.emit("newListener",N,B.listener?B.listener:B),ee=P._events),Q=ee[N]),Q===void 0)Q=ee[N]=B,++P._eventsCount;else if(typeof Q=="function"?Q=ee[N]=F?[B,Q]:[Q,B]:F?Q.unshift(B):Q.push(B),q=h(P),q>0&&Q.length>q&&!Q.warned){Q.warned=!0;var pe=new Error("Possible EventEmitter memory leak detected. "+Q.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");pe.name="MaxListenersExceededWarning",pe.emitter=P,pe.type=N,pe.count=Q.length,s(pe)}return P}c.prototype.addListener=function(N,B){return y(this,N,B,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(N,B){return y(this,N,B,!0)};function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(P,N,B){var F={fired:!1,wrapFn:void 0,target:P,type:N,listener:B},q=w.bind(F);return q.listener=B,F.wrapFn=q,q}c.prototype.once=function(N,B){return m(B),this.on(N,b(this,N,B)),this},c.prototype.prependOnceListener=function(N,B){return m(B),this.prependListener(N,b(this,N,B)),this},c.prototype.removeListener=function(N,B){var F,q,ee,Q,pe;if(m(B),q=this._events,q===void 0)return this;if(F=q[N],F===void 0)return this;if(F===B||F.listener===B)--this._eventsCount===0?this._events=Object.create(null):(delete q[N],q.removeListener&&this.emit("removeListener",N,F.listener||B));else if(typeof F!="function"){for(ee=-1,Q=F.length-1;Q>=0;Q--)if(F[Q]===B||F[Q].listener===B){pe=F[Q].listener,ee=Q;break}if(ee<0)return this;ee===0?F.shift():D(F,ee),F.length===1&&(q[N]=F[0]),q.removeListener!==void 0&&this.emit("removeListener",N,pe||B)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(N){var B,F,q;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[N]),this;if(arguments.length===0){var ee=Object.keys(F),Q;for(q=0;q<ee.length;++q)Q=ee[q],Q!=="removeListener"&&this.removeAllListeners(Q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(B=F[N],typeof B=="function")this.removeListener(N,B);else if(B!==void 0)for(q=B.length-1;q>=0;q--)this.removeListener(N,B[q]);return this};function x(P,N,B){var F=P._events;if(F===void 0)return[];var q=F[N];return q===void 0?[]:typeof q=="function"?B?[q.listener||q]:[q]:B?z(q):A(q,q.length)}c.prototype.listeners=function(N){return x(this,N,!0)},c.prototype.rawListeners=function(N){return x(this,N,!1)},c.listenerCount=function(P,N){return typeof P.listenerCount=="function"?P.listenerCount(N):M.call(P,N)},c.prototype.listenerCount=M;function M(P){var N=this._events;if(N!==void 0){var B=N[P];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}c.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]};function A(P,N){for(var B=new Array(N),F=0;F<N;++F)B[F]=P[F];return B}function D(P,N){for(;N+1<P.length;N++)P[N]=P[N+1];P.pop()}function z(P){for(var N=new Array(P.length),B=0;B<N.length;++B)N[B]=P[B].listener||P[B];return N}function U(P,N){return new Promise(function(B,F){function q(Q){P.removeListener(N,ee),F(Q)}function ee(){typeof P.removeListener=="function"&&P.removeListener("error",q),B([].slice.call(arguments))}V(P,N,ee,{once:!0}),N!=="error"&&$(P,q,{once:!0})})}function $(P,N,B){typeof P.on=="function"&&V(P,"error",N,B)}function V(P,N,B,F){if(typeof P.on=="function")F.once?P.once(N,B):P.on(N,B);else if(typeof P.addEventListener=="function")P.addEventListener(N,function q(ee){F.once&&P.removeEventListener(N,q),B(ee)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P)}return Rs.exports}var s0=o0();const a0=ha(s0);var ct=[];for(var Sc=0;Sc<256;++Sc)ct.push((Sc+256).toString(16).slice(1));function l0(r,n=0){return(ct[r[n+0]]+ct[r[n+1]]+ct[r[n+2]]+ct[r[n+3]]+"-"+ct[r[n+4]]+ct[r[n+5]]+"-"+ct[r[n+6]]+ct[r[n+7]]+"-"+ct[r[n+8]]+ct[r[n+9]]+"-"+ct[r[n+10]]+ct[r[n+11]]+ct[r[n+12]]+ct[r[n+13]]+ct[r[n+14]]+ct[r[n+15]]).toLowerCase()}var Fs,c0=new Uint8Array(16);function u0(){if(!Fs&&(Fs=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Fs))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fs(c0)}var d0=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Fp={randomUUID:d0};function f0(r,n,i){if(Fp.randomUUID&&!n&&!r)return Fp.randomUUID();r=r||{};var s=r.random||(r.rng||u0)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,n){i=i||0;for(var a=0;a<16;++a)n[i+a]=s[a];return n}return l0(s)}function Ke(r,n,i,s){Object.defineProperty(r,n,{get:i,set:s,enumerable:!0,configurable:!0})}function p0(r){return r&&r.__esModule?r.default:r}var h0={};Ke(h0,"httpActionGenerator",()=>Bm);async function Bm(r,n,i,s){try{Ie.debug("[RTVI] Fetch action",r,n);const a=new Headers({...Object.fromEntries((i.headers??new Headers).entries())});a.has("Content-Type")||a.set("Content-Type","application/json"),a.set("Cache-Control","no-cache"),a.set("Connection","keep-alive");const c=await fetch(r,{method:"POST",headers:a,body:JSON.stringify({...i.requestData,actions:[n]})}),f=c.headers.get("content-type");if(!c.ok){const m=await c.text();throw new Ht(`Failed to resolve action: ${m}`,c.status)}if(c.body&&(f!=null&&f.includes("text/event-stream"))){const m=c.body.pipeThrough(new TextDecoderStream).getReader();let h="";for(;;){const{value:y,done:w}=await m.read();if(w)break;h+=y;let b=h.indexOf(`

`);for(;b!==-1;){const x=h.slice(0,b);h=h.slice(b+2);const M=x.split(`
`);let A="";for(const D of M){const z=D.indexOf(":");z!==-1&&(A+=D.slice(z+1).trim())}try{const D=atob(A),z=JSON.parse(D);s(z)}catch(D){throw Ie.error("[RTVI] Failed to parse JSON:",D),D}b=h.indexOf(`

`)}}}else{const m=await c.json();s(m)}}catch(a){throw Ie.error("[RTVI] Error during fetch:",a),a}}var m0={};Ke(m0,"RTVIClient",()=>jn);var Um={};Um=JSON.parse('{"name":"@pipecat-ai/client-js","version":"0.3.2","license":"BSD-2-Clause","main":"dist/index.js","module":"dist/index.module.js","types":"dist/index.d.ts","source":"src/index.ts","repository":{"type":"git","url":"git+https://github.com/pipecat-ai/pipecat-client-web.git"},"files":["dist","package.json","README.md"],"scripts":{"build":"jest --silent && parcel build --no-cache","dev":"parcel watch","lint":"eslint src/ --report-unused-disable-directives --max-warnings 0","test":"jest"},"jest":{"preset":"ts-jest","testEnvironment":"node"},"devDependencies":{"@jest/globals":"^29.7.0","@types/clone-deep":"^4.0.4","@types/jest":"^29.5.12","@types/uuid":"^10.0.0","eslint":"^9.11.1","eslint-config-prettier":"^9.1.0","eslint-plugin-simple-import-sort":"^12.1.1","jest":"^29.7.0","ts-jest":"^29.2.5"},"dependencies":{"@types/events":"^3.0.3","clone-deep":"^4.0.1","events":"^3.3.0","typed-emitter":"^2.1.0","uuid":"^10.0.0"}}');var $r={};Ke($r,"RTVIError",()=>Ht);Ke($r,"ConnectionTimeoutError",()=>$m);Ke($r,"StartBotError",()=>Uc);Ke($r,"TransportStartError",()=>zm);Ke($r,"BotNotReadyError",()=>ar);Ke($r,"ConfigUpdateError",()=>v0);Ke($r,"ActionEndpointNotSetError",()=>Vm);class Ht extends Error{constructor(n,i){super(n),this.status=i}}class $m extends Ht{constructor(n){super(n??"Bot did not enter ready state within the specified timeout period.")}}class Uc extends Ht{constructor(n,i){super(n??"Failed to connect / invalid auth bundle from base url",i??500),this.error="invalid-request-error"}}class zm extends Ht{constructor(n){super(n??"Unable to connect to transport")}}class ar extends Ht{constructor(n){super(n??"Attempt to call action on transport when not in 'ready' state.")}}class v0 extends Ht{constructor(n){super(n??"Unable to update configuration"),this.status=400}}class Vm extends Ht{constructor(n){super(n??"Action endpoint is not set")}}function Ci(r,n,i){const s=i.value;return i.value=function(...a){if(this.state==="ready")return s.apply(this,a);throw new ar(`Attempt to call ${n.toString()} when transport not in ready state. Await connect() first.`)},i}function g0(...r){return r=["ready",...r],function(n,i,s){const a=s.get;return s.get=function(){if(r.includes(this.state))return a==null?void 0:a.apply(this);throw new ar(`Attempt to call ${i.toString()} when transport not in ${r}. Await connect() first.`)},s}}var y0={};Ke(y0,"RTVIEvent",()=>ce);var ce;(function(r){r.MessageError="messageError",r.Error="error",r.Connected="connected",r.Disconnected="disconnected",r.TransportStateChanged="transportStateChanged",r.Config="config",r.ConfigDescribe="configDescribe",r.ActionsAvailable="actionsAvailable",r.ParticipantConnected="participantConnected",r.ParticipantLeft="participantLeft",r.TrackStarted="trackStarted",r.TrackStopped="trackStopped",r.ScreenTrackStarted="screenTrackStarted",r.ScreenTrackStopped="screenTrackStopped",r.ScreenShareError="screenShareError",r.AvailableCamsUpdated="availableCamsUpdated",r.AvailableMicsUpdated="availableMicsUpdated",r.AvailableSpeakersUpdated="availableSpeakersUpdated",r.CamUpdated="camUpdated",r.MicUpdated="micUpdated",r.SpeakerUpdated="speakerUpdated",r.BotConnected="botConnected",r.BotReady="botReady",r.BotDisconnected="botDisconnected",r.BotStartedSpeaking="botStartedSpeaking",r.BotStoppedSpeaking="botStoppedSpeaking",r.RemoteAudioLevel="remoteAudioLevel",r.UserStartedSpeaking="userStartedSpeaking",r.UserStoppedSpeaking="userStoppedSpeaking",r.LocalAudioLevel="localAudioLevel",r.Metrics="metrics",r.UserTranscript="userTranscript",r.BotTranscript="botTranscript",r.BotLlmText="botLlmText",r.BotLlmStarted="botLlmStarted",r.BotLlmStopped="botLlmStopped",r.BotTtsText="botTtsText",r.BotTtsStarted="botTtsStarted",r.BotTtsStopped="botTtsStopped",r.LLMFunctionCall="llmFunctionCall",r.LLMFunctionCallStart="llmFunctionCallStart",r.LLMJsonCompletion="llmJsonCompletion",r.StorageItemStored="storageItemStored"})(ce||(ce={}));var _0={};Ke(_0,"RTVIClientHelper",()=>vu);class vu{constructor(n){this._options=n}set client(n){this._client=n}set service(n){this._service=n}}var Wm={};Ke(Wm,"LogLevel",()=>or);Ke(Wm,"logger",()=>Ie);var or;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=1]="ERROR",r[r.WARN=2]="WARN",r[r.INFO=3]="INFO",r[r.DEBUG=4]="DEBUG"})(or||(or={}));class vi{constructor(){this.level=or.DEBUG}static getInstance(){return vi.instance||(vi.instance=new vi),vi.instance}setLevel(n){this.level=n}debug(...n){this.level>=or.DEBUG&&console.debug(...n)}info(...n){this.level>=or.INFO&&console.info(...n)}warn(...n){this.level>=or.WARN&&console.warn(...n)}error(...n){this.level>=or.ERROR&&console.error(...n)}}const Ie=vi.getInstance();var Ei={};Ke(Ei,"RTVI_MESSAGE_LABEL",()=>Jm);Ke(Ei,"RTVIMessageType",()=>Te);Ke(Ei,"RTVIMessage",()=>dt);Ke(Ei,"RTVI_ACTION_TYPE",()=>Hm);Ke(Ei,"RTVIActionRequest",()=>qm);Ke(Ei,"MessageDispatcher",()=>Qm);const Jm="rtvi-ai";var Te;(function(r){r.CLIENT_READY="client-ready",r.UPDATE_CONFIG="update-config",r.GET_CONFIG="get-config",r.DESCRIBE_CONFIG="describe-config",r.DESCRIBE_ACTIONS="describe-actions",r.DISCONNECT_BOT="disconnect-bot",r.BOT_READY="bot-ready",r.ERROR="error",r.ERROR_RESPONSE="error-response",r.CONFIG="config",r.CONFIG_AVAILABLE="config-available",r.CONFIG_ERROR="config-error",r.ACTIONS_AVAILABLE="actions-available",r.ACTION_RESPONSE="action-response",r.METRICS="metrics",r.USER_TRANSCRIPTION="user-transcription",r.BOT_TRANSCRIPTION="bot-transcription",r.USER_STARTED_SPEAKING="user-started-speaking",r.USER_STOPPED_SPEAKING="user-stopped-speaking",r.BOT_STARTED_SPEAKING="bot-started-speaking",r.BOT_STOPPED_SPEAKING="bot-stopped-speaking",r.USER_LLM_TEXT="user-llm-text",r.BOT_LLM_TEXT="bot-llm-text",r.BOT_LLM_STARTED="bot-llm-started",r.BOT_LLM_STOPPED="bot-llm-stopped",r.BOT_TTS_TEXT="bot-tts-text",r.BOT_TTS_STARTED="bot-tts-started",r.BOT_TTS_STOPPED="bot-tts-stopped",r.STORAGE_ITEM_STORED="storage-item-stored"})(Te||(Te={}));class dt{constructor(n,i,s){this.label=Jm,this.type=n,this.data=i,this.id=s||f0().slice(0,8)}static clientReady(){return new dt(Te.CLIENT_READY,{})}static updateConfig(n,i=!1){return new dt(Te.UPDATE_CONFIG,{config:n,interrupt:i})}static describeConfig(){return new dt(Te.DESCRIBE_CONFIG,{})}static getBotConfig(){return new dt(Te.GET_CONFIG,{})}static describeActions(){return new dt(Te.DESCRIBE_ACTIONS,{})}static disconnectBot(){return new dt(Te.DISCONNECT_BOT,{})}}const Hm="action";class qm extends dt{constructor(n){super(Hm,n)}}class Qm{constructor(n){this._queue=new Array,this._gcTime=1e4,this._queue=[],this._client=n}dispatch(n){const i=new Promise((s,a)=>{this._queue.push({message:n,timestamp:Date.now(),resolve:s,reject:a})});return Ie.debug("[MessageDispatcher] dispatch",n),this._client.sendMessage(n),this._gc(),i}async dispatchAction(n,i){var a;const s=new Promise((c,f)=>{this._queue.push({message:n,timestamp:Date.now(),resolve:c,reject:f})});if(Ie.debug("[MessageDispatcher] action",n),this._client.connected)this._client.sendMessage(n);else{if(!((a=this._client.params.endpoints)!=null&&a.action))throw Ie.error("[MessageDispatcher] Action endpoint is required when dispatching action in disconnected state"),new Vm;const c=this._client.constructUrl("action");try{await Bm(c,n,this._client.params,f=>{i(f)})}catch{i(new dt(Te.ERROR_RESPONSE,`Action endpoint '${c}' returned an error response`,n.id))}}return this._gc(),s}_resolveReject(n,i=!0){const s=this._queue.find(a=>a.message.id===n.id);return s&&(i?(Ie.debug("[MessageDispatcher] Resolve",n),s.resolve((n.type===Te.ACTION_RESPONSE,n))):(Ie.debug("[MessageDispatcher] Reject",n),s.reject(n)),this._queue=this._queue.filter(a=>a.message.id!==n.id),Ie.debug("[MessageDispatcher] Queue",this._queue)),n}resolve(n){return this._resolveReject(n,!0)}reject(n){return this._resolveReject(n,!1)}_gc(){this._queue=this._queue.filter(n=>Date.now()-n.timestamp<this._gcTime),Ie.debug("[MessageDispatcher] GC",this._queue)}}var zr=function(r,n,i,s){var a=arguments.length,c=a<3?n:s===null?s=Object.getOwnPropertyDescriptor(n,i):s,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(r,n,i,s);else for(var m=r.length-1;m>=0;m--)(f=r[m])&&(c=(a<3?f(c):a>3?f(n,i,c):f(n,i))||c);return a>3&&c&&Object.defineProperty(n,i,c),c};const w0={connect:"/connect",action:"/action"};class S0 extends a0{}class jn extends S0{constructor(n){super(),this.params={...n.params,endpoints:{...w0,...n.params.endpoints??{}}},this._helpers={},this._transport=n.transport;const i={...n.callbacks,onMessageError:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onMessageError)==null||c.call(a,s),this.emit(ce.MessageError,s)},onError:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onError)==null||c.call(a,s),this.emit(ce.Error,s)},onConnected:()=>{var s,a;(a=(s=n==null?void 0:n.callbacks)==null?void 0:s.onConnected)==null||a.call(s),this.emit(ce.Connected)},onDisconnected:()=>{var s,a;(a=(s=n==null?void 0:n.callbacks)==null?void 0:s.onDisconnected)==null||a.call(s),this.emit(ce.Disconnected)},onTransportStateChanged:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onTransportStateChanged)==null||c.call(a,s),this.emit(ce.TransportStateChanged,s)},onConfig:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onConfig)==null||c.call(a,s),this.emit(ce.Config,s)},onConfigDescribe:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onConfigDescribe)==null||c.call(a,s),this.emit(ce.ConfigDescribe,s)},onActionsAvailable:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onActionsAvailable)==null||c.call(a,s),this.emit(ce.ActionsAvailable,s)},onParticipantJoined:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onParticipantJoined)==null||c.call(a,s),this.emit(ce.ParticipantConnected,s)},onParticipantLeft:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onParticipantLeft)==null||c.call(a,s),this.emit(ce.ParticipantLeft,s)},onTrackStarted:(s,a)=>{var c,f;(f=(c=n==null?void 0:n.callbacks)==null?void 0:c.onTrackStarted)==null||f.call(c,s,a),this.emit(ce.TrackStarted,s,a)},onTrackStopped:(s,a)=>{var c,f;(f=(c=n==null?void 0:n.callbacks)==null?void 0:c.onTrackStopped)==null||f.call(c,s,a),this.emit(ce.TrackStopped,s,a)},onScreenTrackStarted:(s,a)=>{var c,f;(f=(c=n==null?void 0:n.callbacks)==null?void 0:c.onScreenTrackStarted)==null||f.call(c,s,a),this.emit(ce.ScreenTrackStarted,s,a)},onScreenTrackStopped:(s,a)=>{var c,f;(f=(c=n==null?void 0:n.callbacks)==null?void 0:c.onScreenTrackStopped)==null||f.call(c,s,a),this.emit(ce.ScreenTrackStopped,s,a)},onScreenShareError:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onScreenShareError)==null||c.call(a,s),this.emit(ce.ScreenShareError,s)},onAvailableCamsUpdated:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onAvailableCamsUpdated)==null||c.call(a,s),this.emit(ce.AvailableCamsUpdated,s)},onAvailableMicsUpdated:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onAvailableMicsUpdated)==null||c.call(a,s),this.emit(ce.AvailableMicsUpdated,s)},onAvailableSpeakersUpdated:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onAvailableSpeakersUpdated)==null||c.call(a,s),this.emit(ce.AvailableSpeakersUpdated,s)},onCamUpdated:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onCamUpdated)==null||c.call(a,s),this.emit(ce.CamUpdated,s)},onMicUpdated:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onMicUpdated)==null||c.call(a,s),this.emit(ce.MicUpdated,s)},onSpeakerUpdated:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onSpeakerUpdated)==null||c.call(a,s),this.emit(ce.SpeakerUpdated,s)},onBotConnected:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onBotConnected)==null||c.call(a,s),this.emit(ce.BotConnected,s)},onBotReady:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onBotReady)==null||c.call(a,s),this.emit(ce.BotReady,s)},onBotDisconnected:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onBotDisconnected)==null||c.call(a,s),this.emit(ce.BotDisconnected,s)},onBotStartedSpeaking:()=>{var s,a;(a=(s=n==null?void 0:n.callbacks)==null?void 0:s.onBotStartedSpeaking)==null||a.call(s),this.emit(ce.BotStartedSpeaking)},onBotStoppedSpeaking:()=>{var s,a;(a=(s=n==null?void 0:n.callbacks)==null?void 0:s.onBotStoppedSpeaking)==null||a.call(s),this.emit(ce.BotStoppedSpeaking)},onRemoteAudioLevel:(s,a)=>{var c,f;(f=(c=n==null?void 0:n.callbacks)==null?void 0:c.onRemoteAudioLevel)==null||f.call(c,s,a),this.emit(ce.RemoteAudioLevel,s,a)},onUserStartedSpeaking:()=>{var s,a;(a=(s=n==null?void 0:n.callbacks)==null?void 0:s.onUserStartedSpeaking)==null||a.call(s),this.emit(ce.UserStartedSpeaking)},onUserStoppedSpeaking:()=>{var s,a;(a=(s=n==null?void 0:n.callbacks)==null?void 0:s.onUserStoppedSpeaking)==null||a.call(s),this.emit(ce.UserStoppedSpeaking)},onLocalAudioLevel:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onLocalAudioLevel)==null||c.call(a,s),this.emit(ce.LocalAudioLevel,s)},onUserTranscript:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onUserTranscript)==null||c.call(a,s),this.emit(ce.UserTranscript,s)},onBotTranscript:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onBotTranscript)==null||c.call(a,s),this.emit(ce.BotTranscript,s)},onBotLlmText:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onBotLlmText)==null||c.call(a,s),this.emit(ce.BotLlmText,s)},onBotLlmStarted:()=>{var s,a;(a=(s=n==null?void 0:n.callbacks)==null?void 0:s.onBotLlmStarted)==null||a.call(s),this.emit(ce.BotLlmStarted)},onBotLlmStopped:()=>{var s,a;(a=(s=n==null?void 0:n.callbacks)==null?void 0:s.onBotLlmStopped)==null||a.call(s),this.emit(ce.BotLlmStopped)},onBotTtsText:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onBotTtsText)==null||c.call(a,s),this.emit(ce.BotTtsText,s)},onBotTtsStarted:()=>{var s,a;(a=(s=n==null?void 0:n.callbacks)==null?void 0:s.onBotTtsStarted)==null||a.call(s),this.emit(ce.BotTtsStarted)},onBotTtsStopped:()=>{var s,a;(a=(s=n==null?void 0:n.callbacks)==null?void 0:s.onBotTtsStopped)==null||a.call(s),this.emit(ce.BotTtsStopped)},onStorageItemStored:s=>{var a,c;(c=(a=n==null?void 0:n.callbacks)==null?void 0:a.onStorageItemStored)==null||c.call(a,s),this.emit(ce.StorageItemStored,s)}};this._options={...n,callbacks:i,enableMic:n.enableMic??!0,enableCam:n.enableCam??!1},this._initialize(),Ie.debug("[RTVI Client] Initialized",this.version)}constructUrl(n){var s;if(!this.params.baseUrl)throw new Ht("Base URL not set. Please set rtviClient.params.baseUrl");return this.params.baseUrl.replace(/\/+$/,"")+(((s=this.params.endpoints)==null?void 0:s[n])??"")}setLogLevel(n){Ie.setLevel(n)}async initDevices(){Ie.debug("[RTVI Client] Initializing devices..."),await this._transport.initDevices()}async connect(){if(["authenticating","connecting","connected","ready"].includes(this._transport.state))throw new Ht("Voice client has already been started. Please call disconnect() before starting again.");return this._abortController=new AbortController,new Promise((n,i)=>{(async()=>{var c,f,m;this._startResolve=n,this._transport.state==="disconnected"&&await this._transport.initDevices(),this._transport.state="authenticating",this._options.timeout&&(this._handshakeTimeout=setTimeout(async()=>{var h;(h=this._abortController)==null||h.abort(),await this.disconnect(),this._transport.state="error",i(new $m)},this._options.timeout));let s;const a=this._options.customConnectHandler;if(Ie.debug("[RTVI Client] Start params",this.params),this.params={...this.params,requestData:{...this.params.requestData,rtvi_client_version:this.version}},!this.params.baseUrl&&!((c=this.params.endpoints)!=null&&c.connect))Ie.debug("[RTVI Client] Connecting directly (skipping handshake / auth)..."),clearTimeout(this._handshakeTimeout);else{const h=this.constructUrl("connect");Ie.debug("[RTVI Client] Connecting...",h),Ie.debug("[RTVI Client] Start params",this.params);try{a?s=await a(this.params,this._handshakeTimeout,this._abortController):s=await fetch(h,{method:"POST",mode:"cors",headers:new Headers({"Content-Type":"application/json",...Object.fromEntries((this.params.headers??new Headers).entries())}),body:JSON.stringify({config:this.params.config,...this.params.services?{services:this.params.services}:{},...this.params.requestData}),signal:(f=this._abortController)==null?void 0:f.signal}).then(y=>(clearTimeout(this._handshakeTimeout),y.ok?y.json():Promise.reject(y)))}catch(y){if(clearTimeout(this._handshakeTimeout),(m=this._abortController)!=null&&m.signal.aborted)return;if(this._transport.state="error",y instanceof Response){const w=await y.json();i(new Uc(w.info??w.detail??y.statusText,y.status))}else i(new Uc);return}Ie.debug("[RTVI Client] Auth bundle received",s)}try{await this._transport.connect(s,this._abortController)}catch(h){clearTimeout(this._handshakeTimeout),i(h);return}await this._transport.sendReadyMessage()})()})}async disconnect(){this._abortController&&this._abortController.abort(),clearTimeout(this._handshakeTimeout),await this._transport.disconnect(),this._initialize()}_initialize(){this._transport=this._options.transport,this._transport.initialize(this._options,this.handleMessage.bind(this)),this._messageDispatcher=new Qm(this)}get connected(){return["connected","ready"].includes(this._transport.state)}get state(){return this._transport.state}get version(){return p0(Um).version}async getAllMics(){return await this._transport.getAllMics()}async getAllCams(){return await this._transport.getAllCams()}async getAllSpeakers(){return await this._transport.getAllSpeakers()}get selectedMic(){return this._transport.selectedMic}get selectedCam(){return this._transport.selectedCam}get selectedSpeaker(){return this._transport.selectedSpeaker}updateMic(n){this._transport.updateMic(n)}updateCam(n){this._transport.updateCam(n)}updateSpeaker(n){this._transport.updateSpeaker(n)}enableMic(n){this._transport.enableMic(n)}get isMicEnabled(){return this._transport.isMicEnabled}enableCam(n){this._transport.enableCam(n)}get isCamEnabled(){return this._transport.isCamEnabled}tracks(){return this._transport.tracks()}enableScreenShare(n){return this._transport.enableScreenShare(n)}get isSharingScreen(){return this._transport.isSharingScreen}async getConfig(){return(await this._messageDispatcher.dispatch(dt.getBotConfig())).data.config}async updateConfig(n,i=!1){return Ie.debug("[RTVI Client] Updating config",n),this._messageDispatcher.dispatch(dt.updateConfig(n,i))}async describeConfig(){return this._messageDispatcher.dispatch(dt.describeConfig())}async getServiceOptionsFromConfig(n,i){if(!i&&this.state!=="ready")throw new ar("getServiceOptionsFromConfig called without config array before bot is ready");return Promise.resolve().then(async()=>{if(!n){Ie.debug("Target service name is required");return}const a=(i??await this.getConfig()).find(c=>c.service===n);if(!a){Ie.debug("No service with name "+n+" not found in config");return}return a})}async getServiceOptionValueFromConfig(n,i,s){const a=await this.getServiceOptionsFromConfig(n,s);if(!a){Ie.debug("Service with name "+n+" not found in config");return}const c=a.options.find(f=>f.name===i);return c?c.value:void 0}_updateOrAddOption(n,i){const s=n.findIndex(a=>a.name===i.name);return s!==-1?n.map((a,c)=>c===s?{...a,value:i.value}:a):[...n,{name:i.name,value:i.value}]}async setServiceOptionInConfig(n,i,s){const a=Ip(s??await this.getConfig());if(!await this.getServiceOptionsFromConfig(n,a))return Ie.debug("Service with name '"+n+"' not found in config"),a;const f=Array.isArray(i)?i:[i];for(const m of f){const h=a.find(w=>w.service===n),y=h?this._updateOrAddOption(h.options,m):[{name:m.name,value:m.value}];h?h.options=y:a.push({service:n,options:y})}return a}async setConfigOptions(n,i){let s=Ip(i??await this.getConfig());for(const a of n)s=await this.setServiceOptionInConfig(a.service,a.options,s)||s;return s}async action(n){return this._messageDispatcher.dispatchAction(new qm(n),this.handleMessage.bind(this))}async describeActions(){return this._messageDispatcher.dispatch(dt.describeActions())}get transportExpiry(){return this._transport.expiry}sendMessage(n){this._transport.sendMessage(n)}disconnectBot(){this._transport.sendMessage(new dt(Te.DISCONNECT_BOT,{}))}handleMessage(n){var i,s,a,c,f,m,h,y,w,b,x,M,A,D,z,U,$,V,P,N,B,F,q,ee,Q,pe,_e,Pe,Ue,Ye,We,Ce,Z,ae,te,O,W,ue,d,v,g,C,S;switch(Ie.debug("[RTVI Message]",n),n.type){case Te.BOT_READY:clearTimeout(this._handshakeTimeout),(i=this._startResolve)==null||i.call(this,n.data),(a=(s=this._options.callbacks)==null?void 0:s.onBotReady)==null||a.call(s,n.data);break;case Te.CONFIG_AVAILABLE:this._messageDispatcher.resolve(n),(f=(c=this._options.callbacks)==null?void 0:c.onConfigDescribe)==null||f.call(c,n.data);break;case Te.CONFIG:{const R=this._messageDispatcher.resolve(n);(h=(m=this._options.callbacks)==null?void 0:m.onConfig)==null||h.call(m,R.data.config);break}case Te.ACTIONS_AVAILABLE:this._messageDispatcher.resolve(n),(w=(y=this._options.callbacks)==null?void 0:y.onActionsAvailable)==null||w.call(y,n.data);break;case Te.ACTION_RESPONSE:this._messageDispatcher.resolve(n);break;case Te.ERROR_RESPONSE:{const R=this._messageDispatcher.reject(n);(x=(b=this._options.callbacks)==null?void 0:b.onMessageError)==null||x.call(b,R);break}case Te.ERROR:(A=(M=this._options.callbacks)==null?void 0:M.onError)==null||A.call(M,n);break;case Te.USER_STARTED_SPEAKING:(z=(D=this._options.callbacks)==null?void 0:D.onUserStartedSpeaking)==null||z.call(D);break;case Te.USER_STOPPED_SPEAKING:($=(U=this._options.callbacks)==null?void 0:U.onUserStoppedSpeaking)==null||$.call(U);break;case Te.BOT_STARTED_SPEAKING:(P=(V=this._options.callbacks)==null?void 0:V.onBotStartedSpeaking)==null||P.call(V);break;case Te.BOT_STOPPED_SPEAKING:(B=(N=this._options.callbacks)==null?void 0:N.onBotStoppedSpeaking)==null||B.call(N);break;case Te.USER_TRANSCRIPTION:{const R=n.data;(q=(F=this._options.callbacks)==null?void 0:F.onUserTranscript)==null||q.call(F,R);break}case Te.BOT_TRANSCRIPTION:(Q=(ee=this._options.callbacks)==null?void 0:ee.onBotTranscript)==null||Q.call(ee,n.data);break;case Te.BOT_LLM_TEXT:(_e=(pe=this._options.callbacks)==null?void 0:pe.onBotLlmText)==null||_e.call(pe,n.data);break;case Te.BOT_LLM_STARTED:(Ue=(Pe=this._options.callbacks)==null?void 0:Pe.onBotLlmStarted)==null||Ue.call(Pe);break;case Te.BOT_LLM_STOPPED:(We=(Ye=this._options.callbacks)==null?void 0:Ye.onBotLlmStopped)==null||We.call(Ye);break;case Te.BOT_TTS_TEXT:(Z=(Ce=this._options.callbacks)==null?void 0:Ce.onBotTtsText)==null||Z.call(Ce,n.data);break;case Te.BOT_TTS_STARTED:(te=(ae=this._options.callbacks)==null?void 0:ae.onBotTtsStarted)==null||te.call(ae);break;case Te.BOT_TTS_STOPPED:(W=(O=this._options.callbacks)==null?void 0:O.onBotTtsStopped)==null||W.call(O);break;case Te.METRICS:this.emit(ce.Metrics,n.data),(d=(ue=this._options.callbacks)==null?void 0:ue.onMetrics)==null||d.call(ue,n.data);break;case Te.STORAGE_ITEM_STORED:(g=(v=this._options.callbacks)==null?void 0:v.onStorageItemStored)==null||g.call(v,n.data);break;default:{let R=!1;for(const X of Object.values(this._helpers))X.getMessageTypes().includes(n.type)&&(R=!0,X.handleMessage(n));R||(S=(C=this._options.callbacks)==null?void 0:C.onGenericMessage)==null||S.call(C,n.data)}}}registerHelper(n,i){if(this._helpers[n])throw new Error(`Helper with name '${n}' already registered`);if(!(i instanceof vu))throw new Error("Helper must be an instance of RTVIClientHelper");return i.service=n,i.client=this,this._helpers[n]=i,this._helpers[n]}getHelper(n){const i=this._helpers[n];if(!i){Ie.debug(`Helper targeting service '${n}' not found`);return}return i}unregisterHelper(n){this._helpers[n]&&delete this._helpers[n]}}zr([Ci],jn.prototype,"getConfig",null);zr([Ci],jn.prototype,"updateConfig",null);zr([Ci],jn.prototype,"describeConfig",null);zr([Ci],jn.prototype,"describeActions",null);zr([g0("connected","ready")],jn.prototype,"transportExpiry",null);zr([Ci],jn.prototype,"sendMessage",null);zr([Ci],jn.prototype,"disconnectBot",null);var Gm={};Ke(Gm,"LLMMessageType",()=>sr);Ke(Gm,"LLMHelper",()=>k0);var sr;(function(r){r.LLM_FUNCTION_CALL="llm-function-call",r.LLM_FUNCTION_CALL_START="llm-function-call-start",r.LLM_FUNCTION_CALL_RESULT="llm-function-call-result",r.LLM_JSON_COMPLETION="llm-json-completion"})(sr||(sr={}));class k0 extends vu{constructor(n){super(n),this._functionCallCallback=null}getMessageTypes(){return Object.values(sr)}async getContext(){if(this._client.state!=="ready")throw new ar("getContext called while transport not in ready state");return(await this._client.action({service:this._service,action:"get_context"})).data.result}async setContext(n,i=!1){if(this._client.state!=="ready")throw new ar("setContext called while transport not in ready state");return!!(await this._client.action({service:this._service,action:"set_context",arguments:[{name:"messages",value:n.messages},{name:"interrupt",value:i}]})).data.result}async appendToMessages(n,i=!1){if(this._client.state!=="ready")throw new ar("setContext called while transport not in ready state");return!!(await this._client.action({service:this._service,action:"append_to_messages",arguments:[{name:"messages",value:[n]},{name:"run_immediately",value:i}]})).data.result}async run(n=!1){if(this._client.state==="ready")return this._client.action({service:this._service,action:"run",arguments:[{name:"interrupt",value:n}]})}handleFunctionCall(n){this._functionCallCallback=n}handleMessage(n){var i,s,a,c,f,m;switch(n.type){case sr.LLM_JSON_COMPLETION:(s=(i=this._options.callbacks)==null?void 0:i.onLLMJsonCompletion)==null||s.call(i,n.data),this._client.emit(ce.LLMJsonCompletion,n.data);break;case sr.LLM_FUNCTION_CALL:{const h=n.data;if((c=(a=this._options.callbacks)==null?void 0:a.onLLMFunctionCall)==null||c.call(a,n.data),this._client.emit(ce.LLMFunctionCall,n.data),this._functionCallCallback){const y={functionName:h.function_name,arguments:h.args};if(this._client.state==="ready")this._functionCallCallback(y).then(w=>{this._client.sendMessage(new dt(sr.LLM_FUNCTION_CALL_RESULT,{function_name:h.function_name,tool_call_id:h.tool_call_id,arguments:h.args,result:w}))});else throw new ar("Attempted to send a function call result from bot while transport not in ready state")}break}case sr.LLM_FUNCTION_CALL_START:{const h=n.data;(m=(f=this._options.callbacks)==null?void 0:f.onLLMFunctionCallStart)==null||m.call(f,h.function_name),this._client.emit(ce.LLMFunctionCallStart,h.function_name);break}}}}var b0={};Ke(b0,"Transport",()=>Km);class Km{constructor(){this._state="disconnected",this._expiry=void 0}get expiry(){return this._expiry}}const Nn={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://localhost:8080",VITE_GIT_VERSION:"9f215dad4c6eddf00a0eaae43bf03f9cd95a0811"};let C0=0;function Ot(r,n){const i=`atom${++C0}`,s={toString(){return(Nn?"production":void 0)!=="production"&&this.debugLabel?i+":"+this.debugLabel:i}};return typeof r=="function"?s.read=r:(s.init=r,s.read=E0,s.write=T0),n&&(s.write=n),s}function E0(r){return r(this)}function T0(r,n,i){return n(this,typeof i=="function"?i(r(this)):i)}const Bp=(r,n)=>r.unstable_is?r.unstable_is(n):n===r,$c=r=>"init"in r,kc=r=>!!r.write,ia=new WeakMap,zc=r=>{var n;return Vc(r)&&!((n=ia.get(r))!=null&&n[1])},M0=(r,n)=>{const i=ia.get(r);if(i)i[1]=!0,i[0].forEach(s=>s(n));else if((Nn?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},P0=r=>{if(ia.has(r))return;const n=[new Set,!1];ia.set(r,n);const i=()=>{n[1]=!0};r.then(i,i),r.onCancel=s=>{n[0].add(s)}},Vc=r=>typeof(r==null?void 0:r.then)=="function",Up=r=>"v"in r||"e"in r,Bs=r=>{if("e"in r)throw r.e;if((Nn?"production":void 0)!=="production"&&!("v"in r))throw new Error("[Bug] atom state is not initialized");return r.v},Ym=(r,n,i)=>{i.p.has(r)||(i.p.add(r),n.then(()=>{i.p.delete(r)},()=>{i.p.delete(r)}))},$p=(r,n,i,s,a)=>{var c;if((Nn?"production":void 0)!=="production"&&s===n)throw new Error("[Bug] atom cannot depend on itself");i.d.set(s,a.n),zc(i.v)&&Ym(n,i.v,a),(c=a.m)==null||c.t.add(n),r&&O0(r,s,n)},po=()=>({D:new Map,H:new Set,M:new Set,L:new Set}),wo=(r,n,i)=>{r[n].add(i)},zp=(r,n,i)=>{r.D.has(n)||(r.D.set(n,new Set),wo(r,"M",()=>{var s;(s=i.m)==null||s.l.forEach(a=>wo(r,"M",a))}))},O0=(r,n,i)=>{const s=r.D.get(n);s&&s.add(i)},x0=(r,n)=>r.D.get(n),Er=r=>{let n,i=!1;const s=a=>{try{a()}catch(c){i||(n=c,i=!0)}};for(;r.H.size||r.M.size||r.L.size;)r.D.clear(),r.H.forEach(s),r.H.clear(),r.M.forEach(s),r.M.clear(),r.L.forEach(s),r.L.clear();if(i)throw n},Xm=(...[r,n,i,s])=>{const a=(U,$,V)=>{const P="v"in $,N=$.v,B=zc($.v)?$.v:null;if(Vc(V)){P0(V);for(const F of $.d.keys())Ym(U,V,r(F));$.v=V}else $.v=V;delete $.e,delete $.x,(!P||!Object.is(N,$.v))&&(++$.n,B&&M0(B,V))},c=(U,$)=>{var V;const P=r($);if(Up(P)&&(P.m&&!P.x||Array.from(P.d).every(([Q,pe])=>c(U,Q).n===pe)))return P;P.d.clear();let N=!0;const B=Q=>{if(Bp($,Q)){const _e=r(Q);if(!Up(_e))if($c(Q))a(Q,_e,Q.init);else throw new Error("no atom init");return Bs(_e)}const pe=c(U,Q);try{return Bs(pe)}finally{if(N)$p(U,$,P,Q,pe);else{const _e=po();$p(_e,$,P,Q,pe),b(_e,$,P),Er(_e)}}};let F,q;const ee={get signal(){return F||(F=new AbortController),F.signal},get setSelf(){return(Nn?"production":void 0)!=="production"&&!kc($)&&console.warn("setSelf function cannot be used with read-only atom"),!q&&kc($)&&(q=(...Q)=>{if((Nn?"production":void 0)!=="production"&&N&&console.warn("setSelf function cannot be called in sync"),!N)return w($,...Q)}),q}};try{const Q=n($,B,ee);if(a($,P,Q),Vc(Q)){(V=Q.onCancel)==null||V.call(Q,()=>F==null?void 0:F.abort());const pe=()=>{if(P.m){const _e=po();b(_e,$,P),Er(_e)}};Q.then(pe,pe)}return P}catch(Q){return delete P.v,P.e=Q,delete P.x,++P.n,P}finally{N=!1}},f=U=>Bs(c(void 0,U)),m=(U,$,V)=>{var P,N;const B=new Map;for(const F of((P=V.m)==null?void 0:P.t)||[]){const q=r(F);q.m&&B.set(F,q)}for(const F of V.p)B.set(F,r(F));return(N=x0(U,$))==null||N.forEach(F=>{B.set(F,r(F))}),B},h=(U,$,V)=>{const P=[],N=new Set,B=new Set,F=[[$,V]];for(;F.length>0;){const[q,ee]=F[F.length-1];if(B.has(q)){F.pop();continue}if(N.has(q)){P.push([q,ee,ee.n]),B.add(q),ee.x=!0,F.pop();continue}N.add(q);for(const[Q,pe]of m(U,q,ee))q!==Q&&!N.has(Q)&&F.push([Q,pe])}wo(U,"H",()=>{const q=new Set([$]);for(let ee=P.length-1;ee>=0;--ee){const[Q,pe,_e]=P[ee];let Pe=!1;for(const Ue of pe.d.keys())if(Ue!==Q&&q.has(Ue)){Pe=!0;break}Pe&&(c(U,Q),b(U,Q,pe),_e!==pe.n&&(zp(U,Q,pe),q.add(Q))),delete pe.x}})},y=(U,$,...V)=>{let P=!0;const N=F=>Bs(c(U,F)),B=(F,...q)=>{const ee=r(F);try{if(Bp($,F)){if(!$c(F))throw new Error("atom not writable");const Q=ee.n,pe=q[0];a(F,ee,pe),b(U,F,ee),Q!==ee.n&&(zp(U,F,ee),h(U,F,ee));return}else return y(U,F,...q)}finally{P||Er(U)}};try{return i($,N,B,...V)}finally{P=!1}},w=(U,...$)=>{const V=po();try{return y(V,U,...$)}finally{Er(V)}},b=(U,$,V)=>{if(V.m&&!zc(V.v)){for(const P of V.d.keys())V.m.d.has(P)||(x(U,P,r(P)).t.add($),V.m.d.add(P));for(const P of V.m.d||[])if(!V.d.has(P)){V.m.d.delete(P);const N=M(U,P,r(P));N==null||N.t.delete($)}}},x=(U,$,V)=>{if(!V.m){c(U,$);for(const P of V.d.keys())x(U,P,r(P)).t.add($);if(V.m={l:new Set,d:new Set(V.d.keys()),t:new Set},kc($)){const P=V.m;let N;const B=(F,q)=>{let ee=!0;N=(...Q)=>{try{return y(F,$,...Q)}finally{ee||Er(F)}};try{return q()}finally{ee=!1}};wo(U,"L",()=>{const F=B(U,()=>s($,(...q)=>N(...q)));F&&(P.u=q=>B(q,F))})}}return V.m},M=(U,$,V)=>{if(V.m&&!V.m.l.size&&!Array.from(V.m.t).some(P=>{var N;return(N=r(P).m)==null?void 0:N.d.has($)})){const P=V.m.u;P&&wo(U,"L",()=>P(U)),delete V.m;for(const N of V.d.keys()){const B=M(U,N,r(N));B==null||B.t.delete($)}return}return V.m};return{get:f,set:w,sub:(U,$)=>{const V=po(),P=r(U),B=x(V,U,P).l;return B.add($),Er(V),()=>{B.delete($);const F=po();M(F,U,P),Er(F)}},unstable_derive:U=>Xm(...U(r,n,i,s))}},L0=r=>{const n=new WeakMap,i=new Set;let s,a=0;const c=r.unstable_derive((h,y,w,b)=>(s=h,[x=>{let M=n.get(x);if(!M){const A=h(x);M=new Proxy(A,{set(D,z,U){return z==="m"&&i.add(x),Reflect.set(D,z,U)},deleteProperty(D,z){return z==="m"&&i.delete(x),Reflect.deleteProperty(D,z)}}),n.set(x,M)}return M},y,(x,M,A,...D)=>a?A(x,...D):w(x,M,A,...D),b])),f=c.set;return Object.assign(c,{dev4_get_internal_weak_map:()=>({get:h=>{const y=s(h);if(y.n!==0)return y}}),dev4_get_mounted_atoms:()=>i,dev4_restore_atoms:h=>{f({read:()=>null,write:(w,b)=>{++a;try{for(const[x,M]of h)$c(x)&&b(x,M)}finally{--a}}})}})},gu=()=>{const r=new WeakMap,i=Xm(s=>{if((Nn?"production":void 0)!=="production"&&!s)throw new Error("Atom is undefined or null");let a=r.get(s);return a||(a={d:new Map,p:new Set,n:0},r.set(s,a)),a},(s,...a)=>s.read(...a),(s,...a)=>s.write(...a),(s,...a)=>{var c;return(c=s.onMount)==null?void 0:c.call(s,...a)});return(Nn?"production":void 0)!=="production"?L0(i):i};let ho;const A0=()=>(ho||(ho=gu(),(Nn?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=ho),globalThis.__JOTAI_DEFAULT_STORE__!==ho&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),ho),Zm={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://localhost:8080",VITE_GIT_VERSION:"9f215dad4c6eddf00a0eaae43bf03f9cd95a0811"},ev=Se.createContext(void 0),tv=r=>{const n=Se.useContext(ev);return(r==null?void 0:r.store)||n||A0()},N0=({children:r,store:n})=>{const i=Se.useRef(void 0);return!n&&!i.current&&(i.current=gu()),Se.createElement(ev.Provider,{value:n||i.current},r)},Wc=r=>typeof(r==null?void 0:r.then)=="function",nv=r=>{r.status="pending",r.then(n=>{r.status="fulfilled",r.value=n},n=>{r.status="rejected",r.reason=n})},j0=mu.use||(r=>{if(r.status==="pending")throw r;if(r.status==="fulfilled")return r.value;throw r.status==="rejected"?r.reason:(nv(r),r)}),bc=new WeakMap,Vp=r=>{let n=bc.get(r);return n||(n=new Promise((i,s)=>{let a=r;const c=h=>y=>{a===h&&i(y)},f=h=>y=>{a===h&&s(y)},m=h=>{"onCancel"in h&&typeof h.onCancel=="function"&&h.onCancel(y=>{if((Zm?"production":void 0)!=="production"&&y===h)throw new Error("[Bug] p is not updated even after cancelation");Wc(y)?(bc.set(y,n),a=y,y.then(c(y),f(y)),m(y)):i(y)})};r.then(c(r),f(r)),m(r)}),bc.set(r,n)),n};function rv(r,n){const i=tv(n),[[s,a,c],f]=Se.useReducer(y=>{const w=i.get(r);return Object.is(y[0],w)&&y[1]===i&&y[2]===r?y:[w,i,r]},void 0,()=>[i.get(r),i,r]);let m=s;(a!==i||c!==r)&&(f(),m=i.get(r));const h=n==null?void 0:n.delay;if(Se.useEffect(()=>{const y=i.sub(r,()=>{if(typeof h=="number"){const w=i.get(r);Wc(w)&&nv(Vp(w)),setTimeout(f,h);return}f()});return f(),y},[i,r,h]),Se.useDebugValue(m),Wc(m)){const y=Vp(m);return j0(y)}return m}function iv(r,n){const i=tv(n);return Se.useCallback((...a)=>{if((Zm?"production":void 0)!=="production"&&!("write"in r))throw new Error("not writable atom");return i.set(r,...a)},[i,r])}function D0(r,n){return[rv(r,n),iv(r,n)]}const I0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://localhost:8080",VITE_GIT_VERSION:"9f215dad4c6eddf00a0eaae43bf03f9cd95a0811"};function R0(r,n){let i=null;const s=new Map,a=new Set,c=m=>{let h;if(n===void 0)h=s.get(m);else for(const[w,b]of s)if(n(w,m)){h=b;break}if(h!==void 0)if(i!=null&&i(h[1],m))c.remove(m);else return h[0];const y=r(m);return s.set(m,[y,Date.now()]),f("CREATE",m,y),y};function f(m,h,y){for(const w of a)w({type:m,param:h,atom:y})}return c.unstable_listen=m=>(a.add(m),()=>{a.delete(m)}),c.getParams=()=>s.keys(),c.remove=m=>{if(n===void 0){if(!s.has(m))return;const[h]=s.get(m);s.delete(m),f("REMOVE",m,h)}else for(const[h,[y]]of s)if(n(h,m)){s.delete(h),f("REMOVE",h,y);break}},c.setShouldRemove=m=>{if(i=m,!!i)for(const[h,[y,w]]of s)i(w,h)&&(s.delete(h),f("REMOVE",h,y))},c}const F0=r=>typeof(r==null?void 0:r.then)=="function";function B0(r=()=>{try{return window.localStorage}catch(i){(I0?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(i);return}},n){var i;let s,a;const c={getItem:(h,y)=>{var w,b;const x=A=>{if(A=A||"",s!==A){try{a=JSON.parse(A,n==null?void 0:n.reviver)}catch{return y}s=A}return a},M=(b=(w=r())==null?void 0:w.getItem(h))!=null?b:null;return F0(M)?M.then(x):x(M)},setItem:(h,y)=>{var w;return(w=r())==null?void 0:w.setItem(h,JSON.stringify(y,void 0))},removeItem:h=>{var y;return(y=r())==null?void 0:y.removeItem(h)}},f=h=>(y,w,b)=>h(y,x=>{let M;try{M=JSON.parse(x||"")}catch{M=b}w(M)});let m;try{m=(i=r())==null?void 0:i.subscribe}catch{}return!m&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(m=(h,y)=>{if(!(r()instanceof window.Storage))return()=>{};const w=b=>{b.storageArea===r()&&b.key===h&&y(b.newValue)};return window.addEventListener("storage",w),()=>{window.removeEventListener("storage",w)}}),m&&(c.subscribe=f(m)),c}B0();function U0(r,n){const i=Se.useMemo(()=>Ot(null,(s,a,...c)=>r(s,a,...c)),[r]);return iv(i,n)}const $0=gu(),ov=Se.createContext({}),sv=({children:r,client:n,jotaiStore:i=$0})=>ge.jsx(N0,{store:i,children:ge.jsx(ov.Provider,{value:{client:n},children:r})});sv.displayName="RTVIClientProvider";const ma=()=>{const{client:r}=Se.useContext(ov);return r},Wt=(r,n)=>{const i=ma();Se.useEffect(()=>{if(i)return i.on(r,n),()=>{i.off(r,n)}},[r,n,i])},z0=Ot(null),V0=Ot(null),W0=Ot(null),J0=Ot(null),H0=Ot(null),q0=Ot(null),Wp=R0(({local:r,trackType:n})=>{if(r)switch(n){case"audio":return z0;case"screenAudio":return W0;case"screenVideo":return J0;case"video":return V0}return n==="audio"?H0:q0}),yu=(r,n)=>{const i=ma(),s=rv(Wp({local:n==="local",trackType:r})),a=U0(Se.useCallback((c,f,m,h,y)=>{const w=Wp({local:y,trackType:h}),b=c(w);(b==null?void 0:b.id)!==m.id&&f(w,m)},[n,s,r]));return Wt(ce.TrackStarted,Se.useCallback((c,f)=>{a(c,c.kind,!!(f!=null&&f.local))},[])),Wt(ce.ScreenTrackStarted,Se.useCallback((c,f)=>{const m=c.kind==="audio"?"screenAudio":"screenVideo";a(c,m,!!(f!=null&&f.local))},[])),Se.useEffect(()=>{var m;if(!i)return;const c=i.tracks(),f=(m=c==null?void 0:c[n])==null?void 0:m[r];f&&a(f,r,n==="local")},[n,r,a,i]),s},av=()=>{const r=Se.useRef(null),n=yu("audio","bot");return Se.useEffect(()=>{!r.current||!n||r.current.srcObject&&r.current.srcObject.getAudioTracks()[0].id===n.id||(r.current.srcObject=new MediaStream([n]))},[n]),Wt(ce.SpeakerUpdated,Se.useCallback(i=>{r.current&&typeof r.current.setSinkId=="function"&&r.current.setSinkId(i.deviceId)},[])),ge.jsx(ge.Fragment,{children:ge.jsx("audio",{ref:r,autoPlay:!0})})};av.displayName="RTVIClientAudio";function Q0(...r){return Se.useCallback(n=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s(n):s&&typeof s=="object"&&(s.current=n)}},r)}var G0=Q0;const K0=Se.forwardRef(function({participant:n="local",fit:i="contain",mirror:s,onResize:a,style:c={},trackType:f="video",...m},h){const y=yu(f,n),w=Se.useRef(null),b=G0(w,h);return Se.useEffect(function(){const M=w.current;if(!M)return;const A=()=>{const V=M.play();V!==void 0&&V.then(()=>{M.controls=!1}).catch(P=>{M.controls=!0,console.warn("Failed to play video",P)})},D=()=>{M.paused&&A()},z=()=>{M.style.transform="scale(1)"},U=()=>{M.style.transform="",setTimeout(()=>{M.paused&&A()},100)},$=()=>{document.visibilityState!=="hidden"&&M.paused&&A()};return M.addEventListener("canplay",D),M.addEventListener("enterpictureinpicture",z),M.addEventListener("leavepictureinpicture",U),document.addEventListener("visibilitychange",$),()=>{M.removeEventListener("canplay",D),M.removeEventListener("enterpictureinpicture",z),M.removeEventListener("leavepictureinpicture",U),document.removeEventListener("visibilitychange",$)}},[]),Se.useEffect(function(){const M=w.current;if(!(!M||!y))return M.srcObject=new MediaStream([y]),M.load(),()=>{M.srcObject=null,M.load()}},[y,y==null?void 0:y.id]),Se.useEffect(function(){const M=w.current;if(!a||!M)return;let A;function D(){A&&cancelAnimationFrame(A),A=requestAnimationFrame(()=>{const z=w.current;if(!z||document.hidden)return;const U=z.videoWidth,$=z.videoHeight;U&&$&&(a==null||a({aspectRatio:U/$,height:$,width:U}))})}return D(),M.addEventListener("loadedmetadata",D),M.addEventListener("resize",D),()=>{A&&cancelAnimationFrame(A),M.removeEventListener("loadedmetadata",D),M.removeEventListener("resize",D)}},[a]),ge.jsx("video",{autoPlay:!0,muted:!0,playsInline:!0,ref:b,style:{objectFit:i,transform:s?"scale(-1, 1)":"",...c},...m})});K0.displayName="RTVIClientVideo";Ot([]);Ot([]);Ot([]);Ot({});Ot({});Ot({});const Y0=Ot("disconnected"),lv=()=>{const[r,n]=D0(Y0);return Wt(ce.TransportStateChanged,n),r},X0=mu.memo(({backgroundColor:r="transparent",barColor:n="black",barWidth:i=30,barGap:s=12,barMaxHeight:a=120,participantType:c})=>{const f=Se.useRef(null),m=yu("audio",c);return Se.useEffect(()=>{if(!f.current)return;const h=5*i+4*s,y=a,w=f.current,b=2,x=()=>{w.width=h*b,w.height=y*b,w.style.width=`${h}px`,w.style.height=`${y}px`,M.lineCap="round",M.scale(b,b)},M=w.getContext("2d");if(x(),!m)return;const A=new AudioContext,D=A.createMediaStreamSource(new MediaStream([m])),z=A.createAnalyser();z.fftSize=1024,D.connect(z);const U=new Uint8Array(z.frequencyBinCount);M.lineCap="round";const $=[{startFreq:85,endFreq:255,smoothValue:0},{startFreq:255,endFreq:500,smoothValue:0},{startFreq:500,endFreq:2e3,smoothValue:0},{startFreq:2e3,endFreq:4e3,smoothValue:0},{startFreq:4e3,endFreq:8e3,smoothValue:0}],V=B=>{const F=A.sampleRate/2;return Math.round(B/F*(z.frequencyBinCount-1))};function P(){z.getByteFrequencyData(U),M.clearRect(0,0,w.width/b,w.height/b),M.fillStyle=r,M.fillRect(0,0,w.width/b,w.height/b);let B=!1;const F=$.length*i+($.length-1)*s,q=(w.width/b-F)/2,ee=i/2;$.forEach((Q,pe)=>{const _e=V(Q.startFreq),Pe=V(Q.endFreq),Ue=U.slice(_e,Pe),Ye=Ue.reduce((O,W)=>O+W,0)/Ue.length,We=.2;Ye<1?Q.smoothValue=Math.max(Q.smoothValue-We*5,0):(Q.smoothValue=Q.smoothValue+(Ye-Q.smoothValue)*We,B=!0);const Ce=q+pe*(i+s),Z=Math.min(Q.smoothValue/255*a,a),ae=Math.max(w.height/b/2-Z/2,ee),te=Math.min(w.height/b/2+Z/2,w.height/b-ee);Q.smoothValue>0?(M.beginPath(),M.moveTo(Ce+i/2,ae),M.lineTo(Ce+i/2,te),M.lineWidth=i,M.strokeStyle=n,M.stroke()):(M.beginPath(),M.arc(Ce+i/2,w.height/b/2,ee,0,2*Math.PI),M.fillStyle=n,M.fill(),M.closePath())}),B||N(ee,n),requestAnimationFrame(P)}function N(B,F){const q=$.length*i+($.length-1)*s,ee=(w.width/b-q)/2,Q=w.height/b/2;$.forEach((pe,_e)=>{const Pe=ee+_e*(i+s);M.beginPath(),M.arc(Pe+i/2,Q,B,0,2*Math.PI),M.fillStyle=F,M.fill(),M.closePath()})}return P(),window.addEventListener("resize",x),()=>{A.close(),window.removeEventListener("resize",x)}},[r,n,s,a,i,m]),ge.jsx("canvas",{ref:f,style:{display:"block",width:"100%",height:"100%"}})});X0.displayName="VoiceVisualizer";function Jp(r,n){if(r==null)return{};var i,s,a=function(f,m){if(f==null)return{};var h,y,w={},b=Object.keys(f);for(y=0;y<b.length;y++)h=b[y],m.indexOf(h)>=0||(w[h]=f[h]);return w}(r,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(s=0;s<c.length;s++)i=c[s],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(r,i)&&(a[i]=r[i])}return a}function cn(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function Ne(r){return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ne(r)}function cv(r){var n=function(i,s){if(Ne(i)!=="object"||i===null)return i;var a=i[Symbol.toPrimitive];if(a!==void 0){var c=a.call(i,s||"default");if(Ne(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(i)}(r,"string");return Ne(n)==="symbol"?n:String(n)}function Hp(r,n){for(var i=0;i<n.length;i++){var s=n[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,cv(s.key),s)}}function un(r,n,i){return n&&Hp(r.prototype,n),i&&Hp(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r}function Pn(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function ko(r,n){return ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},ko(r,n)}function va(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&ko(r,n)}function ga(r,n){if(n&&(Ne(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pn(r)}function ln(r){return ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ln(r)}function xn(r,n,i){return(n=cv(n))in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r}function qp(r,n,i,s,a,c,f){try{var m=r[c](f),h=m.value}catch(y){return void i(y)}m.done?n(h):Promise.resolve(h).then(s,a)}function me(r){return function(){var n=this,i=arguments;return new Promise(function(s,a){var c=r.apply(n,i);function f(h){qp(c,s,a,f,m,"next",h)}function m(h){qp(c,s,a,f,m,"throw",h)}f(void 0)})}}function Qp(r,n){(n==null||n>r.length)&&(n=r.length);for(var i=0,s=new Array(n);i<n;i++)s[i]=r[i];return s}function Ir(r,n){return function(i){if(Array.isArray(i))return i}(r)||function(i,s){var a=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(a!=null){var c,f,m,h,y=[],w=!0,b=!1;try{if(m=(a=a.call(i)).next,s===0){if(Object(a)!==a)return;w=!1}else for(;!(w=(c=m.call(a)).done)&&(y.push(c.value),y.length!==s);w=!0);}catch(x){b=!0,f=x}finally{try{if(!w&&a.return!=null&&(h=a.return(),Object(h)!==h))return}finally{if(b)throw f}}return y}}(r,n)||function(i,s){if(i){if(typeof i=="string")return Qp(i,s);var a=Object.prototype.toString.call(i).slice(8,-1);return a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set"?Array.from(i):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Qp(i,s):void 0}}(r,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var uv,Ln={},Z0={get exports(){return Ln},set exports(r){Ln=r}},yi=typeof Reflect=="object"?Reflect:null,Gp=yi&&typeof yi.apply=="function"?yi.apply:function(r,n,i){return Function.prototype.apply.call(r,n,i)};uv=yi&&typeof yi.ownKeys=="function"?yi.ownKeys:Object.getOwnPropertySymbols?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:function(r){return Object.getOwnPropertyNames(r)};var Kp=Number.isNaN||function(r){return r!=r};function Ae(){Ae.init.call(this)}Z0.exports=Ae,Ln.once=function(r,n){return new Promise(function(i,s){function a(f){r.removeListener(n,c),s(f)}function c(){typeof r.removeListener=="function"&&r.removeListener("error",a),i([].slice.call(arguments))}nh(r,n,c,{once:!0}),n!=="error"&&function(f,m,h){typeof f.on=="function"&&nh(f,"error",m,h)}(r,a,{once:!0})})},Ae.EventEmitter=Ae,Ae.prototype._events=void 0,Ae.prototype._eventsCount=0,Ae.prototype._maxListeners=void 0;var Yp=10;function Zs(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}function dv(r){return r._maxListeners===void 0?Ae.defaultMaxListeners:r._maxListeners}function Xp(r,n,i,s){var a,c,f,m;if(Zs(i),(c=r._events)===void 0?(c=r._events=Object.create(null),r._eventsCount=0):(c.newListener!==void 0&&(r.emit("newListener",n,i.listener?i.listener:i),c=r._events),f=c[n]),f===void 0)f=c[n]=i,++r._eventsCount;else if(typeof f=="function"?f=c[n]=s?[i,f]:[f,i]:s?f.unshift(i):f.push(i),(a=dv(r))>0&&f.length>a&&!f.warned){f.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+f.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=r,h.type=n,h.count=f.length,m=h,console&&console.warn&&console.warn(m)}return r}function e_(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Zp(r,n,i){var s={fired:!1,wrapFn:void 0,target:r,type:n,listener:i},a=e_.bind(s);return a.listener=i,s.wrapFn=a,a}function eh(r,n,i){var s=r._events;if(s===void 0)return[];var a=s[n];return a===void 0?[]:typeof a=="function"?i?[a.listener||a]:[a]:i?function(c){for(var f=new Array(c.length),m=0;m<f.length;++m)f[m]=c[m].listener||c[m];return f}(a):fv(a,a.length)}function th(r){var n=this._events;if(n!==void 0){var i=n[r];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}function fv(r,n){for(var i=new Array(n),s=0;s<n;++s)i[s]=r[s];return i}function nh(r,n,i,s){if(typeof r.on=="function")s.once?r.once(n,i):r.on(n,i);else{if(typeof r.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r);r.addEventListener(n,function a(c){s.once&&r.removeEventListener(n,a),i(c)})}}Object.defineProperty(Ae,"defaultMaxListeners",{enumerable:!0,get:function(){return Yp},set:function(r){if(typeof r!="number"||r<0||Kp(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Yp=r}}),Ae.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ae.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||Kp(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this},Ae.prototype.getMaxListeners=function(){return dv(this)},Ae.prototype.emit=function(r){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var s=r==="error",a=this._events;if(a!==void 0)s=s&&a.error===void 0;else if(!s)return!1;if(s){var c;if(n.length>0&&(c=n[0]),c instanceof Error)throw c;var f=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw f.context=c,f}var m=a[r];if(m===void 0)return!1;if(typeof m=="function")Gp(m,this,n);else{var h=m.length,y=fv(m,h);for(i=0;i<h;++i)Gp(y[i],this,n)}return!0},Ae.prototype.addListener=function(r,n){return Xp(this,r,n,!1)},Ae.prototype.on=Ae.prototype.addListener,Ae.prototype.prependListener=function(r,n){return Xp(this,r,n,!0)},Ae.prototype.once=function(r,n){return Zs(n),this.on(r,Zp(this,r,n)),this},Ae.prototype.prependOnceListener=function(r,n){return Zs(n),this.prependListener(r,Zp(this,r,n)),this},Ae.prototype.removeListener=function(r,n){var i,s,a,c,f;if(Zs(n),(s=this._events)===void 0)return this;if((i=s[r])===void 0)return this;if(i===n||i.listener===n)--this._eventsCount==0?this._events=Object.create(null):(delete s[r],s.removeListener&&this.emit("removeListener",r,i.listener||n));else if(typeof i!="function"){for(a=-1,c=i.length-1;c>=0;c--)if(i[c]===n||i[c].listener===n){f=i[c].listener,a=c;break}if(a<0)return this;a===0?i.shift():function(m,h){for(;h+1<m.length;h++)m[h]=m[h+1];m.pop()}(i,a),i.length===1&&(s[r]=i[0]),s.removeListener!==void 0&&this.emit("removeListener",r,f||n)}return this},Ae.prototype.off=Ae.prototype.removeListener,Ae.prototype.removeAllListeners=function(r){var n,i,s;if((i=this._events)===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[r]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[r]),this;if(arguments.length===0){var a,c=Object.keys(i);for(s=0;s<c.length;++s)(a=c[s])!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(n=i[r])=="function")this.removeListener(r,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(r,n[s]);return this},Ae.prototype.listeners=function(r){return eh(this,r,!0)},Ae.prototype.rawListeners=function(r){return eh(this,r,!1)},Ae.listenerCount=function(r,n){return typeof r.listenerCount=="function"?r.listenerCount(n):th.call(r,n)},Ae.prototype.listenerCount=th,Ae.prototype.eventNames=function(){return this._eventsCount>0?uv(this._events):[]};var rh=Object.prototype.hasOwnProperty;function ih(r,n,i){for(i of r.keys())if(Mt(i,n))return i}function Mt(r,n){var i,s,a;if(r===n)return!0;if(r&&n&&(i=r.constructor)===n.constructor){if(i===Date)return r.getTime()===n.getTime();if(i===RegExp)return r.toString()===n.toString();if(i===Array){if((s=r.length)===n.length)for(;s--&&Mt(r[s],n[s]););return s===-1}if(i===Set){if(r.size!==n.size)return!1;for(s of r)if((a=s)&&typeof a=="object"&&!(a=ih(n,a))||!n.has(a))return!1;return!0}if(i===Map){if(r.size!==n.size)return!1;for(s of r)if((a=s[0])&&typeof a=="object"&&!(a=ih(n,a))||!Mt(s[1],n.get(a)))return!1;return!0}if(i===ArrayBuffer)r=new Uint8Array(r),n=new Uint8Array(n);else if(i===DataView){if((s=r.byteLength)===n.byteLength)for(;s--&&r.getInt8(s)===n.getInt8(s););return s===-1}if(ArrayBuffer.isView(r)){if((s=r.byteLength)===n.byteLength)for(;s--&&r[s]===n[s];);return s===-1}if(!i||typeof r=="object"){for(i in s=0,r)if(rh.call(r,i)&&++s&&!rh.call(n,i)||!(i in n)||!Mt(r[i],n[i]))return!1;return Object.keys(n).length===s}}return r!=r&&n!=n}const t_={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},pv={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},et={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},wt={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},nr={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class J{static getFirstMatch(n,i){const s=i.match(n);return s&&s.length>0&&s[1]||""}static getSecondMatch(n,i){const s=i.match(n);return s&&s.length>1&&s[2]||""}static matchAndReturnConst(n,i,s){if(n.test(i))return s}static getWindowsVersionName(n){switch(n){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(n){const i=n.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(i.push(0),i[0]===10)switch(i[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(n){const i=n.split(".").splice(0,2).map(s=>parseInt(s,10)||0);if(i.push(0),!(i[0]===1&&i[1]<5))return i[0]===1&&i[1]<6?"Cupcake":i[0]===1&&i[1]>=6?"Donut":i[0]===2&&i[1]<2?"Eclair":i[0]===2&&i[1]===2?"Froyo":i[0]===2&&i[1]>2?"Gingerbread":i[0]===3?"Honeycomb":i[0]===4&&i[1]<1?"Ice Cream Sandwich":i[0]===4&&i[1]<4?"Jelly Bean":i[0]===4&&i[1]>=4?"KitKat":i[0]===5?"Lollipop":i[0]===6?"Marshmallow":i[0]===7?"Nougat":i[0]===8?"Oreo":i[0]===9?"Pie":void 0}static getVersionPrecision(n){return n.split(".").length}static compareVersions(n,i,s=!1){const a=J.getVersionPrecision(n),c=J.getVersionPrecision(i);let f=Math.max(a,c),m=0;const h=J.map([n,i],y=>{const w=f-J.getVersionPrecision(y),b=y+new Array(w+1).join(".0");return J.map(b.split("."),x=>new Array(20-x.length).join("0")+x).reverse()});for(s&&(m=f-Math.min(a,c)),f-=1;f>=m;){if(h[0][f]>h[1][f])return 1;if(h[0][f]===h[1][f]){if(f===m)return 0;f-=1}else if(h[0][f]<h[1][f])return-1}}static map(n,i){const s=[];let a;if(Array.prototype.map)return Array.prototype.map.call(n,i);for(a=0;a<n.length;a+=1)s.push(i(n[a]));return s}static find(n,i){let s,a;if(Array.prototype.find)return Array.prototype.find.call(n,i);for(s=0,a=n.length;s<a;s+=1){const c=n[s];if(i(c,s))return c}}static assign(n,...i){const s=n;let a,c;if(Object.assign)return Object.assign(n,...i);for(a=0,c=i.length;a<c;a+=1){const f=i[a];typeof f=="object"&&f!==null&&Object.keys(f).forEach(m=>{s[m]=f[m]})}return n}static getBrowserAlias(n){return t_[n]}static getBrowserTypeByAlias(n){return pv[n]||""}}const je=/version\/(\d+(\.?_?\d+)+)/i,n_=[{test:[/googlebot/i],describe(r){const n={name:"Googlebot"},i=J.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,r)||J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/opera/i],describe(r){const n={name:"Opera"},i=J.getFirstMatch(je,r)||J.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/opr\/|opios/i],describe(r){const n={name:"Opera"},i=J.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,r)||J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/SamsungBrowser/i],describe(r){const n={name:"Samsung Internet for Android"},i=J.getFirstMatch(je,r)||J.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/Whale/i],describe(r){const n={name:"NAVER Whale Browser"},i=J.getFirstMatch(je,r)||J.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/MZBrowser/i],describe(r){const n={name:"MZ Browser"},i=J.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,r)||J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/focus/i],describe(r){const n={name:"Focus"},i=J.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,r)||J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/swing/i],describe(r){const n={name:"Swing"},i=J.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,r)||J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/coast/i],describe(r){const n={name:"Opera Coast"},i=J.getFirstMatch(je,r)||J.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(r){const n={name:"Opera Touch"},i=J.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,r)||J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/yabrowser/i],describe(r){const n={name:"Yandex Browser"},i=J.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,r)||J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/ucbrowser/i],describe(r){const n={name:"UC Browser"},i=J.getFirstMatch(je,r)||J.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/Maxthon|mxios/i],describe(r){const n={name:"Maxthon"},i=J.getFirstMatch(je,r)||J.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/epiphany/i],describe(r){const n={name:"Epiphany"},i=J.getFirstMatch(je,r)||J.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/puffin/i],describe(r){const n={name:"Puffin"},i=J.getFirstMatch(je,r)||J.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/sleipnir/i],describe(r){const n={name:"Sleipnir"},i=J.getFirstMatch(je,r)||J.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/k-meleon/i],describe(r){const n={name:"K-Meleon"},i=J.getFirstMatch(je,r)||J.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/micromessenger/i],describe(r){const n={name:"WeChat"},i=J.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,r)||J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/qqbrowser/i],describe(r){const n={name:/qqbrowserlite/i.test(r)?"QQ Browser Lite":"QQ Browser"},i=J.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,r)||J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/msie|trident/i],describe(r){const n={name:"Internet Explorer"},i=J.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/\sedg\//i],describe(r){const n={name:"Microsoft Edge"},i=J.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/edg([ea]|ios)/i],describe(r){const n={name:"Microsoft Edge"},i=J.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/vivaldi/i],describe(r){const n={name:"Vivaldi"},i=J.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/seamonkey/i],describe(r){const n={name:"SeaMonkey"},i=J.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/sailfish/i],describe(r){const n={name:"Sailfish"},i=J.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,r);return i&&(n.version=i),n}},{test:[/silk/i],describe(r){const n={name:"Amazon Silk"},i=J.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/phantom/i],describe(r){const n={name:"PhantomJS"},i=J.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/slimerjs/i],describe(r){const n={name:"SlimerJS"},i=J.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const n={name:"BlackBerry"},i=J.getFirstMatch(je,r)||J.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/(web|hpw)[o0]s/i],describe(r){const n={name:"WebOS Browser"},i=J.getFirstMatch(je,r)||J.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/bada/i],describe(r){const n={name:"Bada"},i=J.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/tizen/i],describe(r){const n={name:"Tizen"},i=J.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,r)||J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/qupzilla/i],describe(r){const n={name:"QupZilla"},i=J.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,r)||J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/firefox|iceweasel|fxios/i],describe(r){const n={name:"Firefox"},i=J.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/electron/i],describe(r){const n={name:"Electron"},i=J.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/MiuiBrowser/i],describe(r){const n={name:"Miui"},i=J.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/chromium/i],describe(r){const n={name:"Chromium"},i=J.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,r)||J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/chrome|crios|crmo/i],describe(r){const n={name:"Chrome"},i=J.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/GSA/i],describe(r){const n={name:"Google Search"},i=J.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test(r){const n=!r.test(/like android/i),i=r.test(/android/i);return n&&i},describe(r){const n={name:"Android Browser"},i=J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/playstation 4/i],describe(r){const n={name:"PlayStation 4"},i=J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/safari|applewebkit/i],describe(r){const n={name:"Safari"},i=J.getFirstMatch(je,r);return i&&(n.version=i),n}},{test:[/.*/i],describe(r){const n=r.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:J.getFirstMatch(n,r),version:J.getSecondMatch(n,r)}}}];var r_=[{test:[/Roku\/DVP/],describe(r){const n=J.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,r);return{name:wt.Roku,version:n}}},{test:[/windows phone/i],describe(r){const n=J.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,r);return{name:wt.WindowsPhone,version:n}}},{test:[/windows /i],describe(r){const n=J.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,r),i=J.getWindowsVersionName(n);return{name:wt.Windows,version:n,versionName:i}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(r){const n={name:wt.iOS},i=J.getSecondMatch(/(Version\/)(\d[\d.]+)/,r);return i&&(n.version=i),n}},{test:[/macintosh/i],describe(r){const n=J.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,r).replace(/[_\s]/g,"."),i=J.getMacOSVersionName(n),s={name:wt.MacOS,version:n};return i&&(s.versionName=i),s}},{test:[/(ipod|iphone|ipad)/i],describe(r){const n=J.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,r).replace(/[_\s]/g,".");return{name:wt.iOS,version:n}}},{test(r){const n=!r.test(/like android/i),i=r.test(/android/i);return n&&i},describe(r){const n=J.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,r),i=J.getAndroidVersionName(n),s={name:wt.Android,version:n};return i&&(s.versionName=i),s}},{test:[/(web|hpw)[o0]s/i],describe(r){const n=J.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,r),i={name:wt.WebOS};return n&&n.length&&(i.version=n),i}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(r){const n=J.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,r)||J.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,r)||J.getFirstMatch(/\bbb(\d+)/i,r);return{name:wt.BlackBerry,version:n}}},{test:[/bada/i],describe(r){const n=J.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,r);return{name:wt.Bada,version:n}}},{test:[/tizen/i],describe(r){const n=J.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,r);return{name:wt.Tizen,version:n}}},{test:[/linux/i],describe:()=>({name:wt.Linux})},{test:[/CrOS/],describe:()=>({name:wt.ChromeOS})},{test:[/PlayStation 4/],describe(r){const n=J.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,r);return{name:wt.PlayStation4,version:n}}}],i_=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(r){const n=J.getFirstMatch(/(can-l01)/i,r)&&"Nova",i={type:et.mobile,vendor:"Huawei"};return n&&(i.model=n),i}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:et.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:et.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:et.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:et.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:et.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:et.tablet})},{test(r){const n=r.test(/ipod|iphone/i),i=r.test(/like (ipod|iphone)/i);return n&&!i},describe(r){const n=J.getFirstMatch(/(ipod|iphone)/i,r);return{type:et.mobile,vendor:"Apple",model:n}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:et.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:et.mobile})},{test:r=>r.getBrowserName(!0)==="blackberry",describe:()=>({type:et.mobile,vendor:"BlackBerry"})},{test:r=>r.getBrowserName(!0)==="bada",describe:()=>({type:et.mobile})},{test:r=>r.getBrowserName()==="windows phone",describe:()=>({type:et.mobile,vendor:"Microsoft"})},{test(r){const n=Number(String(r.getOSVersion()).split(".")[0]);return r.getOSName(!0)==="android"&&n>=3},describe:()=>({type:et.tablet})},{test:r=>r.getOSName(!0)==="android",describe:()=>({type:et.mobile})},{test:r=>r.getOSName(!0)==="macos",describe:()=>({type:et.desktop,vendor:"Apple"})},{test:r=>r.getOSName(!0)==="windows",describe:()=>({type:et.desktop})},{test:r=>r.getOSName(!0)==="linux",describe:()=>({type:et.desktop})},{test:r=>r.getOSName(!0)==="playstation 4",describe:()=>({type:et.tv})},{test:r=>r.getOSName(!0)==="roku",describe:()=>({type:et.tv})}],o_=[{test:r=>r.getBrowserName(!0)==="microsoft edge",describe(r){if(/\sedg\//i.test(r))return{name:nr.Blink};const n=J.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,r);return{name:nr.EdgeHTML,version:n}}},{test:[/trident/i],describe(r){const n={name:nr.Trident},i=J.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:r=>r.test(/presto/i),describe(r){const n={name:nr.Presto},i=J.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test(r){const n=r.test(/gecko/i),i=r.test(/like gecko/i);return n&&!i},describe(r){const n={name:nr.Gecko},i=J.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:nr.Blink})},{test:[/(apple)?webkit/i],describe(r){const n={name:nr.WebKit},i=J.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,r);return i&&(n.version=i),n}}];class oh{constructor(n,i=!1){if(n==null||n==="")throw new Error("UserAgent parameter can't be empty");this._ua=n,this.parsedResult={},i!==!0&&this.parse()}getUA(){return this._ua}test(n){return n.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const n=J.find(n_,i=>{if(typeof i.test=="function")return i.test(this);if(i.test instanceof Array)return i.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.browser=n.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(n){return n?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const n=J.find(r_,i=>{if(typeof i.test=="function")return i.test(this);if(i.test instanceof Array)return i.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.os=n.describe(this.getUA())),this.parsedResult.os}getOSName(n){const{name:i}=this.getOS();return n?String(i).toLowerCase()||"":i||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(n=!1){const{type:i}=this.getPlatform();return n?String(i).toLowerCase()||"":i||""}parsePlatform(){this.parsedResult.platform={};const n=J.find(i_,i=>{if(typeof i.test=="function")return i.test(this);if(i.test instanceof Array)return i.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.platform=n.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(n){return n?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const n=J.find(o_,i=>{if(typeof i.test=="function")return i.test(this);if(i.test instanceof Array)return i.test.some(s=>this.test(s));throw new Error("Browser's test function is not valid")});return n&&(this.parsedResult.engine=n.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return J.assign({},this.parsedResult)}satisfies(n){const i={};let s=0;const a={};let c=0;if(Object.keys(n).forEach(f=>{const m=n[f];typeof m=="string"?(a[f]=m,c+=1):typeof m=="object"&&(i[f]=m,s+=1)}),s>0){const f=Object.keys(i),m=J.find(f,y=>this.isOS(y));if(m){const y=this.satisfies(i[m]);if(y!==void 0)return y}const h=J.find(f,y=>this.isPlatform(y));if(h){const y=this.satisfies(i[h]);if(y!==void 0)return y}}if(c>0){const f=Object.keys(a),m=J.find(f,h=>this.isBrowser(h,!0));if(m!==void 0)return this.compareVersion(a[m])}}isBrowser(n,i=!1){const s=this.getBrowserName().toLowerCase();let a=n.toLowerCase();const c=J.getBrowserTypeByAlias(a);return i&&c&&(a=c.toLowerCase()),a===s}compareVersion(n){let i=[0],s=n,a=!1;const c=this.getBrowserVersion();if(typeof c=="string")return n[0]===">"||n[0]==="<"?(s=n.substr(1),n[1]==="="?(a=!0,s=n.substr(2)):i=[],n[0]===">"?i.push(1):i.push(-1)):n[0]==="="?s=n.substr(1):n[0]==="~"&&(a=!0,s=n.substr(1)),i.indexOf(J.compareVersions(c,s,a))>-1}isOS(n){return this.getOSName(!0)===String(n).toLowerCase()}isPlatform(n){return this.getPlatformType(!0)===String(n).toLowerCase()}isEngine(n){return this.getEngineName(!0)===String(n).toLowerCase()}is(n,i=!1){return this.isBrowser(n,i)||this.isOS(n)||this.isPlatform(n)}some(n=[]){return n.some(i=>this.is(i))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class s_{static getParser(n,i=!1){if(typeof n!="string")throw new Error("UserAgent should be a string");return new oh(n,i)}static parse(n){return new oh(n).getResult()}static get BROWSER_MAP(){return pv}static get ENGINE_MAP(){return nr}static get OS_MAP(){return wt}static get PLATFORMS_MAP(){return et}}function ya(){return Date.now()+Math.random().toString()}function mo(){throw new Error("Method must be implemented in subclass")}function hv(r,n){return n!=null&&n.proxyUrl?n.proxyUrl+(n.proxyUrl.slice(-1)==="/"?"":"/")+r.substring(8):r}function oa(r){return r!=null&&r.callObjectBundleUrlOverride?r.callObjectBundleUrlOverride:hv("https://c.daily.co/call-machine/versioned/".concat("0.73.0","/static/call-machine-object-bundle.js"),r)}function sa(r){try{new URL(r)}catch{return!1}return!0}const mv=Object.prototype.toString;function _u(r){switch(mv.call(r)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Rr(r,Error)}}function Ti(r,n){return mv.call(r)===`[object ${n}]`}function vv(r){return Ti(r,"ErrorEvent")}function sh(r){return Ti(r,"DOMError")}function An(r){return Ti(r,"String")}function wu(r){return typeof r=="object"&&r!==null&&"__sentry_template_string__"in r&&"__sentry_template_values__"in r}function Jc(r){return r===null||wu(r)||typeof r!="object"&&typeof r!="function"}function Si(r){return Ti(r,"Object")}function _a(r){return typeof Event<"u"&&Rr(r,Event)}function wa(r){return!!(r&&r.then&&typeof r.then=="function")}function Rr(r,n){try{return r instanceof n}catch{return!1}}function gv(r){return!(typeof r!="object"||r===null||!r.__isVue&&!r._isVue)}function _i(r,n=0){return typeof r!="string"||n===0||r.length<=n?r:`${r.slice(0,n)}...`}function ah(r,n){if(!Array.isArray(r))return"";const i=[];for(let s=0;s<r.length;s++){const a=r[s];try{gv(a)?i.push("[VueViewModel]"):i.push(String(a))}catch{i.push("[value cannot be serialized]")}}return i.join(n)}function a_(r,n,i=!1){return!!An(r)&&(Ti(n,"RegExp")?n.test(r):!!An(n)&&(i?r===n:r.includes(n)))}function Us(r,n=[],i=!1){return n.some(s=>a_(r,s,i))}function l_(r,n,i=250,s,a,c,f){if(!(c.exception&&c.exception.values&&f&&Rr(f.originalException,Error)))return;const m=c.exception.values.length>0?c.exception.values[c.exception.values.length-1]:void 0;var h,y;m&&(c.exception.values=(h=Hc(r,n,a,f.originalException,s,c.exception.values,m,0),y=i,h.map(w=>(w.value&&(w.value=_i(w.value,y)),w))))}function Hc(r,n,i,s,a,c,f,m){if(c.length>=i+1)return c;let h=[...c];if(Rr(s[a],Error)){lh(f,m);const y=r(n,s[a]),w=h.length;ch(y,a,w,m),h=Hc(r,n,i,s[a],a,[y,...h],y,w)}return Array.isArray(s.errors)&&s.errors.forEach((y,w)=>{if(Rr(y,Error)){lh(f,m);const b=r(n,y),x=h.length;ch(b,`errors[${w}]`,x,m),h=Hc(r,n,i,y,a,[b,...h],b,x)}}),h}function lh(r,n){r.mechanism=r.mechanism||{type:"generic",handled:!0},r.mechanism={...r.mechanism,...r.type==="AggregateError"&&{is_exception_group:!0},exception_id:n}}function ch(r,n,i,s){r.mechanism=r.mechanism||{type:"generic",handled:!0},r.mechanism={...r.mechanism,type:"chained",source:n,exception_id:i,parent_id:s}}function uh(r){return r===void 0?void 0:r>=400&&r<500?"warning":r>=500?"error":void 0}const Dr="8.33.1",xe=globalThis;function aa(r,n,i){const s=xe,a=s.__SENTRY__=s.__SENTRY__||{},c=a[Dr]=a[Dr]||{};return c[r]||(c[r]=n())}const Su=xe;function yv(r,n={}){if(!r)return"<unknown>";try{let i=r;const s=5,a=[];let c=0,f=0;const m=" > ",h=m.length;let y;const w=Array.isArray(n)?n:n.keyAttrs,b=!Array.isArray(n)&&n.maxStringLength||80;for(;i&&c++<s&&(y=c_(i,w),!(y==="html"||c>1&&f+a.length*h+y.length>=b));)a.push(y),f+=y.length,i=i.parentNode;return a.reverse().join(m)}catch{return"<unknown>"}}function c_(r,n){const i=r,s=[];if(!i||!i.tagName)return"";if(Su.HTMLElement&&i instanceof HTMLElement&&i.dataset){if(i.dataset.sentryComponent)return i.dataset.sentryComponent;if(i.dataset.sentryElement)return i.dataset.sentryElement}s.push(i.tagName.toLowerCase());const a=n&&n.length?n.filter(f=>i.getAttribute(f)).map(f=>[f,i.getAttribute(f)]):null;if(a&&a.length)a.forEach(f=>{s.push(`[${f[0]}="${f[1]}"]`)});else{i.id&&s.push(`#${i.id}`);const f=i.className;if(f&&An(f)){const m=f.split(/\s+/);for(const h of m)s.push(`.${h}`)}}const c=["aria-label","type","name","title","alt"];for(const f of c){const m=i.getAttribute(f);m&&s.push(`[${f}="${m}"]`)}return s.join("")}const To=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,qc=["debug","info","warn","error","log","assert","trace"],la={};function ku(r){if(!("console"in xe))return r();const n=xe.console,i={},s=Object.keys(la);s.forEach(a=>{const c=la[a];i[a]=n[a],n[a]=c});try{return r()}finally{s.forEach(a=>{n[a]=i[a]})}}const ye=aa("logger",function(){let r=!1;const n={enable:()=>{r=!0},disable:()=>{r=!1},isEnabled:()=>r};return To?qc.forEach(i=>{n[i]=(...s)=>{r&&ku(()=>{xe.console[i](`Sentry Logger [${i}]:`,...s)})}}):qc.forEach(i=>{n[i]=()=>{}}),n}),u_=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ca(r,n=!1){const{host:i,path:s,pass:a,port:c,projectId:f,protocol:m,publicKey:h}=r;return`${m}://${h}${n&&a?`:${a}`:""}@${i}${c?`:${c}`:""}/${s&&`${s}/`}${f}`}function dh(r){return{protocol:r.protocol,publicKey:r.publicKey||"",pass:r.pass||"",host:r.host,port:r.port||"",path:r.path||"",projectId:r.projectId}}function d_(r){const n=typeof r=="string"?function(i){const s=u_.exec(i);if(!s)return void ku(()=>{console.error(`Invalid Sentry Dsn: ${i}`)});const[a,c,f="",m="",h="",y=""]=s.slice(1);let w="",b=y;const x=b.split("/");if(x.length>1&&(w=x.slice(0,-1).join("/"),b=x.pop()),b){const M=b.match(/^\d+/);M&&(b=M[0])}return dh({host:m,pass:f,path:w,projectId:b,port:h,protocol:a,publicKey:c})}(r):dh(r);if(n&&function(i){if(!To)return!0;const{port:s,projectId:a,protocol:c}=i;return!(["protocol","publicKey","host","projectId"].find(f=>!i[f]&&(ye.error(`Invalid Sentry Dsn: ${f} missing`),!0))||(a.match(/^\d+$/)?function(f){return f==="http"||f==="https"}(c)?s&&isNaN(parseInt(s,10))&&(ye.error(`Invalid Sentry Dsn: Invalid port ${s}`),1):(ye.error(`Invalid Sentry Dsn: Invalid protocol ${c}`),1):(ye.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),1)))}(n))return n}class vn extends Error{constructor(n,i="warn"){super(n),this.message=n,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=i}}function It(r,n,i){if(!(n in r))return;const s=r[n],a=i(s);typeof a=="function"&&_v(a,s),r[n]=a}function Fr(r,n,i){try{Object.defineProperty(r,n,{value:i,writable:!0,configurable:!0})}catch{To&&ye.log(`Failed to add non-enumerable property "${n}" to object`,r)}}function _v(r,n){try{const i=n.prototype||{};r.prototype=n.prototype=i,Fr(r,"__sentry_original__",n)}catch{}}function bu(r){return r.__sentry_original__}function wv(r){if(_u(r))return{message:r.message,name:r.name,stack:r.stack,...ph(r)};if(_a(r)){const n={type:r.type,target:fh(r.target),currentTarget:fh(r.currentTarget),...ph(r)};return typeof CustomEvent<"u"&&Rr(r,CustomEvent)&&(n.detail=r.detail),n}return r}function fh(r){try{return n=r,typeof Element<"u"&&Rr(n,Element)?yv(r):Object.prototype.toString.call(r)}catch{return"<unknown>"}var n}function ph(r){if(typeof r=="object"&&r!==null){const n={};for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n}return{}}function on(r){return Qc(r,new Map)}function Qc(r,n){if(function(i){if(!Si(i))return!1;try{const s=Object.getPrototypeOf(i).constructor.name;return!s||s==="Object"}catch{return!0}}(r)){const i=n.get(r);if(i!==void 0)return i;const s={};n.set(r,s);for(const a of Object.getOwnPropertyNames(r))r[a]!==void 0&&(s[a]=Qc(r[a],n));return s}if(Array.isArray(r)){const i=n.get(r);if(i!==void 0)return i;const s=[];return n.set(r,s),r.forEach(a=>{s.push(Qc(a,n))}),s}return r}const Ar="?",hh=/\(error: (.*)\)/,mh=/captureMessage|captureException/;function $s(r){return r[r.length-1]||{}}const vh="<anonymous>";function cr(r){try{return r&&typeof r=="function"&&r.name||vh}catch{return vh}}function gh(r){const n=r.exception;if(n){const i=[];try{return n.values.forEach(s=>{s.stacktrace.frames&&i.push(...s.stacktrace.frames)}),i}catch{return}}}const ea={},yh={};function Nr(r,n){ea[r]=ea[r]||[],ea[r].push(n)}function jr(r,n){yh[r]||(n(),yh[r]=!0)}function sn(r,n){const i=r&&ea[r];if(i)for(const s of i)try{s(n)}catch(a){To&&ye.error(`Error while triggering instrumentation handler.
Type: ${r}
Name: ${cr(s)}
Error:`,a)}}function f_(){"console"in xe&&qc.forEach(function(r){r in xe.console&&It(xe.console,r,function(n){return la[r]=n,function(...i){sn("console",{args:i,level:r});const s=la[r];s&&s.apply(xe.console,i)}})})}const Cc=xe;function Gc(r){return r&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(r.toString())}function p_(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in Cc))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(Gc(Cc.fetch))return!0;let r=!1;const n=Cc.document;if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i),i.contentWindow&&i.contentWindow.fetch&&(r=Gc(i.contentWindow.fetch)),n.head.removeChild(i)}catch(i){To&&ye.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return r}function Mo(){return Date.now()/1e3}const lr=function(){const{performance:r}=xe;if(!r||!r.now)return Mo;const n=Date.now()-r.now(),i=r.timeOrigin==null?n:r.timeOrigin;return()=>(i+r.now())/1e3}();function h_(r,n){const i="fetch";Nr(i,r),jr(i,()=>function(s,a=!1){a&&!p_()||It(xe,"fetch",function(c){return function(...f){const{method:m,url:h}=function(b){if(b.length===0)return{method:"GET",url:""};if(b.length===2){const[M,A]=b;return{url:_h(M),method:Kc(A,"method")?String(A.method).toUpperCase():"GET"}}const x=b[0];return{url:_h(x),method:Kc(x,"method")?String(x.method).toUpperCase():"GET"}}(f),y={args:f,fetchData:{method:m,url:h},startTimestamp:1e3*lr()};sn("fetch",{...y});const w=new Error().stack;return c.apply(xe,f).then(async b=>(sn("fetch",{...y,endTimestamp:1e3*lr(),response:b}),b),b=>{throw sn("fetch",{...y,endTimestamp:1e3*lr(),error:b}),_u(b)&&b.stack===void 0&&(b.stack=w,Fr(b,"framesToPop",1)),b})}})}(void 0,n))}function Kc(r,n){return!!r&&typeof r=="object"&&!!r[n]}function _h(r){return typeof r=="string"?r:r?Kc(r,"url")?r.url:r.toString?r.toString():"":""}(()=>{const{performance:r}=xe;if(!r||!r.now)return;const n=36e5,i=r.now(),s=Date.now(),a=r.timeOrigin?Math.abs(r.timeOrigin+i-s):n,c=a<n,f=r.timing&&r.timing.navigationStart,m=typeof f=="number"?Math.abs(f+i-s):n;(c||m<n)&&a<=m&&r.timeOrigin})();let zs=null;function m_(){zs=xe.onerror,xe.onerror=function(r,n,i,s,a){return sn("error",{column:s,error:a,line:i,msg:r,url:n}),!(!zs||zs.__SENTRY_LOADER__)&&zs.apply(this,arguments)},xe.onerror.__SENTRY_INSTRUMENTED__=!0}let Vs=null;function v_(){Vs=xe.onunhandledrejection,xe.onunhandledrejection=function(r){return sn("unhandledrejection",r),!(Vs&&!Vs.__SENTRY_LOADER__)||Vs.apply(this,arguments)},xe.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function an(){const r=xe,n=r.crypto||r.msCrypto;let i=()=>16*Math.random();try{if(n&&n.randomUUID)return n.randomUUID().replace(/-/g,"");n&&n.getRandomValues&&(i=()=>{const s=new Uint8Array(1);return n.getRandomValues(s),s[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,s=>(s^(15&i())>>s/4).toString(16))}function Sv(r){return r.exception&&r.exception.values?r.exception.values[0]:void 0}function rr(r){const{message:n,event_id:i}=r;if(n)return n;const s=Sv(r);return s?s.type&&s.value?`${s.type}: ${s.value}`:s.type||s.value||i||"<unknown>":i||"<unknown>"}function Yc(r,n,i){const s=r.exception=r.exception||{},a=s.values=s.values||[],c=a[0]=a[0]||{};c.value||(c.value=n||""),c.type||(c.type="Error")}function bo(r,n){const i=Sv(r);if(!i)return;const s=i.mechanism;if(i.mechanism={type:"generic",handled:!0,...s,...n},n&&"data"in n){const a={...s&&s.data,...n.data};i.mechanism.data=a}}function wh(r){if(r&&r.__sentry_captured__)return!0;try{Fr(r,"__sentry_captured__",!0)}catch{}return!1}function ir(r,n=100,i=1/0){try{return Xc("",r,n,i)}catch(s){return{ERROR:`**non-serializable** (${s})`}}}function kv(r,n=3,i=102400){const s=ir(r,n);return a=s,function(c){return~-encodeURI(c).split(/%..|./).length}(JSON.stringify(a))>i?kv(r,n-1,i):s;var a}function Xc(r,n,i=1/0,s=1/0,a=function(){const c=typeof WeakSet=="function",f=c?new WeakSet:[];return[function(m){if(c)return!!f.has(m)||(f.add(m),!1);for(let h=0;h<f.length;h++)if(f[h]===m)return!0;return f.push(m),!1},function(m){if(c)f.delete(m);else for(let h=0;h<f.length;h++)if(f[h]===m){f.splice(h,1);break}}]}()){const[c,f]=a;if(n==null||["boolean","string"].includes(typeof n)||typeof n=="number"&&Number.isFinite(n))return n;const m=function(M,A){try{if(M==="domain"&&A&&typeof A=="object"&&A._events)return"[Domain]";if(M==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&A===global)return"[Global]";if(typeof window<"u"&&A===window)return"[Window]";if(typeof document<"u"&&A===document)return"[Document]";if(gv(A))return"[VueViewModel]";if(Si(D=A)&&"nativeEvent"in D&&"preventDefault"in D&&"stopPropagation"in D)return"[SyntheticEvent]";if(typeof A=="number"&&!Number.isFinite(A))return`[${A}]`;if(typeof A=="function")return`[Function: ${cr(A)}]`;if(typeof A=="symbol")return`[${String(A)}]`;if(typeof A=="bigint")return`[BigInt: ${String(A)}]`;const z=function(U){const $=Object.getPrototypeOf(U);return $?$.constructor.name:"null prototype"}(A);return/^HTML(\w*)Element$/.test(z)?`[HTMLElement: ${z}]`:`[object ${z}]`}catch(z){return`**non-serializable** (${z})`}var D}(r,n);if(!m.startsWith("[object "))return m;if(n.__sentry_skip_normalization__)return n;const h=typeof n.__sentry_override_normalization_depth__=="number"?n.__sentry_override_normalization_depth__:i;if(h===0)return m.replace("object ","");if(c(n))return"[Circular ~]";const y=n;if(y&&typeof y.toJSON=="function")try{return Xc("",y.toJSON(),h-1,s,a)}catch{}const w=Array.isArray(n)?[]:{};let b=0;const x=wv(n);for(const M in x){if(!Object.prototype.hasOwnProperty.call(x,M))continue;if(b>=s){w[M]="[MaxProperties ~]";break}const A=x[M];w[M]=Xc(M,A,h-1,s,a),b++}return f(n),w}var On;function Br(r){return new Jt(n=>{n(r)})}function ua(r){return new Jt((n,i)=>{i(r)})}(function(r){r[r.PENDING=0]="PENDING",r[r.RESOLVED=1]="RESOLVED",r[r.REJECTED=2]="REJECTED"})(On||(On={}));class Jt{constructor(n){Jt.prototype.__init.call(this),Jt.prototype.__init2.call(this),Jt.prototype.__init3.call(this),Jt.prototype.__init4.call(this),this._state=On.PENDING,this._handlers=[];try{n(this._resolve,this._reject)}catch(i){this._reject(i)}}then(n,i){return new Jt((s,a)=>{this._handlers.push([!1,c=>{if(n)try{s(n(c))}catch(f){a(f)}else s(c)},c=>{if(i)try{s(i(c))}catch(f){a(f)}else a(c)}]),this._executeHandlers()})}catch(n){return this.then(i=>i,n)}finally(n){return new Jt((i,s)=>{let a,c;return this.then(f=>{c=!1,a=f,n&&n()},f=>{c=!0,a=f,n&&n()}).then(()=>{c?s(a):i(a)})})}__init(){this._resolve=n=>{this._setResult(On.RESOLVED,n)}}__init2(){this._reject=n=>{this._setResult(On.REJECTED,n)}}__init3(){this._setResult=(n,i)=>{this._state===On.PENDING&&(wa(i)?i.then(this._resolve,this._reject):(this._state=n,this._value=i,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===On.PENDING)return;const n=this._handlers.slice();this._handlers=[],n.forEach(i=>{i[0]||(this._state===On.RESOLVED&&i[1](this._value),this._state===On.REJECTED&&i[2](this._value),i[0]=!0)})}}}function g_(r){const n=[];function i(s){return n.splice(n.indexOf(s),1)[0]||Promise.resolve(void 0)}return{$:n,add:function(s){if(!(r===void 0||n.length<r))return ua(new vn("Not adding Promise because buffer limit was reached."));const a=s();return n.indexOf(a)===-1&&n.push(a),a.then(()=>i(a)).then(null,()=>i(a).then(null,()=>{})),a},drain:function(s){return new Jt((a,c)=>{let f=n.length;if(!f)return a(!0);const m=setTimeout(()=>{s&&s>0&&a(!1)},s);n.forEach(h=>{Br(h).then(()=>{--f||(clearTimeout(m),a(!0))},c)})})}}}function Ec(r){if(!r)return{};const n=r.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!n)return{};const i=n[6]||"",s=n[8]||"";return{host:n[4],path:n[5],protocol:n[2],search:i,hash:s,relative:n[5]+i+s}}const y_=["fatal","error","warning","log","info","debug"];function __(r){return r==="warn"?"warning":y_.includes(r)?r:"log"}const w_=/^sentry-/;function S_(r){const n=function(s){if(!(!s||!An(s)&&!Array.isArray(s)))return Array.isArray(s)?s.reduce((a,c)=>{const f=Sh(c);return Object.entries(f).forEach(([m,h])=>{a[m]=h}),a},{}):Sh(s)}(r);if(!n)return;const i=Object.entries(n).reduce((s,[a,c])=>(a.match(w_)&&(s[a.slice(7)]=c),s),{});return Object.keys(i).length>0?i:void 0}function Sh(r){return r.split(",").map(n=>n.split("=").map(i=>decodeURIComponent(i.trim()))).reduce((n,[i,s])=>(i&&s&&(n[i]=s),n),{})}function Co(r,n=[]){return[r,n]}function k_(r,n){const[i,s]=r;return[i,[...s,n]]}function kh(r,n){const i=r[1];for(const s of i)if(n(s,s[0].type))return!0;return!1}function Zc(r){return xe.__SENTRY__&&xe.__SENTRY__.encodePolyfill?xe.__SENTRY__.encodePolyfill(r):new TextEncoder().encode(r)}function b_(r){const[n,i]=r;let s=JSON.stringify(n);function a(c){typeof s=="string"?s=typeof c=="string"?s+c:[Zc(s),c]:s.push(typeof c=="string"?Zc(c):c)}for(const c of i){const[f,m]=c;if(a(`
${JSON.stringify(f)}
`),typeof m=="string"||m instanceof Uint8Array)a(m);else{let h;try{h=JSON.stringify(m)}catch{h=JSON.stringify(ir(m))}a(h)}}return typeof s=="string"?s:function(c){const f=c.reduce((y,w)=>y+w.length,0),m=new Uint8Array(f);let h=0;for(const y of c)m.set(y,h),h+=y.length;return m}(s)}function C_(r){const n=typeof r.data=="string"?Zc(r.data):r.data;return[on({type:"attachment",length:n.length,filename:r.filename,content_type:r.contentType,attachment_type:r.attachmentType}),n]}const E_={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function bh(r){return E_[r]}function bv(r){if(!r||!r.sdk)return;const{name:n,version:i}=r.sdk;return{name:n,version:i}}function T_(r,{statusCode:n,headers:i},s=Date.now()){const a={...r},c=i&&i["x-sentry-rate-limits"],f=i&&i["retry-after"];if(c)for(const m of c.trim().split(",")){const[h,y,,,w]=m.split(":",5),b=parseInt(h,10),x=1e3*(isNaN(b)?60:b);if(y)for(const M of y.split(";"))M==="metric_bucket"&&w&&!w.split(";").includes("custom")||(a[M]=s+x);else a.all=s+x}else f?a.all=s+function(m,h=Date.now()){const y=parseInt(`${m}`,10);if(!isNaN(y))return 1e3*y;const w=Date.parse(`${m}`);return isNaN(w)?6e4:w-h}(f,s):n===429&&(a.all=s+6e4);return a}function Ch(){return{traceId:an(),spanId:an().substring(16)}}const Ws=xe,Be=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Sa(){return Cu(xe),xe}function Cu(r){const n=r.__SENTRY__=r.__SENTRY__||{};return n.version=n.version||Dr,n[Dr]=n[Dr]||{}}function eu(r,n={}){if(n.user&&(!r.ipAddress&&n.user.ip_address&&(r.ipAddress=n.user.ip_address),r.did||n.did||(r.did=n.user.id||n.user.email||n.user.username)),r.timestamp=n.timestamp||lr(),n.abnormal_mechanism&&(r.abnormal_mechanism=n.abnormal_mechanism),n.ignoreDuration&&(r.ignoreDuration=n.ignoreDuration),n.sid&&(r.sid=n.sid.length===32?n.sid:an()),n.init!==void 0&&(r.init=n.init),!r.did&&n.did&&(r.did=`${n.did}`),typeof n.started=="number"&&(r.started=n.started),r.ignoreDuration)r.duration=void 0;else if(typeof n.duration=="number")r.duration=n.duration;else{const i=r.timestamp-r.started;r.duration=i>=0?i:0}n.release&&(r.release=n.release),n.environment&&(r.environment=n.environment),!r.ipAddress&&n.ipAddress&&(r.ipAddress=n.ipAddress),!r.userAgent&&n.userAgent&&(r.userAgent=n.userAgent),typeof n.errors=="number"&&(r.errors=n.errors),n.status&&(r.status=n.status)}const tu="_sentrySpan";function Eh(r,n){n?Fr(r,tu,n):delete r[tu]}function Th(r){return r[tu]}class Eu{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Ch()}clone(){const n=new Eu;return n._breadcrumbs=[...this._breadcrumbs],n._tags={...this._tags},n._extra={...this._extra},n._contexts={...this._contexts},n._user=this._user,n._level=this._level,n._session=this._session,n._transactionName=this._transactionName,n._fingerprint=this._fingerprint,n._eventProcessors=[...this._eventProcessors],n._requestSession=this._requestSession,n._attachments=[...this._attachments],n._sdkProcessingMetadata={...this._sdkProcessingMetadata},n._propagationContext={...this._propagationContext},n._client=this._client,n._lastEventId=this._lastEventId,Eh(n,Th(this)),n}setClient(n){this._client=n}setLastEventId(n){this._lastEventId=n}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(n){this._scopeListeners.push(n)}addEventProcessor(n){return this._eventProcessors.push(n),this}setUser(n){return this._user=n||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&eu(this._session,{user:n}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(n){return this._requestSession=n,this}setTags(n){return this._tags={...this._tags,...n},this._notifyScopeListeners(),this}setTag(n,i){return this._tags={...this._tags,[n]:i},this._notifyScopeListeners(),this}setExtras(n){return this._extra={...this._extra,...n},this._notifyScopeListeners(),this}setExtra(n,i){return this._extra={...this._extra,[n]:i},this._notifyScopeListeners(),this}setFingerprint(n){return this._fingerprint=n,this._notifyScopeListeners(),this}setLevel(n){return this._level=n,this._notifyScopeListeners(),this}setTransactionName(n){return this._transactionName=n,this._notifyScopeListeners(),this}setContext(n,i){return i===null?delete this._contexts[n]:this._contexts[n]=i,this._notifyScopeListeners(),this}setSession(n){return n?this._session=n:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(n){if(!n)return this;const i=typeof n=="function"?n(this):n,[s,a]=i instanceof ur?[i.getScopeData(),i.getRequestSession()]:Si(i)?[n,n.requestSession]:[],{tags:c,extra:f,user:m,contexts:h,level:y,fingerprint:w=[],propagationContext:b}=s||{};return this._tags={...this._tags,...c},this._extra={...this._extra,...f},this._contexts={...this._contexts,...h},m&&Object.keys(m).length&&(this._user=m),y&&(this._level=y),w.length&&(this._fingerprint=w),b&&(this._propagationContext=b),a&&(this._requestSession=a),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Eh(this,void 0),this._attachments=[],this._propagationContext=Ch(),this._notifyScopeListeners(),this}addBreadcrumb(n,i){const s=typeof i=="number"?i:100;if(s<=0)return this;const a={timestamp:Mo(),...n},c=this._breadcrumbs;return c.push(a),this._breadcrumbs=c.length>s?c.slice(-s):c,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(n){return this._attachments.push(n),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Th(this)}}setSDKProcessingMetadata(n){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...n},this}setPropagationContext(n){return this._propagationContext=n,this}getPropagationContext(){return this._propagationContext}captureException(n,i){const s=i&&i.event_id?i.event_id:an();if(!this._client)return ye.warn("No client configured on scope - will not capture exception!"),s;const a=new Error("Sentry syntheticException");return this._client.captureException(n,{originalException:n,syntheticException:a,...i,event_id:s},this),s}captureMessage(n,i,s){const a=s&&s.event_id?s.event_id:an();if(!this._client)return ye.warn("No client configured on scope - will not capture message!"),a;const c=new Error(n);return this._client.captureMessage(n,i,{originalException:n,syntheticException:c,...s,event_id:a},this),a}captureEvent(n,i){const s=i&&i.event_id?i.event_id:an();return this._client?(this._client.captureEvent(n,{...i,event_id:s},this),s):(ye.warn("No client configured on scope - will not capture event!"),s)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(n=>{n(this)}),this._notifyingListeners=!1)}}const ur=Eu;class M_{constructor(n,i){let s,a;s=n||new ur,a=i||new ur,this._stack=[{scope:s}],this._isolationScope=a}withScope(n){const i=this._pushScope();let s;try{s=n(i)}catch(a){throw this._popScope(),a}return wa(s)?s.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),s)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const n=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:n}),n}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function ki(){const r=Cu(Sa());return r.stack=r.stack||new M_(aa("defaultCurrentScope",()=>new ur),aa("defaultIsolationScope",()=>new ur))}function P_(r){return ki().withScope(r)}function O_(r,n){const i=ki();return i.withScope(()=>(i.getStackTop().scope=r,n(r)))}function Mh(r){return ki().withScope(()=>r(ki().getIsolationScope()))}function Tu(r){const n=Cu(r);return n.acs?n.acs:{withIsolationScope:Mh,withScope:P_,withSetScope:O_,withSetIsolationScope:(i,s)=>Mh(s),getCurrentScope:()=>ki().getScope(),getIsolationScope:()=>ki().getIsolationScope()}}function Mu(){return Tu(Sa()).getCurrentScope()}function Cv(){return Tu(Sa()).getIsolationScope()}function Pt(){return Mu().getClient()}function x_(r){const n=r._sentryMetrics;if(!n)return;const i={};for(const[,[s,a]]of n)(i[s]||(i[s]=[])).push(on(a));return i}function L_(r){const{spanId:n,traceId:i}=r.spanContext(),{parent_span_id:s}=da(r);return on({parent_span_id:s,span_id:n,trace_id:i})}function Ph(r){return typeof r=="number"?Oh(r):Array.isArray(r)?r[0]+r[1]/1e9:r instanceof Date?Oh(r.getTime()):lr()}function Oh(r){return r>9999999999?r/1e3:r}function da(r){if(function(n){return typeof n.getSpanJSON=="function"}(r))return r.getSpanJSON();try{const{spanId:n,traceId:i}=r.spanContext();if(function(s){const a=s;return!!(a.attributes&&a.startTime&&a.name&&a.endTime&&a.status)}(r)){const{attributes:s,startTime:a,name:c,endTime:f,parentSpanId:m,status:h}=r;return on({span_id:n,trace_id:i,data:s,description:c,parent_span_id:m,start_timestamp:Ph(a),timestamp:Ph(f)||void 0,status:A_(h),op:s["sentry.op"],origin:s["sentry.origin"],_metrics_summary:x_(r)})}return{span_id:n,trace_id:i}}catch{return{}}}function A_(r){if(r&&r.code!==0)return r.code===1?"ok":r.message||"unknown_error"}function Ev(r){return r._sentryRootSpan||r}const Tv="production";function Mv(r,n){const i=n.getOptions(),{publicKey:s}=n.getDsn()||{},a=on({environment:i.environment||Tv,release:i.release,public_key:s,trace_id:r});return n.emit("createDsc",a),a}function N_(r){const n=Pt();if(!n)return{};const i=Mv(da(r).trace_id||"",n),s=Ev(r),a=s._frozenDsc;if(a)return a;const c=s.spanContext().traceState,f=c&&c.get("sentry.dsc"),m=f&&S_(f);if(m)return m;const h=da(s),y=h.data||{},w=y["sentry.sample_rate"];w!=null&&(i.sample_rate=`${w}`);const b=y["sentry.source"],x=h.description;return b!=="url"&&x&&(i.transaction=x),function(M){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const A=Pt(),D=A&&A.getOptions();return!!D&&(D.enableTracing||"tracesSampleRate"in D||"tracesSampler"in D)}()&&(i.sampled=String(function(M){const{traceFlags:A}=M.spanContext();return A===1}(s))),n.emit("createDsc",i,s),i}function j_(r,n,i,s){const a=bv(i),c=r.type&&r.type!=="replay_event"?r.type:"event";(function(m,h){h&&(m.sdk=m.sdk||{},m.sdk.name=m.sdk.name||h.name,m.sdk.version=m.sdk.version||h.version,m.sdk.integrations=[...m.sdk.integrations||[],...h.integrations||[]],m.sdk.packages=[...m.sdk.packages||[],...h.packages||[]])})(r,i&&i.sdk);const f=function(m,h,y,w){const b=m.sdkProcessingMetadata&&m.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:m.event_id,sent_at:new Date().toISOString(),...h&&{sdk:h},...!!y&&w&&{dsn:ca(w)},...b&&{trace:on({...b})}}}(r,a,s,n);return delete r.sdkProcessingMetadata,Co(f,[[{type:c},r]])}function nu(r,n,i,s=0){return new Jt((a,c)=>{const f=r[s];if(n===null||typeof f!="function")a(n);else{const m=f({...n},i);Be&&f.id&&m===null&&ye.log(`Event processor "${f.id}" dropped event`),wa(m)?m.then(h=>nu(r,h,i,s+1).then(a)).then(null,c):nu(r,m,i,s+1).then(a).then(null,c)}})}function D_(r,n){const{fingerprint:i,span:s,breadcrumbs:a,sdkProcessingMetadata:c}=n;(function(f,m){const{extra:h,tags:y,user:w,contexts:b,level:x,transactionName:M}=m,A=on(h);A&&Object.keys(A).length&&(f.extra={...A,...f.extra});const D=on(y);D&&Object.keys(D).length&&(f.tags={...D,...f.tags});const z=on(w);z&&Object.keys(z).length&&(f.user={...z,...f.user});const U=on(b);U&&Object.keys(U).length&&(f.contexts={...U,...f.contexts}),x&&(f.level=x),M&&f.type!=="transaction"&&(f.transaction=M)})(r,n),s&&function(f,m){f.contexts={trace:L_(m),...f.contexts},f.sdkProcessingMetadata={dynamicSamplingContext:N_(m),...f.sdkProcessingMetadata};const h=Ev(m),y=da(h).description;y&&!f.transaction&&f.type==="transaction"&&(f.transaction=y)}(r,s),function(f,m){f.fingerprint=f.fingerprint?function(h){return Array.isArray(h)?h:[h]}(f.fingerprint):[],m&&(f.fingerprint=f.fingerprint.concat(m)),f.fingerprint&&!f.fingerprint.length&&delete f.fingerprint}(r,i),function(f,m){const h=[...f.breadcrumbs||[],...m];f.breadcrumbs=h.length?h:void 0}(r,a),function(f,m){f.sdkProcessingMetadata={...f.sdkProcessingMetadata,...m}}(r,c)}function xh(r,n){const{extra:i,tags:s,user:a,contexts:c,level:f,sdkProcessingMetadata:m,breadcrumbs:h,fingerprint:y,eventProcessors:w,attachments:b,propagationContext:x,transactionName:M,span:A}=n;vo(r,"extra",i),vo(r,"tags",s),vo(r,"user",a),vo(r,"contexts",c),vo(r,"sdkProcessingMetadata",m),f&&(r.level=f),M&&(r.transactionName=M),A&&(r.span=A),h.length&&(r.breadcrumbs=[...r.breadcrumbs,...h]),y.length&&(r.fingerprint=[...r.fingerprint,...y]),w.length&&(r.eventProcessors=[...r.eventProcessors,...w]),b.length&&(r.attachments=[...r.attachments,...b]),r.propagationContext={...r.propagationContext,...x}}function vo(r,n,i){if(i&&Object.keys(i).length){r[n]={...r[n]};for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[n][s]=i[s])}}function I_(r,n,i,s,a,c){const{normalizeDepth:f=3,normalizeMaxBreadth:m=1e3}=r,h={...n,event_id:n.event_id||i.event_id||an(),timestamp:n.timestamp||Mo()},y=i.integrations||r.integrations.map(A=>A.name);(function(A,D){const{environment:z,release:U,dist:$,maxValueLength:V=250}=D;"environment"in A||(A.environment="environment"in D?z:Tv),A.release===void 0&&U!==void 0&&(A.release=U),A.dist===void 0&&$!==void 0&&(A.dist=$),A.message&&(A.message=_i(A.message,V));const P=A.exception&&A.exception.values&&A.exception.values[0];P&&P.value&&(P.value=_i(P.value,V));const N=A.request;N&&N.url&&(N.url=_i(N.url,V))})(h,r),function(A,D){D.length>0&&(A.sdk=A.sdk||{},A.sdk.integrations=[...A.sdk.integrations||[],...D])}(h,y),a&&a.emit("applyFrameMetadata",n),n.type===void 0&&function(A,D){const z=xe._sentryDebugIds;if(!z)return;let U;const $=Lh.get(D);$?U=$:(U=new Map,Lh.set(D,U));const V=Object.entries(z).reduce((P,[N,B])=>{let F;const q=U.get(N);q?F=q:(F=D(N),U.set(N,F));for(let ee=F.length-1;ee>=0;ee--){const Q=F[ee];if(Q.filename){P[Q.filename]=B;break}}return P},{});try{A.exception.values.forEach(P=>{P.stacktrace.frames.forEach(N=>{N.filename&&(N.debug_id=V[N.filename])})})}catch{}}(h,r.stackParser);const w=function(A,D){if(!D)return A;const z=A?A.clone():new ur;return z.update(D),z}(s,i.captureContext);i.mechanism&&bo(h,i.mechanism);const b=a?a.getEventProcessors():[],x=aa("globalScope",()=>new ur).getScopeData();c&&xh(x,c.getScopeData()),w&&xh(x,w.getScopeData());const M=[...i.attachments||[],...x.attachments];return M.length&&(i.attachments=M),D_(h,x),nu([...b,...x.eventProcessors],h,i).then(A=>(A&&function(D){const z={};try{D.exception.values.forEach($=>{$.stacktrace.frames.forEach(V=>{V.debug_id&&(V.abs_path?z[V.abs_path]=V.debug_id:V.filename&&(z[V.filename]=V.debug_id),delete V.debug_id)})})}catch{}if(Object.keys(z).length===0)return;D.debug_meta=D.debug_meta||{},D.debug_meta.images=D.debug_meta.images||[];const U=D.debug_meta.images;Object.entries(z).forEach(([$,V])=>{U.push({type:"sourcemap",code_file:$,debug_id:V})})}(A),typeof f=="number"&&f>0?function(D,z,U){if(!D)return null;const $={...D,...D.breadcrumbs&&{breadcrumbs:D.breadcrumbs.map(V=>({...V,...V.data&&{data:ir(V.data,z,U)}}))},...D.user&&{user:ir(D.user,z,U)},...D.contexts&&{contexts:ir(D.contexts,z,U)},...D.extra&&{extra:ir(D.extra,z,U)}};return D.contexts&&D.contexts.trace&&$.contexts&&($.contexts.trace=D.contexts.trace,D.contexts.trace.data&&($.contexts.trace.data=ir(D.contexts.trace.data,z,U))),D.spans&&($.spans=D.spans.map(V=>({...V,...V.data&&{data:ir(V.data,z,U)}}))),$}(A,f,m):A))}const Lh=new WeakMap;function Ah(r,n){return Mu().captureEvent(r,n)}function R_(r,n){return i={sentry_key:r.publicKey,sentry_version:"7",...n&&{sentry_client:`${n.name}/${n.version}`}},Object.keys(i).map(s=>`${encodeURIComponent(s)}=${encodeURIComponent(i[s])}`).join("&");var i}const Nh=[];function jh(r,n){for(const i of n)i&&i.afterAllSetup&&i.afterAllSetup(r)}function Dh(r,n,i){if(i[n.name])Be&&ye.log(`Integration skipped because it was already installed: ${n.name}`);else{if(i[n.name]=n,Nh.indexOf(n.name)===-1&&typeof n.setupOnce=="function"&&(n.setupOnce(),Nh.push(n.name)),n.setup&&typeof n.setup=="function"&&n.setup(r),typeof n.preprocessEvent=="function"){const s=n.preprocessEvent.bind(n);r.on("preprocessEvent",(a,c)=>s(a,c,r))}if(typeof n.processEvent=="function"){const s=n.processEvent.bind(n),a=Object.assign((c,f)=>s(c,f,r),{id:n.name});r.addEventProcessor(a)}Be&&ye.log(`Integration installed: ${n.name}`)}}const Ih="Not capturing exception because it's already been captured.";class F_{constructor(n){if(this._options=n,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],n.dsn?this._dsn=d_(n.dsn):Be&&ye.warn("No DSN provided, client will not send events."),this._dsn){const c=(i=this._dsn,s=n.tunnel,a=n._metadata?n._metadata.sdk:void 0,s||`${function(f){return`${function(m){const h=m.protocol?`${m.protocol}:`:"",y=m.port?`:${m.port}`:"";return`${h}//${m.host}${y}${m.path?`/${m.path}`:""}/api/`}(f)}${f.projectId}/envelope/`}(i)}?${R_(i,a)}`);this._transport=n.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...n.transportOptions,url:c})}var i,s,a}captureException(n,i,s){const a=an();if(wh(n))return Be&&ye.log(Ih),a;const c={event_id:a,...i};return this._process(this.eventFromException(n,c).then(f=>this._captureEvent(f,c,s))),c.event_id}captureMessage(n,i,s,a){const c={event_id:an(),...s},f=wu(n)?n:String(n),m=Jc(n)?this.eventFromMessage(f,i,c):this.eventFromException(n,c);return this._process(m.then(h=>this._captureEvent(h,c,a))),c.event_id}captureEvent(n,i,s){const a=an();if(i&&i.originalException&&wh(i.originalException))return Be&&ye.log(Ih),a;const c={event_id:a,...i},f=(n.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(n,c,f||s)),c.event_id}captureSession(n){typeof n.release!="string"?Be&&ye.warn("Discarded session because of missing or non-string release"):(this.sendSession(n),eu(n,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(n){const i=this._transport;return i?(this.emit("flush"),this._isClientDoneProcessing(n).then(s=>i.flush(n).then(a=>s&&a))):Br(!0)}close(n){return this.flush(n).then(i=>(this.getOptions().enabled=!1,this.emit("close"),i))}getEventProcessors(){return this._eventProcessors}addEventProcessor(n){this._eventProcessors.push(n)}init(){(this._isEnabled()||this._options.integrations.some(({name:n})=>n.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(n){return this._integrations[n]}addIntegration(n){const i=this._integrations[n.name];Dh(this,n,this._integrations),i||jh(this,[n])}sendEvent(n,i={}){this.emit("beforeSendEvent",n,i);let s=j_(n,this._dsn,this._options._metadata,this._options.tunnel);for(const c of i.attachments||[])s=k_(s,C_(c));const a=this.sendEnvelope(s);a&&a.then(c=>this.emit("afterSendEvent",n,c),null)}sendSession(n){const i=function(s,a,c,f){const m=bv(c);return Co({sent_at:new Date().toISOString(),...m&&{sdk:m},...!!f&&a&&{dsn:ca(a)}},["aggregates"in s?[{type:"sessions"},s]:[{type:"session"},s.toJSON()]])}(n,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(i)}recordDroppedEvent(n,i,s){if(this._options.sendClientReports){const a=typeof s=="number"?s:1,c=`${n}:${i}`;Be&&ye.log(`Recording outcome: "${c}"${a>1?` (${a} times)`:""}`),this._outcomes[c]=(this._outcomes[c]||0)+a}}on(n,i){const s=this._hooks[n]=this._hooks[n]||[];return s.push(i),()=>{const a=s.indexOf(i);a>-1&&s.splice(a,1)}}emit(n,...i){const s=this._hooks[n];s&&s.forEach(a=>a(...i))}sendEnvelope(n){return this.emit("beforeEnvelope",n),this._isEnabled()&&this._transport?this._transport.send(n).then(null,i=>(Be&&ye.error("Error while sending event:",i),i)):(Be&&ye.error("Transport disabled"),Br({}))}_setupIntegrations(){const{integrations:n}=this._options;this._integrations=function(i,s){const a={};return s.forEach(c=>{c&&Dh(i,c,a)}),a}(this,n),jh(this,n)}_updateSessionFromEvent(n,i){let s=!1,a=!1;const c=i.exception&&i.exception.values;if(c){a=!0;for(const m of c){const h=m.mechanism;if(h&&h.handled===!1){s=!0;break}}}const f=n.status==="ok";(f&&n.errors===0||f&&s)&&(eu(n,{...s&&{status:"crashed"},errors:n.errors||Number(a||s)}),this.captureSession(n))}_isClientDoneProcessing(n){return new Jt(i=>{let s=0;const a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),i(!0)):(s+=1,n&&s>=n&&(clearInterval(a),i(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(n,i,s,a=Cv()){const c=this.getOptions(),f=Object.keys(this._integrations);return!i.integrations&&f.length>0&&(i.integrations=f),this.emit("preprocessEvent",n,i),n.type||a.setLastEventId(n.event_id||i.event_id),I_(c,n,i,s,this,a).then(m=>{if(m===null)return m;const h={...a.getPropagationContext(),...s?s.getPropagationContext():void 0};if(!(m.contexts&&m.contexts.trace)&&h){const{traceId:y,spanId:w,parentSpanId:b,dsc:x}=h;m.contexts={trace:on({trace_id:y,span_id:w,parent_span_id:b}),...m.contexts};const M=x||Mv(y,this);m.sdkProcessingMetadata={dynamicSamplingContext:M,...m.sdkProcessingMetadata}}return m})}_captureEvent(n,i={},s){return this._processEvent(n,i,s).then(a=>a.event_id,a=>{if(Be){const c=a;c.logLevel==="log"?ye.log(c.message):ye.warn(c)}})}_processEvent(n,i,s){const a=this.getOptions(),{sampleRate:c}=a,f=Fh(n),m=Rh(n),h=n.type||"error",y=`before send for type \`${h}\``,w=c===void 0?void 0:function(M){if(typeof M=="boolean")return Number(M);const A=typeof M=="string"?parseFloat(M):M;if(!(typeof A!="number"||isNaN(A)||A<0||A>1))return A;Be&&ye.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(M)} of type ${JSON.stringify(typeof M)}.`)}(c);if(m&&typeof w=="number"&&Math.random()>w)return this.recordDroppedEvent("sample_rate","error",n),ua(new vn(`Discarding event because it's not included in the random sample (sampling rate = ${c})`,"log"));const b=h==="replay_event"?"replay":h,x=(n.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(n,i,s,x).then(M=>{if(M===null)throw this.recordDroppedEvent("event_processor",b,n),new vn("An event processor returned `null`, will not send event.","log");if(i.data&&i.data.__sentry__===!0)return M;const A=function(D,z,U,$){const{beforeSend:V,beforeSendTransaction:P,beforeSendSpan:N}=z;if(Rh(U)&&V)return V(U,$);if(Fh(U)){if(U.spans&&N){const B=[];for(const F of U.spans){const q=N(F);q?B.push(q):D.recordDroppedEvent("before_send","span")}U.spans=B}if(P){if(U.spans){const B=U.spans.length;U.sdkProcessingMetadata={...U.sdkProcessingMetadata,spanCountBeforeProcessing:B}}return P(U,$)}}return U}(this,a,M,i);return function(D,z){const U=`${z} must return \`null\` or a valid event.`;if(wa(D))return D.then($=>{if(!Si($)&&$!==null)throw new vn(U);return $},$=>{throw new vn(`${z} rejected with ${$}`)});if(!Si(D)&&D!==null)throw new vn(U);return D}(A,y)}).then(M=>{if(M===null){if(this.recordDroppedEvent("before_send",b,n),f){const z=1+(n.spans||[]).length;this.recordDroppedEvent("before_send","span",z)}throw new vn(`${y} returned \`null\`, will not send event.`,"log")}const A=s&&s.getSession();if(!f&&A&&this._updateSessionFromEvent(A,M),f){const z=(M.sdkProcessingMetadata&&M.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(M.spans?M.spans.length:0);z>0&&this.recordDroppedEvent("before_send","span",z)}const D=M.transaction_info;if(f&&D&&M.transaction!==n.transaction){const z="custom";M.transaction_info={...D,source:z}}return this.sendEvent(M,i),M}).then(null,M=>{throw M instanceof vn?M:(this.captureException(M,{data:{__sentry__:!0},originalException:M}),new vn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${M}`))})}_process(n){this._numProcessing++,n.then(i=>(this._numProcessing--,i),i=>(this._numProcessing--,i))}_clearOutcomes(){const n=this._outcomes;return this._outcomes={},Object.entries(n).map(([i,s])=>{const[a,c]=i.split(":");return{reason:a,category:c,quantity:s}})}_flushOutcomes(){Be&&ye.log("Flushing outcomes...");const n=this._clearOutcomes();if(n.length===0)return void(Be&&ye.log("No outcomes to send"));if(!this._dsn)return void(Be&&ye.log("No dsn provided, will not send outcomes"));Be&&ye.log("Sending outcomes:",n);const i=(s=n,Co((a=this._options.tunnel&&ca(this._dsn))?{dsn:a}:{},[[{type:"client_report"},{timestamp:c||Mo(),discarded_events:s}]]));var s,a,c;this.sendEnvelope(i)}}function Rh(r){return r.type===void 0}function Fh(r){return r.type==="transaction"}function B_(r,n,i=g_(r.bufferSize||64)){let s={};return{send:function(a){const c=[];if(kh(a,(h,y)=>{const w=bh(y);if(function(b,x,M=Date.now()){return function(A,D){return A[D]||A.all||0}(b,x)>M}(s,w)){const b=Bh(h,y);r.recordDroppedEvent("ratelimit_backoff",w,b)}else c.push(h)}),c.length===0)return Br({});const f=Co(a[0],c),m=h=>{kh(f,(y,w)=>{const b=Bh(y,w);r.recordDroppedEvent(h,bh(w),b)})};return i.add(()=>n({body:b_(f)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&Be&&ye.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),s=T_(s,h),h),h=>{throw m("network_error"),h})).then(h=>h,h=>{if(h instanceof vn)return Be&&ye.error("Skipped sending event because buffer is full."),m("queue_overflow"),Br({});throw h})},flush:a=>i.drain(a)}}function Bh(r,n){if(n==="event"||n==="transaction")return Array.isArray(r)?r[1]:void 0}const U_=100;function Tr(r,n){const i=Pt(),s=Cv();if(!i)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:c=U_}=i.getOptions();if(c<=0)return;const f={timestamp:Mo(),...r},m=a?ku(()=>a(f,n)):f;m!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",m,n),s.addBreadcrumb(m,c))}let Uh;const $h=new WeakMap,$_=()=>({name:"FunctionToString",setupOnce(){Uh=Function.prototype.toString;try{Function.prototype.toString=function(...r){const n=bu(this),i=$h.has(Pt())&&n!==void 0?n:this;return Uh.apply(i,r)}}catch{}},setup(r){$h.set(r,!0)}}),z_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],V_=(r={})=>({name:"InboundFilters",processEvent(n,i,s){const a=s.getOptions(),c=function(f={},m={}){return{allowUrls:[...f.allowUrls||[],...m.allowUrls||[]],denyUrls:[...f.denyUrls||[],...m.denyUrls||[]],ignoreErrors:[...f.ignoreErrors||[],...m.ignoreErrors||[],...f.disableErrorDefaults?[]:z_],ignoreTransactions:[...f.ignoreTransactions||[],...m.ignoreTransactions||[]],ignoreInternal:f.ignoreInternal===void 0||f.ignoreInternal}}(r,a);return function(f,m){return m.ignoreInternal&&function(h){try{return h.exception.values[0].type==="SentryError"}catch{}return!1}(f)?(Be&&ye.warn(`Event dropped due to being internal Sentry Error.
Event: ${rr(f)}`),!0):function(h,y){return h.type||!y||!y.length?!1:function(w){const b=[];w.message&&b.push(w.message);let x;try{x=w.exception.values[w.exception.values.length-1]}catch{}return x&&x.value&&(b.push(x.value),x.type&&b.push(`${x.type}: ${x.value}`)),b}(h).some(w=>Us(w,y))}(f,m.ignoreErrors)?(Be&&ye.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${rr(f)}`),!0):function(h){return h.type||!h.exception||!h.exception.values||h.exception.values.length===0?!1:!h.message&&!h.exception.values.some(y=>y.stacktrace||y.type&&y.type!=="Error"||y.value)}(f)?(Be&&ye.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${rr(f)}`),!0):function(h,y){if(h.type!=="transaction"||!y||!y.length)return!1;const w=h.transaction;return!!w&&Us(w,y)}(f,m.ignoreTransactions)?(Be&&ye.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${rr(f)}`),!0):function(h,y){if(!y||!y.length)return!1;const w=Js(h);return!!w&&Us(w,y)}(f,m.denyUrls)?(Be&&ye.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${rr(f)}.
Url: ${Js(f)}`),!0):function(h,y){if(!y||!y.length)return!0;const w=Js(h);return!w||Us(w,y)}(f,m.allowUrls)?!1:(Be&&ye.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${rr(f)}.
Url: ${Js(f)}`),!0)}(n,c)?null:n}});function Js(r){try{let n;try{n=r.exception.values[0].stacktrace.frames}catch{}return n?function(i=[]){for(let s=i.length-1;s>=0;s--){const a=i[s];if(a&&a.filename!=="<anonymous>"&&a.filename!=="[native code]")return a.filename||null}return null}(n):null}catch{return Be&&ye.error(`Cannot extract url for event ${rr(r)}`),null}}const W_=()=>{let r;return{name:"Dedupe",processEvent(n){if(n.type)return n;try{if(function(i,s){return s?!!(function(a,c){const f=a.message,m=c.message;return!(!f&&!m||f&&!m||!f&&m||f!==m||!Vh(a,c)||!zh(a,c))}(i,s)||function(a,c){const f=Wh(c),m=Wh(a);return!(!f||!m||f.type!==m.type||f.value!==m.value||!Vh(a,c)||!zh(a,c))}(i,s)):!1}(n,r))return Be&&ye.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return r=n}}};function zh(r,n){let i=gh(r),s=gh(n);if(!i&&!s)return!0;if(i&&!s||!i&&s||s.length!==i.length)return!1;for(let a=0;a<s.length;a++){const c=s[a],f=i[a];if(c.filename!==f.filename||c.lineno!==f.lineno||c.colno!==f.colno||c.function!==f.function)return!1}return!0}function Vh(r,n){let i=r.fingerprint,s=n.fingerprint;if(!i&&!s)return!0;if(i&&!s||!i&&s)return!1;try{return i.join("")===s.join("")}catch{return!1}}function Wh(r){return r.exception&&r.exception.values&&r.exception.values[0]}const ut=xe;let ru=0;function Jh(){return ru>0}function bi(r,n={},i){if(typeof r!="function")return r;try{const a=r.__sentry_wrapped__;if(a)return typeof a=="function"?a:r;if(bu(r))return r}catch{return r}const s=function(){const a=Array.prototype.slice.call(arguments);try{i&&typeof i=="function"&&i.apply(this,arguments);const c=a.map(f=>bi(f,n));return r.apply(this,c)}catch(c){throw ru++,setTimeout(()=>{ru--}),function(...f){const m=Tu(Sa());if(f.length===2){const[h,y]=f;return h?m.withSetScope(h,y):m.withScope(y)}m.withScope(f[0])}(f=>{var m;f.addEventProcessor(h=>(n.mechanism&&(Yc(h,void 0),bo(h,n.mechanism)),h.extra={...h.extra,arguments:a},h)),m=c,Mu().captureException(m,void 0)}),c}};try{for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])}catch{}_v(s,r),Fr(r,"__sentry_wrapped__",s);try{Object.getOwnPropertyDescriptor(s,"name").configurable&&Object.defineProperty(s,"name",{get:()=>r.name})}catch{}return s}const Pu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Ou(r,n){const i=xu(r,n),s={type:n&&n.name,value:q_(n)};return i.length&&(s.stacktrace={frames:i}),s.type===void 0&&s.value===""&&(s.value="Unrecoverable error caught"),s}function J_(r,n,i,s){const a=Pt(),c=a&&a.getOptions().normalizeDepth,f=function(y){for(const w in y)if(Object.prototype.hasOwnProperty.call(y,w)){const b=y[w];if(b instanceof Error)return b}}(n),m={__serialized__:kv(n,c)};if(f)return{exception:{values:[Ou(r,f)]},extra:m};const h={exception:{values:[{type:_a(n)?n.constructor.name:s?"UnhandledRejection":"Error",value:Q_(n,{isUnhandledRejection:s})}]},extra:m};if(i){const y=xu(r,i);y.length&&(h.exception.values[0].stacktrace={frames:y})}return h}function Tc(r,n){return{exception:{values:[Ou(r,n)]}}}function xu(r,n){const i=n.stacktrace||n.stack||"",s=function(c){return c&&H_.test(c.message)?1:0}(n),a=function(c){return typeof c.framesToPop=="number"?c.framesToPop:0}(n);try{return r(i,s,a)}catch{}return[]}const H_=/Minified React error #\d+;/i;function q_(r){const n=r&&r.message;return n?n.error&&typeof n.error.message=="string"?n.error.message:n:"No error message"}function iu(r,n,i,s,a){let c;if(vv(n)&&n.error)return Tc(r,n.error);if(sh(n)||Ti(n,"DOMException")){const f=n;if("stack"in n)c=Tc(r,n);else{const m=f.name||(sh(f)?"DOMError":"DOMException"),h=f.message?`${m}: ${f.message}`:m;c=ou(r,h,i,s),Yc(c,h)}return"code"in f&&(c.tags={...c.tags,"DOMException.code":`${f.code}`}),c}return _u(n)?Tc(r,n):Si(n)||_a(n)?(c=J_(r,n,i,a),bo(c,{synthetic:!0}),c):(c=ou(r,n,i,s),Yc(c,`${n}`),bo(c,{synthetic:!0}),c)}function ou(r,n,i,s){const a={};if(s&&i){const c=xu(r,i);c.length&&(a.exception={values:[{value:n,stacktrace:{frames:c}}]})}if(wu(n)){const{__sentry_template_string__:c,__sentry_template_values__:f}=n;return a.logentry={message:c,params:f},a}return a.message=n,a}function Q_(r,{isUnhandledRejection:n}){const i=function(a,c=40){const f=Object.keys(wv(a));f.sort();const m=f[0];if(!m)return"[object has no keys]";if(m.length>=c)return _i(m,c);for(let h=f.length;h>0;h--){const y=f.slice(0,h).join(", ");if(!(y.length>c))return h===f.length?y:_i(y,c)}return""}(r),s=n?"promise rejection":"exception";return vv(r)?`Event \`ErrorEvent\` captured as ${s} with message \`${r.message}\``:_a(r)?`Event \`${function(a){try{const c=Object.getPrototypeOf(a);return c?c.constructor.name:void 0}catch{}}(r)}\` (type=${r.type}) captured as ${s}`:`Object captured as ${s} with keys: ${i}`}class G_ extends F_{constructor(n){const i={parentSpanIsAlwaysRootSpan:!0,...n};(function(s,a,c=[a],f="npm"){const m=s._metadata||{};m.sdk||(m.sdk={name:`sentry.javascript.${a}`,packages:c.map(h=>({name:`${f}:@sentry/${h}`,version:Dr})),version:Dr}),s._metadata=m})(i,"browser",["browser"],ut.SENTRY_SDK_SOURCE||"npm"),super(i),i.sendClientReports&&ut.document&&ut.document.addEventListener("visibilitychange",()=>{ut.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(n,i){return function(s,a,c,f){const m=iu(s,a,c&&c.syntheticException||void 0,f);return bo(m),m.level="error",c&&c.event_id&&(m.event_id=c.event_id),Br(m)}(this._options.stackParser,n,i,this._options.attachStacktrace)}eventFromMessage(n,i="info",s){return function(a,c,f="info",m,h){const y=ou(a,c,m&&m.syntheticException||void 0,h);return y.level=f,m&&m.event_id&&(y.event_id=m.event_id),Br(y)}(this._options.stackParser,n,i,s,this._options.attachStacktrace)}captureUserFeedback(n){if(!this._isEnabled())return void(Pu&&ye.warn("SDK not enabled, will not capture user feedback."));const i=function(s,{metadata:a,tunnel:c,dsn:f}){const m={event_id:s.event_id,sent_at:new Date().toISOString(),...a&&a.sdk&&{sdk:{name:a.sdk.name,version:a.sdk.version}},...!!c&&!!f&&{dsn:ca(f)}};return Co(m,[function(y){return[{type:"user_report"},y]}(s)])}(n,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(i)}_prepareEvent(n,i,s){return n.platform=n.platform||"javascript",super._prepareEvent(n,i,s)}}const K_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,gt=xe;let Hh,Mc,Pc,Hs;function Y_(){if(!gt.document)return;const r=sn.bind(null,"dom"),n=qh(r,!0);gt.document.addEventListener("click",n,!1),gt.document.addEventListener("keypress",n,!1),["EventTarget","Node"].forEach(i=>{const s=gt[i]&&gt[i].prototype;s&&s.hasOwnProperty&&s.hasOwnProperty("addEventListener")&&(It(s,"addEventListener",function(a){return function(c,f,m){if(c==="click"||c=="keypress")try{const h=this,y=h.__sentry_instrumentation_handlers__=h.__sentry_instrumentation_handlers__||{},w=y[c]=y[c]||{refCount:0};if(!w.handler){const b=qh(r);w.handler=b,a.call(this,c,b,m)}w.refCount++}catch{}return a.call(this,c,f,m)}}),It(s,"removeEventListener",function(a){return function(c,f,m){if(c==="click"||c=="keypress")try{const h=this,y=h.__sentry_instrumentation_handlers__||{},w=y[c];w&&(w.refCount--,w.refCount<=0&&(a.call(this,c,w.handler,m),w.handler=void 0,delete y[c]),Object.keys(y).length===0&&delete h.__sentry_instrumentation_handlers__)}catch{}return a.call(this,c,f,m)}}))})}function qh(r,n=!1){return i=>{if(!i||i._sentryCaptured)return;const s=function(c){try{return c.target}catch{return null}}(i);if(function(c,f){return c==="keypress"&&(!f||!f.tagName||f.tagName!=="INPUT"&&f.tagName!=="TEXTAREA"&&!f.isContentEditable)}(i.type,s))return;Fr(i,"_sentryCaptured",!0),s&&!s._sentryId&&Fr(s,"_sentryId",an());const a=i.type==="keypress"?"input":i.type;(function(c){if(c.type!==Mc)return!1;try{if(!c.target||c.target._sentryId!==Pc)return!1}catch{}return!0})(i)||(r({event:i,name:a,global:n}),Mc=i.type,Pc=s?s._sentryId:void 0),clearTimeout(Hh),Hh=gt.setTimeout(()=>{Pc=void 0,Mc=void 0},1e3)}}function X_(){if(!function(){const i=Ws.chrome,s=i&&i.app&&i.app.runtime,a="history"in Ws&&!!Ws.history.pushState&&!!Ws.history.replaceState;return!s&&a}())return;const r=gt.onpopstate;function n(i){return function(...s){const a=s.length>2?s[2]:void 0;if(a){const c=Hs,f=String(a);Hs=f,sn("history",{from:c,to:f})}return i.apply(this,s)}}gt.onpopstate=function(...i){const s=gt.location.href,a=Hs;if(Hs=s,sn("history",{from:a,to:s}),r)try{return r.apply(this,i)}catch{}},It(gt.history,"pushState",n),It(gt.history,"replaceState",n)}const ta={};function Qh(r){ta[r]=void 0}const yo="__sentry_xhr_v3__";function Z_(){if(!gt.XMLHttpRequest)return;const r=XMLHttpRequest.prototype;r.open=new Proxy(r.open,{apply(n,i,s){const a=1e3*lr(),c=An(s[0])?s[0].toUpperCase():void 0,f=function(h){if(An(h))return h;try{return h.toString()}catch{}}(s[1]);if(!c||!f)return n.apply(i,s);i[yo]={method:c,url:f,request_headers:{}},c==="POST"&&f.match(/sentry_key/)&&(i.__sentry_own_request__=!0);const m=()=>{const h=i[yo];if(h&&i.readyState===4){try{h.status_code=i.status}catch{}sn("xhr",{endTimestamp:1e3*lr(),startTimestamp:a,xhr:i})}};return"onreadystatechange"in i&&typeof i.onreadystatechange=="function"?i.onreadystatechange=new Proxy(i.onreadystatechange,{apply:(h,y,w)=>(m(),h.apply(y,w))}):i.addEventListener("readystatechange",m),i.setRequestHeader=new Proxy(i.setRequestHeader,{apply(h,y,w){const[b,x]=w,M=y[yo];return M&&An(b)&&An(x)&&(M.request_headers[b.toLowerCase()]=x),h.apply(y,w)}}),n.apply(i,s)}}),r.send=new Proxy(r.send,{apply(n,i,s){const a=i[yo];return a?(s[0]!==void 0&&(a.body=s[0]),sn("xhr",{startTimestamp:1e3*lr(),xhr:i}),n.apply(i,s)):n.apply(i,s)}})}function ew(r,n=function(i){const s=ta[i];if(s)return s;let a=gt[i];if(Gc(a))return ta[i]=a.bind(gt);const c=gt.document;if(c&&typeof c.createElement=="function")try{const f=c.createElement("iframe");f.hidden=!0,c.head.appendChild(f);const m=f.contentWindow;m&&m[i]&&(a=m[i]),c.head.removeChild(f)}catch(f){K_&&ye.warn(`Could not create sandbox iframe for ${i} check, bailing to window.${i}: `,f)}return a&&(ta[i]=a.bind(gt))}("fetch")){let i=0,s=0;return B_(r,function(a){const c=a.body.length;i+=c,s++;const f={body:a.body,method:"POST",referrerPolicy:"origin",headers:r.headers,keepalive:i<=6e4&&s<15,...r.fetchOptions};if(!n)return Qh("fetch"),ua("No fetch implementation available");try{return n(r.url,f).then(m=>(i-=c,s--,{statusCode:m.status,headers:{"x-sentry-rate-limits":m.headers.get("X-Sentry-Rate-Limits"),"retry-after":m.headers.get("Retry-After")}}))}catch(m){return Qh("fetch"),i-=c,s--,ua(m)}})}function Oc(r,n,i,s){const a={filename:r,function:n==="<anonymous>"?Ar:n,in_app:!0};return i!==void 0&&(a.lineno=i),s!==void 0&&(a.colno=s),a}const tw=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,nw=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,rw=/\((\S*)(?::(\d+))(?::(\d+))\)/,iw=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ow=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,sw=function(...r){const n=r.sort((i,s)=>i[0]-s[0]).map(i=>i[1]);return(i,s=0,a=0)=>{const c=[],f=i.split(`
`);for(let m=s;m<f.length;m++){const h=f[m];if(h.length>1024)continue;const y=hh.test(h)?h.replace(hh,"$1"):h;if(!y.match(/\S*Error: /)){for(const w of n){const b=w(y);if(b){c.push(b);break}}if(c.length>=50+a)break}}return function(m){if(!m.length)return[];const h=Array.from(m);return/sentryWrapped/.test($s(h).function||"")&&h.pop(),h.reverse(),mh.test($s(h).function||"")&&(h.pop(),mh.test($s(h).function||"")&&h.pop()),h.slice(0,50).map(y=>({...y,filename:y.filename||$s(h).filename,function:y.function||Ar}))}(c.slice(a))}}([30,r=>{const n=tw.exec(r);if(n){const[,s,a,c]=n;return Oc(s,Ar,+a,+c)}const i=nw.exec(r);if(i){if(i[2]&&i[2].indexOf("eval")===0){const c=rw.exec(i[2]);c&&(i[2]=c[1],i[3]=c[2],i[4]=c[3])}const[s,a]=Gh(i[1]||Ar,i[2]);return Oc(a,s,i[3]?+i[3]:void 0,i[4]?+i[4]:void 0)}}],[50,r=>{const n=iw.exec(r);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){const a=ow.exec(n[3]);a&&(n[1]=n[1]||"eval",n[3]=a[1],n[4]=a[2],n[5]="")}let i=n[3],s=n[1]||Ar;return[s,i]=Gh(s,i),Oc(i,s,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}]),Gh=(r,n)=>{const i=r.indexOf("safari-extension")!==-1,s=r.indexOf("safari-web-extension")!==-1;return i||s?[r.indexOf("@")!==-1?r.split("@")[0]:Ar,i?`safari-extension:${n}`:`safari-web-extension:${n}`]:[r,n]},Kh=1024,aw=(r={})=>{const n={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...r};return{name:"Breadcrumbs",setup(i){var s;n.console&&function(a){const c="console";Nr(c,a),jr(c,f_)}(function(a){return function(c){if(Pt()!==a)return;const f={category:"console",data:{arguments:c.args,logger:"console"},level:__(c.level),message:ah(c.args," ")};if(c.level==="assert"){if(c.args[0]!==!1)return;f.message=`Assertion failed: ${ah(c.args.slice(1)," ")||"console.assert"}`,f.data.arguments=c.args.slice(1)}Tr(f,{input:c.args,level:c.level})}}(i)),n.dom&&(s=function(a,c){return function(f){if(Pt()!==a)return;let m,h,y=typeof c=="object"?c.serializeAttribute:void 0,w=typeof c=="object"&&typeof c.maxStringLength=="number"?c.maxStringLength:void 0;w&&w>Kh&&(Pu&&ye.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${w} was configured. Sentry will use 1024 instead.`),w=Kh),typeof y=="string"&&(y=[y]);try{const x=f.event,M=function(A){return!!A&&!!A.target}(x)?x.target:x;m=yv(M,{keyAttrs:y,maxStringLength:w}),h=function(A){if(!Su.HTMLElement)return null;let D=A;for(let z=0;z<5;z++){if(!D)return null;if(D instanceof HTMLElement){if(D.dataset.sentryComponent)return D.dataset.sentryComponent;if(D.dataset.sentryElement)return D.dataset.sentryElement}D=D.parentNode}return null}(M)}catch{m="<unknown>"}if(m.length===0)return;const b={category:`ui.${f.name}`,message:m};h&&(b.data={"ui.component_name":h}),Tr(b,{event:f.event,name:f.name,global:f.global})}}(i,n.dom),Nr("dom",s),jr("dom",Y_)),n.xhr&&function(a){Nr("xhr",a),jr("xhr",Z_)}(function(a){return function(c){if(Pt()!==a)return;const{startTimestamp:f,endTimestamp:m}=c,h=c.xhr[yo];if(!f||!m||!h)return;const{method:y,url:w,status_code:b,body:x}=h,M={method:y,url:w,status_code:b},A={xhr:c.xhr,input:x,startTimestamp:f,endTimestamp:m};Tr({category:"xhr",data:M,type:"http",level:uh(b)},A)}}(i)),n.fetch&&h_(function(a){return function(c){if(Pt()!==a)return;const{startTimestamp:f,endTimestamp:m}=c;if(m&&(!c.fetchData.url.match(/sentry_key/)||c.fetchData.method!=="POST"))if(c.error)Tr({category:"fetch",data:c.fetchData,level:"error",type:"http"},{data:c.error,input:c.args,startTimestamp:f,endTimestamp:m});else{const h=c.response,y={...c.fetchData,status_code:h&&h.status},w={input:c.args,response:h,startTimestamp:f,endTimestamp:m};Tr({category:"fetch",data:y,type:"http",level:uh(y.status_code)},w)}}}(i)),n.history&&function(a){const c="history";Nr(c,a),jr(c,X_)}(function(a){return function(c){if(Pt()!==a)return;let f=c.from,m=c.to;const h=Ec(ut.location.href);let y=f?Ec(f):void 0;const w=Ec(m);y&&y.path||(y=h),h.protocol===w.protocol&&h.host===w.host&&(m=w.relative),h.protocol===y.protocol&&h.host===y.host&&(f=y.relative),Tr({category:"navigation",data:{from:f,to:m}})}}(i)),n.sentry&&i.on("beforeSendEvent",function(a){return function(c){Pt()===a&&Tr({category:"sentry."+(c.type==="transaction"?"transaction":"event"),event_id:c.event_id,level:c.level,message:rr(c)},{event:c})}}(i))}}},lw=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],cw=(r={})=>{const n={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...r};return{name:"BrowserApiErrors",setupOnce(){n.setTimeout&&It(ut,"setTimeout",Yh),n.setInterval&&It(ut,"setInterval",Yh),n.requestAnimationFrame&&It(ut,"requestAnimationFrame",uw),n.XMLHttpRequest&&"XMLHttpRequest"in ut&&It(XMLHttpRequest.prototype,"send",dw);const i=n.eventTarget;i&&(Array.isArray(i)?i:lw).forEach(fw)}}};function Yh(r){return function(...n){const i=n[0];return n[0]=bi(i,{mechanism:{data:{function:cr(r)},handled:!1,type:"instrument"}}),r.apply(this,n)}}function uw(r){return function(n){return r.apply(this,[bi(n,{mechanism:{data:{function:"requestAnimationFrame",handler:cr(r)},handled:!1,type:"instrument"}})])}}function dw(r){return function(...n){const i=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in i&&typeof i[s]=="function"&&It(i,s,function(a){const c={mechanism:{data:{function:s,handler:cr(a)},handled:!1,type:"instrument"}},f=bu(a);return f&&(c.mechanism.data.handler=cr(f)),bi(a,c)})}),r.apply(this,n)}}function fw(r){const n=ut,i=n[r]&&n[r].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(It(i,"addEventListener",function(s){return function(a,c,f){try{typeof c.handleEvent=="function"&&(c.handleEvent=bi(c.handleEvent,{mechanism:{data:{function:"handleEvent",handler:cr(c),target:r},handled:!1,type:"instrument"}}))}catch{}return s.apply(this,[a,bi(c,{mechanism:{data:{function:"addEventListener",handler:cr(c),target:r},handled:!1,type:"instrument"}}),f])}}),It(i,"removeEventListener",function(s){return function(a,c,f){const m=c;try{const h=m&&m.__sentry_wrapped__;h&&s.call(this,a,h,f)}catch{}return s.call(this,a,m,f)}}))}const pw=(r={})=>{const n={onerror:!0,onunhandledrejection:!0,...r};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(i){n.onerror&&(function(s){(function(a){const c="error";Nr(c,a),jr(c,m_)})(a=>{const{stackParser:c,attachStacktrace:f}=Zh();if(Pt()!==s||Jh())return;const{msg:m,url:h,line:y,column:w,error:b}=a,x=function(M,A,D,z){const U=M.exception=M.exception||{},$=U.values=U.values||[],V=$[0]=$[0]||{},P=V.stacktrace=V.stacktrace||{},N=P.frames=P.frames||[],B=isNaN(parseInt(z,10))?void 0:z,F=isNaN(parseInt(D,10))?void 0:D,q=An(A)&&A.length>0?A:function(){try{return Su.document.location.href}catch{return""}}();return N.length===0&&N.push({colno:B,filename:q,function:Ar,in_app:!0,lineno:F}),M}(iu(c,b||m,void 0,f,!1),h,y,w);x.level="error",Ah(x,{originalException:b,mechanism:{handled:!1,type:"onerror"}})})}(i),Xh("onerror")),n.onunhandledrejection&&(function(s){(function(a){const c="unhandledrejection";Nr(c,a),jr(c,v_)})(a=>{const{stackParser:c,attachStacktrace:f}=Zh();if(Pt()!==s||Jh())return;const m=function(y){if(Jc(y))return y;try{if("reason"in y)return y.reason;if("detail"in y&&"reason"in y.detail)return y.detail.reason}catch{}return y}(a),h=Jc(m)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(m)}`}]}}:iu(c,m,void 0,f,!0);h.level="error",Ah(h,{originalException:m,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(i),Xh("onunhandledrejection"))}}};function Xh(r){Pu&&ye.log(`Global Handler attached: ${r}`)}function Zh(){const r=Pt();return r&&r.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const hw=()=>({name:"HttpContext",preprocessEvent(r){if(!ut.navigator&&!ut.location&&!ut.document)return;const n=r.request&&r.request.url||ut.location&&ut.location.href,{referrer:i}=ut.document||{},{userAgent:s}=ut.navigator||{},a={...r.request&&r.request.headers,...i&&{Referer:i},...s&&{"User-Agent":s}},c={...r.request,...n&&{url:n},headers:a};r.request=c}}),mw=(r={})=>{const n=r.limit||5,i=r.key||"cause";return{name:"LinkedErrors",preprocessEvent(s,a,c){const f=c.getOptions();l_(Ou,f.stackParser,f.maxValueLength,i,n,s,a)}}};var em="new",tm="loading",nm="loaded",su="joining-meeting",Lr="joined-meeting",Mr="left-meeting",tr="error",xc="unknown",vw="full",gw="base",rm="no-room",yw="end-of-life",_w="connection-error",ww="iframe-ready-for-launch-config",Sw="iframe-launch-config",kw="theme-updated",bw="loading",Cw="load-attempt-failed",im="loaded",Ew="started-camera",Tw="camera-error",Mw="joining-meeting",Pw="joined-meeting",Ow="left-meeting",xw="participant-joined",Lw="participant-updated",Aw="participant-left",Nw="participant-counts-updated",jw="access-state-updated",Dw="meeting-session-summary-updated",Iw="meeting-session-state-updated",Rw="waiting-participant-added",Fw="waiting-participant-updated",Bw="waiting-participant-removed",Uw="track-started",$w="track-stopped",zw="transcription-started",Vw="transcription-stopped",Ww="transcription-error",om="recording-started",sm="recording-stopped",Jw="recording-stats",Hw="recording-error",qw="recording-upload-completed",Qw="recording-data",Gw="app-message",Kw="transcription-message",Yw="remote-media-player-started",Xw="remote-media-player-updated",Zw="remote-media-player-stopped",eS="local-screen-share-started",tS="local-screen-share-stopped",nS="local-screen-share-canceled",rS="active-speaker-change",iS="active-speaker-mode-change",oS="network-quality-change",sS="network-connection",aS="cpu-load-change",lS="face-counts-updated",qs="fullscreen",Qs="exited-fullscreen",cS="live-streaming-started",uS="live-streaming-updated",dS="live-streaming-stopped",fS="live-streaming-error",pS="lang-updated",hS="receive-settings-updated",mS="input-settings-updated",am="nonfatal-error",lm="error",Lc=4096,cm=102400,Ac="iframe-call-message",um="local-screen-start",dm="daily-method-update-live-streaming-endpoints",Gs="transmit-log",_o="daily-custom-track",na={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},Pv={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},au={PLAY:"play",PAUSE:"pause"},Nc=["jpg","png","jpeg"],vS="add-endpoints",gS="remove-endpoints",fm="sip-call-transfer";function qt(){return!Oe()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Oe(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function Ov(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function yS(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(r,n){if(!r||!n)return!0;switch(r){case"Chrome":return n.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(n.major===13&&n.minor===0&&n.point===0);case"Firefox":return n.major>=67}return!0}(Ur(),Eo())||Oe())}function pm(){if(Oe()||!document)return!1;var r=document.createElement("iframe");return!!r.requestFullscreen||!!r.webkitRequestFullscreen}var _S=function(){try{var r=document.createElement("canvas"),n=r.getContext("webgl2")!=null;return r.remove(),n}catch{return!1}}();function xv(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!Oe()&&!!_S&&(r?function(){return mm()?!1:["Chrome","Firefox"].includes(Ur())}():function(){if(mm())return!1;var n=Ur();if(n==="Safari"){var i=Au();if(i.major<15||i.major===15&&i.minor<4)return!1}return n==="Chrome"?Lu().major>=77:n==="Firefox"?Nu().major>=97:["Chrome","Firefox","Safari"].includes(n)}())}function Lv(){if(Oe()||Av()||typeof AudioWorkletNode>"u")return!1;switch(Ur()){case"Chrome":case"Firefox":return!0;case"Safari":return Eo().major>=17&&Eo().minor>=4}return!1}function hm(){return Ov()&&!function(){var r,n=Ur();if(!qt())return!0;switch(n){case"Chrome":return(r=Lu()).major&&r.major>0&&r.major<75;case"Firefox":return(r=Nu()).major<91;case"Safari":return(r=Au()).major<13||r.major===13&&r.minor<1;default:return!0}}()}function Av(){return qt().match(/Linux; Android/)}function mm(){var r,n,i=qt(),s=i.match(/Mac/)&&(!Oe()&&typeof window<"u"&&(r=window)!==null&&r!==void 0&&(n=r.navigator)!==null&&n!==void 0&&n.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(i.match(/Mobi/)||i.match(/Android/)||s)||!!qt().match(/DailyAnd\//)||void 0}function Ur(){if(typeof window<"u"){var r=qt();return Nv()?"Safari":r.indexOf("Edge")>-1?"Edge":r.match(/Chrome\//)?"Chrome":r.indexOf("Safari")>-1||jv()?"Safari":r.indexOf("Firefox")>-1?"Firefox":r.indexOf("MSIE")>-1||r.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Eo(){switch(Ur()){case"Chrome":return Lu();case"Safari":return Au();case"Firefox":return Nu();case"Edge":return function(){var r=0,n=0;if(typeof window<"u"){var i=qt().match(/Edge\/(\d+).(\d+)/);if(i)try{r=parseInt(i[1]),n=parseInt(i[2])}catch{}}return{major:r,minor:n}}()}}function Lu(){var r=0,n=0,i=0,s=0,a=!1;if(typeof window<"u"){var c=qt(),f=c.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(f)try{r=parseInt(f[1]),n=parseInt(f[2]),i=parseInt(f[3]),s=parseInt(f[4]),a=c.indexOf("OPR/")>-1}catch{}}return{major:r,minor:n,build:i,patch:s,opera:a}}function Nv(){return!!qt().match(/iPad|iPhone|iPod/i)&&Ov()}function jv(){return qt().indexOf("AppleWebKit/605.1.15")>-1}function Au(){var r=0,n=0,i=0;if(typeof window<"u"){var s=qt().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(s)try{r=parseInt(s[1]),n=parseInt(s[2]),i=parseInt(s[4])}catch{}else(Nv()||jv())&&(r=14,n=0,i=3)}return{major:r,minor:n,point:i}}function Nu(){var r=0,n=0;if(typeof window<"u"){var i=qt().match(/Firefox\/(\d+).(\d+)/);if(i)try{r=parseInt(i[1]),n=parseInt(i[2])}catch{}}return{major:r,minor:n}}var Dv=function(){function r(){cn(this,r)}return un(r,[{key:"addListenerForMessagesFromCallMachine",value:function(n,i,s){mo()}},{key:"addListenerForMessagesFromDailyJs",value:function(n,i,s){mo()}},{key:"sendMessageToCallMachine",value:function(n,i,s,a){mo()}},{key:"sendMessageToDailyJs",value:function(n,i){mo()}},{key:"removeListener",value:function(n){mo()}}]),r}();function vm(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),i.push.apply(i,s)}return i}function jc(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?vm(Object(i),!0).forEach(function(s){xn(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):vm(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}function wS(r){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,s=ln(r);if(n){var a=ln(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return ga(this,i)}}var SS=function(){va(n,Dv);var r=wS(n);function n(){var i;return cn(this,n),(i=r.call(this))._wrappedListeners={},i._messageCallbacks={},i}return un(n,[{key:"addListenerForMessagesFromCallMachine",value:function(i,s,a){var c=this,f=function(m){if(m.data&&m.data.what==="iframe-call-message"&&(!m.data.callClientId||m.data.callClientId===s)&&(!m.data.from||m.data.from!=="module")){var h=jc({},m.data);if(delete h.from,h.callbackStamp&&c._messageCallbacks[h.callbackStamp]){var y=h.callbackStamp;c._messageCallbacks[y].call(a,h),delete c._messageCallbacks[y]}delete h.what,delete h.callbackStamp,i.call(a,h)}};this._wrappedListeners[i]=f,window.addEventListener("message",f)}},{key:"addListenerForMessagesFromDailyJs",value:function(i,s,a){var c=function(f){var m;if(!(!f.data||f.data.what!==Ac||!f.data.action||f.data.from&&f.data.from!=="module"||f.data.callClientId&&s&&f.data.callClientId!==s||f!=null&&(m=f.data)!==null&&m!==void 0&&m.callFrameId)){var h=f.data;i.call(a,h)}};this._wrappedListeners[i]=c,window.addEventListener("message",c)}},{key:"sendMessageToCallMachine",value:function(i,s,a,c){if(!a)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var f=jc({},i);if(f.what=Ac,f.from="module",f.callClientId=a,s){var m=ya();this._messageCallbacks[m]=s,f.callbackStamp=m}var h=c?c.contentWindow:window,y=this._callMachineTargetOrigin(c);y&&h.postMessage(f,y)}},{key:"sendMessageToDailyJs",value:function(i,s){i.what=Ac,i.callClientId=s,i.from="embedded",window.postMessage(i,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(i){var s=this._wrappedListeners[i];s&&(window.removeEventListener("message",s),delete this._wrappedListeners[i])}},{key:"forwardPackagedMessageToCallMachine",value:function(i,s,a){var c=jc({},i);c.callClientId=a;var f=s?s.contentWindow:window,m=this._callMachineTargetOrigin(s);m&&f.postMessage(c,m)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(i,s){var a=function(c){if(c.data&&c.data.what==="iframe-call-message"&&(!c.data.callClientId||c.data.callClientId===s)&&(!c.data.from||c.data.from!=="module")){var f=c.data;i(f)}};return this._wrappedListeners[i]=a,window.addEventListener("message",a),i}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(i){var s=this._wrappedListeners[i];s&&(window.removeEventListener("message",s),delete this._wrappedListeners[i])}},{key:"_callMachineTargetOrigin",value:function(i){return i?i.src?new URL(i.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}]),n}();function gm(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),i.push.apply(i,s)}return i}function kS(r){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,s=ln(r);if(n){var a=ln(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return ga(this,i)}}var bS=function(){va(n,Dv);var r=kS(n);function n(){var i;return cn(this,n),i=r.call(this),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new Ln.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new Ln.EventEmitter,i._wrappedListeners={},i._messageCallbacks={},i}return un(n,[{key:"addListenerForMessagesFromCallMachine",value:function(i,s,a){this._addListener(i,global.callMachineToDailyJsEmitter,s,a,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(i,s,a){this._addListener(i,global.dailyJsToCallMachineEmitter,s,a,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(i,s,a){this._sendMessage(i,global.dailyJsToCallMachineEmitter,a,s,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(i,s){this._sendMessage(i,global.callMachineToDailyJsEmitter,s,null,"sending message to daily-js")}},{key:"removeListener",value:function(i){var s=this._wrappedListeners[i];s&&(global.callMachineToDailyJsEmitter.removeListener("message",s),global.dailyJsToCallMachineEmitter.removeListener("message",s),delete this._wrappedListeners[i])}},{key:"_addListener",value:function(i,s,a,c,f){var m=this,h=function(y){if(y.callClientId===a){if(y.callbackStamp&&m._messageCallbacks[y.callbackStamp]){var w=y.callbackStamp;m._messageCallbacks[w].call(c,y),delete m._messageCallbacks[w]}i.call(c,y)}};this._wrappedListeners[i]=h,s.addListener("message",h)}},{key:"_sendMessage",value:function(i,s,a,c,f){var m=function(y){for(var w=1;w<arguments.length;w++){var b=arguments[w]!=null?arguments[w]:{};w%2?gm(Object(b),!0).forEach(function(x){xn(y,x,b[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):gm(Object(b)).forEach(function(x){Object.defineProperty(y,x,Object.getOwnPropertyDescriptor(b,x))})}return y}({},i);if(m.callClientId=a,c){var h=ya();this._messageCallbacks[h]=c,m.callbackStamp=h}s.emit("message",m)}}]),n}(),lu="replace",cu="shallow-merge",ym=[lu,cu],CS=function(){function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.data,s=n.mergeStrategy,a=s===void 0?lu:s;cn(this,r),r._validateMergeStrategy(a),r._validateData(i,a),this.mergeStrategy=a,this.data=i}return un(r,[{key:"isNoOp",value:function(){return r.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(n,i){return Object.keys(n).length===0&&i===cu}},{key:"_validateMergeStrategy",value:function(n){if(!ym.includes(n))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(ym,"]"))}},{key:"_validateData",value:function(n,i){if(!function(m){if(m==null||Ne(m)!=="object")return!1;var h=Object.getPrototypeOf(m);return h==null||h===Object.prototype}(n))throw Error("Meeting session data must be a plain (map-like) object");var s;try{if(s=JSON.stringify(n),i===lu){var a=JSON.parse(s);Mt(a,n)||console.warn("The meeting session data provided will be modified when serialized.",a,n)}else if(i===cu){for(var c in n)if(Object.hasOwnProperty.call(n,c)&&n[c]!==void 0){var f=JSON.parse(JSON.stringify(n[c]));Mt(n[c],f)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",f,n[c])}}}catch(m){throw Error("Meeting session data must be serializable to JSON: ".concat(m))}if(s.length>cm)throw Error("Meeting session data is too large (".concat(s.length," characters). Maximum size suppported is ").concat(cm,"."))}}]),r}();function uu(r,n,i){return uu=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct.bind():function(s,a,c){var f=[null];f.push.apply(f,a);var m=new(Function.bind.apply(s,f));return c&&ko(m,c.prototype),m},uu.apply(null,arguments)}function du(r){var n=typeof Map=="function"?new Map:void 0;return du=function(i){if(i===null||(s=i,Function.toString.call(s).indexOf("[native code]")===-1))return i;var s;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(i))return n.get(i);n.set(i,a)}function a(){return uu(i,arguments,ln(this).constructor)}return a.prototype=Object.create(i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),ko(a,i)},du(r)}function ES(r){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,s=ln(r);if(n){var a=ln(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return ga(this,i)}}function _m(r){var n,i=(n=window._daily)===null||n===void 0?void 0:n.pendings;if(i){var s=i.indexOf(r);s!==-1&&i.splice(s,1)}}var TS=function(){function r(n){cn(this,r),this._currentLoad=null,this._callClientId=n}return un(r,[{key:"load",value:function(){var n,i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0,c=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void a(!0);n=this._callClientId,window._daily.pendings.push(n),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new MS(s,function(){a(!1)},function(f,m){m||_m(i._callClientId),c(f,m)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),_m(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}]),r}(),MS=function(){function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;cn(this,r),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=n,this._successCallback=i,this._failureCallback=s}return un(r,[{key:"start",value:function(){var n=this;this._currentAttempt||(this._currentAttempt=new wm(this._dailyConfig,this._successCallback,function i(s){n._currentAttempt.cancelled||(n._attemptsRemaining--,n._failureCallback(s,n._attemptsRemaining>0),n._attemptsRemaining<=0||setTimeout(function(){n._currentAttempt.cancelled||(n._currentAttempt=new wm(n._dailyConfig,n._successCallback,i),n._currentAttempt.start())},3e3))}),this._currentAttempt.start())}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}]),r}(),Dc=function(){va(n,du(Error));var r=ES(n);function n(){return cn(this,n),r.apply(this,arguments)}return un(n)}(),fa=2e4,wm=function(){function r(i,s,a){cn(this,r),this._loadAttemptImpl=Oe()||!i.avoidEval?new PS(i,s,a):new OS(i,s,a)}var n;return un(r,[{key:"start",value:(n=me(function*(){return this._loadAttemptImpl.start()}),function(){return n.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]),r}(),PS=function(){function r(c,f,m){cn(this,r),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=c,this._successCallback=f,this._failureCallback=m}var n,i,s,a;return un(r,[{key:"start",value:(a=me(function*(){var c=oa(this._dailyConfig);!(yield this._tryLoadFromIOSCache(c))&&this._loadFromNetwork(c)}),function(){return a.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(s=me(function*(c){if(!this._iosCache)return!1;try{var f=yield this._iosCache.get(c);return!!this.cancelled||!!f&&(f.code?(Function('"use strict";'+f.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=f.refetchHeaders,!1))}catch{return!1}}),function(c){return s.apply(this,arguments)})},{key:"_loadFromNetwork",value:(i=me(function*(c){var f=this;this._networkTimeout=setTimeout(function(){f._networkTimedOut=!0,f._failureCallback({msg:"Timed out (>".concat(fa," ms) when loading call object bundle ").concat(c),type:"timeout"})},fa);try{var m=this._refetchHeaders?{headers:this._refetchHeaders}:{},h=yield fetch(c,m);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Dc;var y=yield this._getBundleCodeFromResponse(c,h);if(this.cancelled)throw new Dc;Function('"use strict";'+y)(),this._iosCache&&this._iosCache.set(c,y,h.headers),this.succeeded=!0,this._successCallback()}catch(w){if(clearTimeout(this._networkTimeout),w instanceof Dc||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(c,": ").concat(w),type:w.message})}}),function(c){return i.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(n=me(function*(c,f){if(f.ok)return yield f.text();if(this._iosCache&&f.status===304)return(yield this._iosCache.renew(c,f.headers)).code;throw new Error("Received ".concat(f.status," response"))}),function(c,f){return n.apply(this,arguments)})}]),r}(),OS=function(){function r(n,i,s){cn(this,r),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=n,this._successCallback=i,this._failureCallback=s,this._attemptId=ya(),this._networkTimeout=null,this._scriptElement=null}return un(r,[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var n=oa(this._dailyConfig);(typeof document>"u"?"undefined":Ne(document))==="object"?this._startLoading(n):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(n){var i=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){i._stopLoading(),i._failureCallback({msg:"Timed out (>".concat(fa," ms) when loading call object bundle ").concat(n),type:"timeout"})},fa);var s=document.getElementsByTagName("head")[0],a=document.createElement("script");this._scriptElement=a,a.onload=function(){i._stopLoading(),i.succeeded=!0,i._successCallback()},a.onerror=function(c){i._stopLoading(),i._failureCallback({msg:"Failed to load call object bundle ".concat(c.target.src),type:c.message})},a.src=n,s.appendChild(a)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}]),r}(),Ks=function(r,n,i){return LS(r.local,n,i)===!0},xS=function(r,n,i){return r.local.streams&&r.local.streams[n]&&r.local.streams[n].stream&&r.local.streams[n].stream["get".concat(i==="video"?"Video":"Audio","Tracks")]()[0]},gi=function(r,n,i,s){var a=AS(r,n,i,s);return a&&a.pendingTrack},LS=function(r,n,i){if(!r)return!1;var s=function(c){switch(c){case"avatar":return!0;case"staged":return c;default:return!!c}},a=r.public.subscribedTracks;return a&&a[n]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(i)===-1&&a[n].custom?[!0,"staged"].includes(a[n].custom)?s(a[n].custom):s(a[n].custom[i]):s(a[n][i]):!a||s(a.ALL)},AS=function(r,n,i,s){var a=Object.values(r.streams||{}).filter(function(c){return c.participantId===n&&c.type===i&&c.pendingTrack&&c.pendingTrack.kind===s}).sort(function(c,f){return new Date(f.starttime)-new Date(c.starttime)});return a&&a[0]},NS=function(r,n){var i=r.local.public.customTracks;if(i&&i[n])return i[n].track};function Sm(r,n){for(var i=n.getState(),s=0,a=["cam","screen"];s<a.length;s++)for(var c=a[s],f=0,m=["video","audio"];f<m.length;f++){var h=m[f],y=c==="cam"?h:"screen".concat(h.charAt(0).toUpperCase()+h.slice(1)),w=r.tracks[y];if(w){var b=r.local?xS(i,c,h):gi(i,r.session_id,c,h);w.state==="playable"&&(w.track=b),w.persistentTrack=b}}}function km(r,n){try{var i=n.getState();for(var s in r.tracks)if(!jS(s)){var a=r.tracks[s].kind;if(a){var c=r.tracks[s];if(c){var f=r.local?NS(i,s):gi(i,r.session_id,s,a);c.state==="playable"&&(r.tracks[s].track=f),c.persistentTrack=f}}else console.error("unknown type for custom track")}}catch(m){console.error(m)}}function jS(r){return["video","audio","screenVideo","screenAudio"].includes(r)}function bm(r,n,i){var s=i.getState();if(r.local){if(r.audio)try{r.audioTrack=s.local.streams.cam.stream.getAudioTracks()[0],r.audioTrack||(r.audio=!1)}catch{}if(r.video)try{r.videoTrack=s.local.streams.cam.stream.getVideoTracks()[0],r.videoTrack||(r.video=!1)}catch{}if(r.screen)try{r.screenVideoTrack=s.local.streams.screen.stream.getVideoTracks()[0],r.screenAudioTrack=s.local.streams.screen.stream.getAudioTracks()[0],r.screenVideoTrack||r.screenAudioTrack||(r.screen=!1)}catch{}}else{var a=!0;try{var c=s.participants[r.session_id];c&&c.public&&c.public.rtcType&&c.public.rtcType.impl==="peer-to-peer"&&c.private&&!["connected","completed"].includes(c.private.peeringState)&&(a=!1)}catch(w){console.error(w)}if(!a)return r.audio=!1,r.audioTrack=!1,r.video=!1,r.videoTrack=!1,r.screen=!1,void(r.screenTrack=!1);try{if(s.streams,r.audio&&Ks(s,r.session_id,"cam-audio")){var f=gi(s,r.session_id,"cam","audio");f&&(n&&n.audioTrack&&n.audioTrack.id===f.id?r.audioTrack=f:f.muted||(r.audioTrack=f)),r.audioTrack||(r.audio=!1)}if(r.video&&Ks(s,r.session_id,"cam-video")){var m=gi(s,r.session_id,"cam","video");m&&(n&&n.videoTrack&&n.videoTrack.id===m.id?r.videoTrack=m:m.muted||(r.videoTrack=m)),r.videoTrack||(r.video=!1)}if(r.screen&&Ks(s,r.session_id,"screen-audio")){var h=gi(s,r.session_id,"screen","audio");h&&(n&&n.screenAudioTrack&&n.screenAudioTrack.id===h.id?r.screenAudioTrack=h:h.muted||(r.screenAudioTrack=h))}if(r.screen&&Ks(s,r.session_id,"screen-video")){var y=gi(s,r.session_id,"screen","video");y&&(n&&n.screenVideoTrack&&n.screenVideoTrack.id===y.id?r.screenVideoTrack=y:y.muted||(r.screenVideoTrack=y))}r.screenVideoTrack||r.screenAudioTrack||(r.screen=!1)}catch(w){console.error("unexpected error matching up tracks",w)}}}function DS(r,n){var i=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(h,y){if(h){if(typeof h=="string")return Cm(h,y);var w=Object.prototype.toString.call(h).slice(8,-1);if(w==="Object"&&h.constructor&&(w=h.constructor.name),w==="Map"||w==="Set")return Array.from(h);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return Cm(h,y)}}(r))||n){i&&(r=i);var s=0,a=function(){};return{s:a,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(h){throw h},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,m=!1;return{s:function(){i=i.call(r)},n:function(){var h=i.next();return f=h.done,h},e:function(h){m=!0,c=h},f:function(){try{f||i.return==null||i.return()}finally{if(m)throw c}}}}function Cm(r,n){(n==null||n>r.length)&&(n=r.length);for(var i=0,s=new Array(n);i<n;i++)s[i]=r[i];return s}var gn=new Map,wi=null;function IS(r,n){var i=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(h,y){if(h){if(typeof h=="string")return Em(h,y);var w=Object.prototype.toString.call(h).slice(8,-1);if(w==="Object"&&h.constructor&&(w=h.constructor.name),w==="Map"||w==="Set")return Array.from(h);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return Em(h,y)}}(r))||n){i&&(r=i);var s=0,a=function(){};return{s:a,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(h){throw h},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,m=!1;return{s:function(){i=i.call(r)},n:function(){var h=i.next();return f=h.done,h},e:function(h){m=!0,c=h},f:function(){try{f||i.return==null||i.return()}finally{if(m)throw c}}}}function Em(r,n){(n==null||n>r.length)&&(n=r.length);for(var i=0,s=new Array(n);i<n;i++)s[i]=r[i];return s}var yn=new Map,So=null;function RS(r){Iv()?function(n){gn.has(n)||(gn.set(n,{}),navigator.mediaDevices.enumerateDevices().then(function(i){gn.has(n)&&(gn.get(n).lastDevicesString=JSON.stringify(i),wi||(wi=function(){var s=me(function*(){var a,c=yield navigator.mediaDevices.enumerateDevices(),f=DS(gn.keys());try{for(f.s();!(a=f.n()).done;){var m=a.value,h=JSON.stringify(c);h!==gn.get(m).lastDevicesString&&(gn.get(m).lastDevicesString=h,m(c))}}catch(y){f.e(y)}finally{f.f()}});return function(){return s.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",wi)))}).catch(function(){}))}(r):function(n){yn.has(n)||(yn.set(n,{}),navigator.mediaDevices.enumerateDevices().then(function(i){yn.has(n)&&(yn.get(n).lastDevicesString=JSON.stringify(i),So||(So=setInterval(me(function*(){var s,a=yield navigator.mediaDevices.enumerateDevices(),c=IS(yn.keys());try{for(c.s();!(s=c.n()).done;){var f=s.value,m=JSON.stringify(a);m!==yn.get(f).lastDevicesString&&(yn.get(f).lastDevicesString=m,f(a))}}catch(h){c.e(h)}finally{c.f()}}),3e3)))}))}(r)}function FS(r){Iv()?function(n){gn.has(n)&&(gn.delete(n),gn.size===0&&wi&&(navigator.mediaDevices.removeEventListener("devicechange",wi),wi=null))}(r):function(n){yn.has(n)&&(yn.delete(n),yn.size===0&&So&&(clearInterval(So),So=null))}(r)}function Iv(){return Oe()||navigator.mediaDevices.ondevicechange!==void 0}var BS=new Set;function US(r,n){return r&&r.readyState==="live"&&!function(i,s){return i.muted&&!BS.has(i.id)}(r)}var $S=["result"],zS=["preserveIframe"];function Tm(r,n){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);n&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),i.push.apply(i,s)}return i}function ve(r){for(var n=1;n<arguments.length;n++){var i=arguments[n]!=null?arguments[n]:{};n%2?Tm(Object(i),!0).forEach(function(s){xn(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Tm(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}function VS(r){var n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var i,s=ln(r);if(n){var a=ln(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return ga(this,i)}}function Mm(r,n){var i=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!i){if(Array.isArray(r)||(i=function(h,y){if(h){if(typeof h=="string")return Pm(h,y);var w=Object.prototype.toString.call(h).slice(8,-1);if(w==="Object"&&h.constructor&&(w=h.constructor.name),w==="Map"||w==="Set")return Array.from(h);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return Pm(h,y)}}(r))||n){i&&(r=i);var s=0,a=function(){};return{s:a,n:function(){return s>=r.length?{done:!0}:{done:!1,value:r[s++]}},e:function(h){throw h},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,m=!1;return{s:function(){i=i.call(r)},n:function(){var h=i.next();return f=h.done,h},e:function(h){m=!0,c=h},f:function(){try{f||i.return==null||i.return()}finally{if(m)throw c}}}}function Pm(r,n){(n==null||n>r.length)&&(n=r.length);for(var i=0,s=new Array(n);i<n;i++)s[i]=r[i];return s}var Pr={},Om="video",WS="voice",xm=Oe()?{data:{}}:{data:{},topology:"none"},Lm={present:0,hidden:0},Rv={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Ic=Object.keys(Rv),Am=["state","volume","simulcastEncodings"],Nm={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},pa={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},fu={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Or={customIntegrations:{validate:Jv,help:Vv()},customTrayButtons:{validate:Wv,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(pa))},url:{validate:function(r){return typeof r=="string"},help:"url should be a string"},baseUrl:{validate:function(r){return typeof r=="string"},help:"baseUrl should be a string"},token:{validate:function(r){return typeof r=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(r,n){try{return n.validateDailyConfig(r),!0}catch(i){console.error("Failed to validate dailyConfig",i)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(r){return Hv(r,Nm)},help:"reactNativeConfig should look like ".concat(JSON.stringify(Nm),", all fields optional")},lang:{validate:function(r){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(r)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(r){try{return Fv(r),!0}catch(n){return console.error(n),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(r,n){return r instanceof MediaStreamTrack&&(n._sharedTracks.videoDeviceId=r),n._preloadCache.videoDeviceId=r,!0}},audioSource:{validate:function(r,n){return r instanceof MediaStreamTrack&&(n._sharedTracks.audioDeviceId=r),n._preloadCache.audioDeviceId=r,!0}},subscribeToTracksAutomatically:{validate:function(r,n){return n._preloadCache.subscribeToTracksAutomatically=r,!0}},theme:{validate:function(r){var n=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],i=function(s){for(var a=0,c=Object.keys(s);a<c.length;a++){var f=c[a];if(!n.includes(f))return console.error('unsupported color "'.concat(f,'". Valid colors: ').concat(n.join(", "))),!1;if(!s[f].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(f,' theme color should be provided in valid hex color format. Received: "').concat(s[f],'"')),!1}return!0};return Ne(r)==="object"&&("light"in r&&"dark"in r||"colors"in r)?"light"in r&&"dark"in r?"colors"in r.light?"colors"in r.dark?i(r.light.colors)&&i(r.dark.colors):(console.error('Dark theme is missing "colors" property.',r),!1):(console.error('Light theme is missing "colors" property.',r),!1):i(r.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',r),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(r){if("grid"in r){var n=r.grid;if("maxTilesPerPage"in n){if(!Number.isInteger(n.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(n.maxTilesPerPage,".")),!1;if(n.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in n){if(!Number.isInteger(n.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(n.minTilesPerPage,".")),!1;if(n.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in n&&n.minTilesPerPage>n.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(r){return Bv(r,{allowAllParticipantsKey:!1})},help:zv({allowAllParticipantsKey:!1})},sendSettings:{validate:function(r,n){return!!function(i,s){try{return s.validateUpdateSendSettings(i),!0}catch(a){return console.error("Failed to validate send settings",a),!1}}(r,n)&&(n._preloadCache.sendSettings=r,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(r,n){var i;return!!Uv(r)&&(n._preloadCache.inputSettings||(n._preloadCache.inputSettings={}),$v(r,(i=n.properties)===null||i===void 0?void 0:i.dailyConfig),r.audio&&(n._preloadCache.inputSettings.audio=r.audio),r.video&&(n._preloadCache.inputSettings.video=r.video),!0)},help:pu()},layout:{validate:function(r){return r==="custom-v1"||r==="browser"||r==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Ys={styles:{validate:function(r){for(var n in r)if(n!=="cam"&&n!=="screen")return!1;if(r.cam){for(var i in r.cam)if(i!=="div"&&i!=="video")return!1}if(r.screen){for(var s in r.screen)if(s!=="div"&&s!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(r,n){if(n._preloadCache.subscribeToTracksAutomatically)return!1;var i=[!0,!1,"staged"];if(i.includes(r)||!Oe()&&r==="avatar")return!0;var s=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"];return function a(c){var f=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var m in c)if(m==="custom"){if(!i.includes(c[m])&&!a(c[m],!0))return!1}else{var h=!f&&!s.includes(m),y=!i.includes(c[m]);if(h||y)return!1}return!0}(r)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Oe()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(r){return r===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(r){for(var n=0,i=Object.entries(r);n<i.length;n++){var s=Ir(i[n],2),a=s[0],c=s[1];switch(a){case"hasPresence":if(typeof c!="boolean")return!1;break;case"canSend":if(c instanceof Set||c instanceof Array||Array.isArray(c)){var f,m=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],h=Mm(c);try{for(h.s();!(f=h.n()).done;){var y=f.value;if(!m.includes(y))return!1}}catch(A){h.e(A)}finally{h.f()}}else if(typeof c!="boolean")return!1;(c instanceof Array||Array.isArray(c))&&(r.canSend=new Set(c));break;case"canAdmin":if(c instanceof Set||c instanceof Array||Array.isArray(c)){var w,b=["participants","streaming","transcription"],x=Mm(c);try{for(x.s();!(w=x.n()).done;){var M=w.value;if(!b.includes(M))return!1}}catch(A){x.e(A)}finally{x.f()}}else if(typeof c!="boolean")return!1;(c instanceof Array||Array.isArray(c))&&(r.canAdmin=new Set(c));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var r=me(function*(n){return new Promise(function(i,s){var a=[];n.forEach(function(c){return Promise.resolve(c).then(function(f){i(f)}).catch(function(f){a.push(f),a.length===n.length&&s(a)})})})});return function(n){return r.apply(this,arguments)}}());var jm=function(){va(ue,Ln);var r,n,i,s,a,c,f,m,h,y,w,b,x,M,A,D,z,U,$,V,P,N,B,F,q,ee,Q,pe,_e,Pe,Ue,Ye,We,Ce,Z,ae,te,O,W=VS(ue);function ue(d){var v,g,C,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(cn(this,ue),xn(Pn(g=W.call(this)),"startListeningForDeviceChanges",function(){RS(g.handleDeviceChange)}),xn(Pn(g),"stopListeningForDeviceChanges",function(){FS(g.handleDeviceChange)}),xn(Pn(g),"handleDeviceChange",function(X){X=X.map(function(le){return JSON.parse(JSON.stringify(le))}),g.emitDailyJSEvent({action:"available-devices-updated",availableDevices:X})}),xn(Pn(g),"handleNativeAppStateChange",function(){var X=me(function*(le){if(le==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield g.destroy());var ke=le==="active";g.disableReactNativeAutoDeviceManagement("video")||(ke?g.camUnmutedBeforeLosingNativeActiveState&&g.setLocalVideo(!0):(g.camUnmutedBeforeLosingNativeActiveState=g.localVideo(),g.camUnmutedBeforeLosingNativeActiveState&&g.setLocalVideo(!1)))});return function(le){return X.apply(this,arguments)}}()),xn(Pn(g),"handleNativeAudioFocusChange",function(X){g.disableReactNativeAutoDeviceManagement("audio")||(g._hasNativeAudioFocus=X,g.toggleParticipantAudioBasedOnNativeAudioFocus(),g._hasNativeAudioFocus?g.micUnmutedBeforeLosingNativeAudioFocus&&g.setLocalAudio(!0):(g.micUnmutedBeforeLosingNativeAudioFocus=g.localAudio(),g.setLocalAudio(!1)))}),xn(Pn(g),"handleNativeSystemScreenCaptureStop",function(){g.stopScreenShare()}),g.strictMode=S.strictMode===void 0||S.strictMode,g.allowMultipleCallInstances=(v=S.allowMultipleCallInstances)!==null&&v!==void 0&&v,Object.keys(Pr).length&&(g._logDuplicateInstanceAttempt(),!g.allowMultipleCallInstances)){if(g.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),g.callClientId=ya(),C=Pn(g),Pr[C.callClientId]=C,window._daily.instances[g.callClientId]={},g._sharedTracks={},window._daily.instances[g.callClientId].tracks=g._sharedTracks,S.dailyJsVersion=ue.version(),g._iframe=d,g._callObjectMode=S.layout==="none"&&!g._iframe,g._preloadCache={subscribeToTracksAutomatically:!0,audioDeviceId:null,videoDeviceId:null,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},S.showLocalVideo!==void 0?g._callObjectMode?console.error("showLocalVideo is not available in call object mode"):g._showLocalVideo=!!S.showLocalVideo:g._showLocalVideo=!0,S.showParticipantsBar!==void 0?g._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):g._showParticipantsBar=!!S.showParticipantsBar:g._showParticipantsBar=!0,S.customIntegrations!==void 0?g._callObjectMode?console.error("customIntegrations is not available in call object mode"):g._customIntegrations=S.customIntegrations:g._customIntegrations={},S.customTrayButtons!==void 0?g._callObjectMode?console.error("customTrayButtons is not available in call object mode"):g._customTrayButtons=S.customTrayButtons:g._customTrayButtons={},S.activeSpeakerMode!==void 0?g._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):g._activeSpeakerMode=!!S.activeSpeakerMode:g._activeSpeakerMode=!1,S.receiveSettings?g._callObjectMode?g._receiveSettings=S.receiveSettings:console.error("receiveSettings is only available in call object mode"):g._receiveSettings={},g.validateProperties(S),g.properties=ve({},S),g._preloadCache.inputSettings||(g._preloadCache.inputSettings={}),S.inputSettings&&S.inputSettings.audio&&(g._preloadCache.inputSettings.audio=S.inputSettings.audio),S.inputSettings&&S.inputSettings.video&&(g._preloadCache.inputSettings.video=S.inputSettings.video),g._callObjectLoader=g._callObjectMode?new TS(g.callClientId):null,g._callState=em,g._isPreparingToJoin=!1,g._accessState={access:xc},g._meetingSessionSummary={},g._finalSummaryOfPrevSession={},g._meetingSessionState=Bc(xm,g._callObjectMode),g._nativeInCallAudioMode=Om,g._participants={},g._isScreenSharing=!1,g._participantCounts=Lm,g._rmpPlayerState={},g._waitingParticipants={},g._network={threshold:"good",quality:100},g._activeSpeaker={},g._localAudioLevel=0,g._isLocalAudioLevelObserverRunning=!1,g._remoteParticipantsAudioLevel={},g._isRemoteParticipantsAudioLevelObserverRunning=!1,g._maxAppMessageSize=Lc,g._messageChannel=Oe()?new bS:new SS,g._iframe&&(g._iframe.requestFullscreen?g._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===g._iframe?(g.emitDailyJSEvent({action:qs}),g.sendMessageToCallMachine({action:qs})):(g.emitDailyJSEvent({action:Qs}),g.sendMessageToCallMachine({action:Qs}))}):g._iframe.webkitRequestFullscreen&&g._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===g._iframe?(g.emitDailyJSEvent({action:qs}),g.sendMessageToCallMachine({action:qs})):(g.emitDailyJSEvent({action:Qs}),g.sendMessageToCallMachine({action:Qs}))})),Oe()){var R=g.nativeUtils();R.addAudioFocusChangeListener&&R.removeAudioFocusChangeListener&&R.addAppStateChangeListener&&R.removeAppStateChangeListener&&R.addSystemScreenCaptureStopListener&&R.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),g._hasNativeAudioFocus=!0,R.addAudioFocusChangeListener(g.handleNativeAudioFocusChange),R.addAppStateChangeListener(g.handleNativeAppStateChange),R.addSystemScreenCaptureStopListener(g.handleNativeSystemScreenCaptureStop)}return g._callObjectMode&&g.startListeningForDeviceChanges(),g._messageChannel.addListenerForMessagesFromCallMachine(g.handleMessageFromCallMachine,g.callClientId,Pn(g)),g}return un(ue,[{key:"destroy",value:(O=me(function*(){var d,v;try{yield this.leave()}catch{}var g=this._iframe;if(g){var C=g.parentElement;C&&C.removeChild(g)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),Oe()){var S=this.nativeUtils();S.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),S.removeAppStateChangeListener(this.handleNativeAppStateChange),S.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete Pr[this.callClientId],!((d=window)===null||d===void 0||(v=d._daily)===null||v===void 0)&&v.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return O.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(d){var v=d.bodyClass,g=d.cssFile,C=d.cssText;return be(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(g),bodyClass:v,cssText:C}),this}},{key:"iframe",value:function(){return be(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return rn(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return rn(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(d,v){for(var g in v){if(!Ys[g])throw new Error("unrecognized updateParticipant property ".concat(g));if(Ys[g].validate&&!Ys[g].validate(v[g],this,this._participants[d]))throw new Error(Ys[g].help)}}},{key:"updateParticipant",value:function(d,v){return this._participants.local&&this._participants.local.session_id===d&&(d="local"),d&&v&&(this.validateParticipantProperties(d,v),this.sendMessageToCallMachine({action:"update-participant",id:d,properties:v})),this}},{key:"updateParticipants",value:function(d){var v=this._participants.local&&this._participants.local.session_id;for(var g in d)g===v&&(g="local"),g&&d[g]&&this.validateParticipantProperties(g,d[g]);return this.sendMessageToCallMachine({action:"update-participants",participants:d}),this}},{key:"updateWaitingParticipant",value:(te=me(function*(){var d=this,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(rn(this._callObjectMode,"updateWaitingParticipant()"),De(this._callState,"updateWaitingParticipant()"),typeof v!="string"||Ne(g)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(C,S){d.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:v,updates:g},function(R){R.error&&S(R.error),R.id||S(new Error("unknown error in updateWaitingParticipant()")),C({id:R.id})})})}),function(){return te.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(ae=me(function*(){var d=this,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(rn(this._callObjectMode,"updateWaitingParticipants()"),De(this._callState,"updateWaitingParticipants()"),Ne(v)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(g,C){d.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:v},function(S){S.error&&C(S.error),S.ids||C(new Error("unknown error in updateWaitingParticipants()")),g({ids:S.ids})})})}),function(){return ae.apply(this,arguments)})},{key:"requestAccess",value:(Z=me(function*(){var d=this,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=v.access,C=g===void 0?{level:vw}:g,S=v.name,R=S===void 0?"":S;return rn(this._callObjectMode,"requestAccess()"),De(this._callState,"requestAccess()"),new Promise(function(X,le){d.sendMessageToCallMachine({action:"daily-method-request-access",access:C,name:R},function(ke){ke.error&&le(ke.error),ke.access||le(new Error("unknown error in requestAccess()")),X({access:ke.access,granted:ke.granted})})})}),function(){return Z.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in v&&(Oe()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),v={}):d&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),v={})),this.sendMessageToCallMachine({action:"local-audio",state:d,options:v}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(d){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:d}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(d){return this.sendMessageToCallMachine({action:"local-video",state:d}),this}},{key:"getReceiveSettings",value:(Ce=me(function*(d){var v=this,g=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,C=g!==void 0&&g;if(rn(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(Ne(d)){case"string":return new Promise(function(S){v.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:d,showInheritedValues:C},function(R){S(R.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(d){return Ce.apply(this,arguments)})},{key:"updateReceiveSettings",value:(We=me(function*(d){var v=this;if(rn(this._callObjectMode,"updateReceiveSettings()"),!Bv(d,{allowAllParticipantsKey:!0}))throw new Error(zv({allowAllParticipantsKey:!0}));return De(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(g){v.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:d},function(C){g({receiveSettings:C.receiveSettings})})})}),function(d){return We.apply(this,arguments)})},{key:"_prepInputSettingsToPresentToUser",value:function(d){var v,g,C,S,R,X,le,ke;if(d){var qe={},Re=((v=d.audio)===null||v===void 0||(g=v.processor)===null||g===void 0?void 0:g.type)==="none"&&((C=d.audio)===null||C===void 0||(S=C.processor)===null||S===void 0?void 0:S._isDefaultWhenNone);if(d.audio&&!Re){var Rt=ve({},d.audio.processor);delete Rt._isDefaultWhenNone,qe.audio=ve(ve({},d.audio),{},{processor:Rt})}var Qt=((R=d.video)===null||R===void 0||(X=R.processor)===null||X===void 0?void 0:X.type)==="none"&&((le=d.video)===null||le===void 0||(ke=le.processor)===null||ke===void 0?void 0:ke._isDefaultWhenNone);if(d.video&&!Qt){var xt=ve({},d.video.processor);delete xt._isDefaultWhenNone,qe.video=ve(ve({},d.video),{},{processor:xt})}return qe}}},{key:"getInputSettings",value:function(){var d=this;return be(),new Promise(function(v){v(d._getInputSettings())})}},{key:"_getInputSettings",value:function(){var d,v,g,C,S,R,X,le,ke={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(d=((g=this._inputSettings)===null||g===void 0?void 0:g.video)||ke,v=((C=this._inputSettings)===null||C===void 0?void 0:C.audio)||ke):(d=((S=this._preloadCache)===null||S===void 0||(R=S.inputSettings)===null||R===void 0?void 0:R.video)||ke,v=((X=this._preloadCache)===null||X===void 0||(le=X.inputSettings)===null||le===void 0?void 0:le.audio)||ke);var qe={audio:v,video:d};return this._prepInputSettingsToPresentToUser(qe)}},{key:"updateInputSettings",value:(Ye=me(function*(d){var v=this;return be(),Uv(d)?(d&&(this._preloadCache.inputSettings||(this._preloadCache.inputSettings={}),$v(d,this.properties.dailyConfig),d.audio&&(this._preloadCache.inputSettings.audio=d.audio),d.video&&(this._preloadCache.inputSettings.video=d.video)),d.video||d.audio?this._callObjectMode&&!this._callMachineInitialized?this._getInputSettings():new Promise(function(g,C){v.sendMessageToCallMachine({action:"update-input-settings",inputSettings:d},function(S){S.error?C(S.error):g({inputSettings:v._prepInputSettingsToPresentToUser(S.inputSettings)})})}):this._getInputSettings()):(console.error(pu()),Promise.reject(pu()))}),function(d){return Ye.apply(this,arguments)})},{key:"setBandwidth",value:function(d){var v=d.kbs,g=d.trackConstraints;if(be(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:v,trackConstraints:g}),this}},{key:"getDailyLang",value:function(){var d=this;if(be(),this._callMachineInitialized)return new Promise(function(v){d.sendMessageToCallMachine({action:"get-daily-lang"},function(g){delete g.action,delete g.callbackStamp,v(g)})})}},{key:"setDailyLang",value:function(d){return be(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:d}),this}},{key:"setProxyUrl",value:function(d){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:d}),this}},{key:"setIceConfig",value:function(d){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:d}),this}},{key:"meetingSessionSummary",value:function(){return[Mr,tr].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(Ue=me(function*(){var d=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),De(this._callState,"getMeetingSession()"),new Promise(function(v){d.sendMessageToCallMachine({action:"get-meeting-session"},function(g){delete g.action,delete g.callbackStamp,v(g)})})}),function(){return Ue.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return De(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";rn(this._callObjectMode,"setMeetingSessionData()"),De(this._callState,"setMeetingSessionData");try{(function(g,C){new CS({data:g,mergeStrategy:C})})(d,v)}catch(g){throw console.error(g),g}try{this.sendMessageToCallMachine({action:"set-session-data",data:d,mergeStrategy:v})}catch(g){throw new Error("Error setting meeting session data: ".concat(g))}}},{key:"setUserName",value:function(d,v){var g=this;return this.properties.userName=d,new Promise(function(C){g.sendMessageToCallMachine({action:"set-user-name",name:d??"",thisMeetingOnly:Oe()||!!v&&!!v.thisMeetingOnly},function(S){delete S.action,delete S.callbackStamp,C(S)})})}},{key:"setUserData",value:(Pe=me(function*(d){var v=this;try{Fv(d)}catch(g){throw console.error(g),g}if(this.properties.userData=d,this._callMachineInitialized)return new Promise(function(g){try{v.sendMessageToCallMachine({action:"set-user-data",userData:d},function(C){delete C.action,delete C.callbackStamp,g(C)})}catch(C){throw new Error("Error setting user data: ".concat(C))}})}),function(d){return Pe.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(d){if(d&&(d<100||typeof d!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(d){var v=this;if(typeof AudioWorkletNode>"u"&&!Oe())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(d),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(g,C){v.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:d},function(S){v._isLocalAudioLevelObserverRunning=!S.error,S.error?C({error:S.error}):g()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:d}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(d){var v=this;if(this.validateAudioLevelInterval(d),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(g,C){v.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:d},function(S){v._isRemoteParticipantsAudioLevelObserverRunning=!S.error,S.error?C({error:S.error}):g()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:d}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(_e=me(function*(){var d=this,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(rn(this._callObjectMode,"startCamera()"),Rc(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(v)}catch(g){return Promise.reject(g)}else{if(this._didPreAuth){if(v.url&&v.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(v.token&&v.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(v),this.properties=ve(ve({},this.properties),v)}return new Promise(function(g){d.sendMessageToCallMachine({action:"start-camera",properties:mi(d.properties,d.callClientId),preloadCache:mi(d._preloadCache,d.callClientId)},function(C){delete C.action,delete C.callbackStamp,g(C)})})}),function(){return _e.apply(this,arguments)})},{key:"validateCustomTrack",value:function(d,v,g){if(g&&g.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(v&&v!=="music"&&v!=="speech"&&!(v instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(g&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(g))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(d instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var d=this,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName};return be(),De(this._callState,"startCustomTrack()"),this.validateCustomTrack(v.track,v.mode,v.trackName),new Promise(function(g,C){d._sharedTracks.customTrack=v.track,v.track=_o,d.sendMessageToCallMachine({action:"start-custom-track",properties:v},function(S){S.error?C({error:S.error}):g(S.mediaTag)})})}},{key:"stopCustomTrack",value:function(d){var v=this;return be(),De(this._callState,"stopCustomTrack()"),new Promise(function(g){v.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:d},function(C){g(C.mediaTag)})})}},{key:"setCamera",value:function(d){var v=this;return go(),Xs(this._callMachineInitialized,"setCamera()"),new Promise(function(g){v.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:d},function(C){g({device:C.device})})})}},{key:"setAudioDevice",value:(pe=me(function*(d){return go(),this.nativeUtils().setAudioDevice(d),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(d){return pe.apply(this,arguments)})},{key:"cycleCamera",value:function(){var d=this,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(g){d.sendMessageToCallMachine({action:"cycle-camera",properties:v},function(C){g({device:C.device})})})}},{key:"cycleMic",value:function(){var d=this;return be(),new Promise(function(v){d.sendMessageToCallMachine({action:"cycle-mic"},function(g){v({device:g.device})})})}},{key:"getCameraFacingMode",value:function(){var d=this;return go(),new Promise(function(v){d.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(g){v(g.facingMode)})})}},{key:"setInputDevicesAsync",value:(Q=me(function*(d){var v=this,g=d.audioDeviceId,C=d.videoDeviceId,S=d.audioSource,R=d.videoSource;return be(),S!==void 0&&(g=S),R!==void 0&&(C=R),g&&(this._preloadCache.audioDeviceId=g,this._sharedTracks.audioDeviceId=g),C&&(this._preloadCache.videoDeviceId=C,this._sharedTracks.videoDeviceId=C),this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:(g instanceof MediaStreamTrack&&(g=_o),C instanceof MediaStreamTrack&&(C=_o),new Promise(function(X){v.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:g,videoDeviceId:C},function(le){delete le.action,delete le.callbackStamp,le.returnPreloadCache?X({camera:{deviceId:v._preloadCache.videoDeviceId},mic:{deviceId:v._preloadCache.audioDeviceId},speaker:{deviceId:v._preloadCache.outputDeviceId}}):X(le)})}))}),function(d){return Q.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(ee=me(function*(d){var v=this,g=d.outputDeviceId;return be(),g&&(this._preloadCache.outputDeviceId=g),this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:new Promise(function(C){v.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:g},function(S){delete S.action,delete S.callbackStamp,S.returnPreloadCache?C({camera:{deviceId:v._preloadCache.videoDeviceId},mic:{deviceId:v._preloadCache.audioDeviceId},speaker:{deviceId:v._preloadCache.outputDeviceId}}):C(S)})})}),function(d){return ee.apply(this,arguments)})},{key:"getInputDevices",value:(q=me(function*(){var d=this;return this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:new Promise(function(v){d.sendMessageToCallMachine({action:"get-input-devices"},function(g){delete g.action,delete g.callbackStamp,g.returnPreloadCache?v({camera:{deviceId:d._preloadCache.videoDeviceId},mic:{deviceId:d._preloadCache.audioDeviceId},speaker:{deviceId:d._preloadCache.outputDeviceId}}):v(g)})})}),function(){return q.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return go(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(d){if(go(),[Om,WS].includes(d)){if(d!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=d,!this.disableReactNativeAutoDeviceManagement("audio")&&ra(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",d)}},{key:"preAuth",value:(F=me(function*(){var d=this,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(rn(this._callObjectMode,"preAuth()"),Rc(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(v)),!v.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(v),this.properties=ve(ve({},this.properties),v),new Promise(function(g,C){d.sendMessageToCallMachine({action:"daily-method-preauth",properties:mi(d.properties,d.callClientId),preloadCache:mi(d._preloadCache,d.callClientId)},function(S){return S.error?C(S.error):S.access?(d._didPreAuth=!0,void g({access:S.access})):C(new Error("unknown error in preAuth()"))})})}),function(){return F.apply(this,arguments)})},{key:"load",value:(B=me(function*(d){var v=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(d&&(this.validateProperties(d),this.properties=ve(ve({},this.properties),d)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(tm),this.emitDailyJSEvent({action:bw}),this._callObjectMode?new Promise(function(g,C){v._callObjectLoader.cancel();var S=Date.now();v._callObjectLoader.load(v.properties.dailyConfig,function(R){v._bundleLoadTime=R?"no-op":Date.now()-S,v._updateCallState(nm),R&&v.emitDailyJSEvent({action:im}),g()},function(R,X){if(v.emitDailyJSEvent({action:Cw}),!X){v._updateCallState(tr),v.resetMeetingDependentVars();var le={action:lm,errorMsg:R.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:R,bundleUrl:oa(v.properties.dailyConfig)}}};v._maybeSendToSentry(le),v.emitDailyJSEvent(le),C(R.msg)}})}):(this._iframe.src=hv(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(g,C){v._loadedCallback=function(S){v._callState!==tr?(v._updateCallState(nm),(v.properties.cssFile||v.properties.cssText)&&v.loadCss(v.properties),g()):C(S)}}))}}),function(d){return B.apply(this,arguments)})},{key:"join",value:(N=me(function*(){var d=this,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var g=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(v)}catch(C){return this.updateIsPreparingToJoin(!1),Promise.reject(C)}}else{if(g=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(v.url&&v.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(v.token&&v.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(v.url&&!this._callObjectMode&&v.url&&v.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(v.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(v),this.properties=ve(ve({},this.properties),v)}return v.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!v.showLocalVideo),v.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!v.showParticipantsBar),this._callState===Lr||this._callState===su?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(su,!1),this.emitDailyJSEvent({action:Mw}),this._preloadCache.inputSettings||(this._preloadCache.inputSettings={}),v.inputSettings&&v.inputSettings.audio&&(this._preloadCache.inputSettings.audio=v.inputSettings.audio),v.inputSettings&&v.inputSettings.video&&(this._preloadCache.inputSettings.video=v.inputSettings.video),this.sendMessageToCallMachine({action:"join-meeting",properties:mi(this.properties,this.callClientId),preloadCache:mi(this._preloadCache,this.callClientId)}),new Promise(function(C,S){d._joinedCallback=function(R,X){if(d._callState!==tr){if(d._updateCallState(Lr),R)for(var le in R){if(d._callObjectMode){var ke=d._callMachine().store;Sm(R[le],ke),km(R[le],ke),bm(R[le],d._participants[le],ke)}d._participants[le]=ve({},R[le]),d.toggleParticipantAudioBasedOnNativeAudioFocus()}g&&d.loadCss(d.properties),C(R)}else S(X)}}))}),function(){return N.apply(this,arguments)})},{key:"leave",value:(P=me(function*(){var d=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(v){d._callState===Mr||d._callState===tr?v():d._callObjectLoader&&!d._callObjectLoader.loaded?(d._callObjectLoader.cancel(),d._updateCallState(Mr),d.resetMeetingDependentVars(),d.emitDailyJSEvent({action:Mr}),v()):(d._resolveLeave=v,d.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return P.apply(this,arguments)})},{key:"startScreenShare",value:(V=me(function*(){var d=this,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Xs(this._callMachineInitialized,"startScreenShare()"),v.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",v.screenVideoSendSettings),v.mediaStream&&(this._sharedTracks.screenMediaStream=v.mediaStream,v.mediaStream=_o),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var g=this.nativeUtils();if(yield g.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:am,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});g.setSystemScreenCaptureStartCallback(function(){g.setSystemScreenCaptureStartCallback(null),d.sendMessageToCallMachine({action:um,captureOptions:v})}),g.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:um,captureOptions:v})}),function(){return V.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Xs(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ve({action:"local-recording-start"},d))}},{key:"updateRecording",value:function(d){var v=d.layout,g=v===void 0?{preset:"default"}:v,C=d.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:g,instanceId:C})}},{key:"stopRecording",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ve({action:"local-recording-stop"},d))}},{key:"startLiveStreaming",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ve({action:"daily-method-start-live-streaming"},d))}},{key:"updateLiveStreaming",value:function(d){var v=d.layout,g=v===void 0?{preset:"default"}:v,C=d.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:g,instanceId:C})}},{key:"addLiveStreamingEndpoints",value:function(d){var v=d.endpoints,g=d.instanceId;this.sendMessageToCallMachine({action:dm,endpointsOp:vS,endpoints:v,instanceId:g})}},{key:"removeLiveStreamingEndpoints",value:function(d){var v=d.endpoints,g=d.instanceId;this.sendMessageToCallMachine({action:dm,endpointsOp:gS,endpoints:v,instanceId:g})}},{key:"stopLiveStreaming",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(ve({action:"daily-method-stop-live-streaming"},d))}},{key:"validateDailyConfig",value:function(d){d.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(d.camSimulcastEncodings)),d.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),Av()&&d.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,g=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(d){if(!(d instanceof Array||Array.isArray(d)))throw new Error("encodings must be an Array");if(!Rm(d.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var C=0;C<d.length;C++){var S=d[C];for(var R in this._validateEncodingLayerHasValidProperties(S),S)if(Ic.includes(R)){if(typeof S[R]!="number")throw new Error("".concat(R," must be a number"));if(v){var X=v[R],le=X.min,ke=X.max;if(!Rm(S[R],le,ke))throw new Error("".concat(R," value not in range. valid range: ").concat(le," to ").concat(ke))}}else if(!["active","scalabilityMode"].includes(R))throw new Error("Invalid key ".concat(R,", valid keys are:")+Object.values(Ic));if(g&&!S.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:($=me(function*(d){var v=this,g=d.url,C=d.settings,S=C===void 0?{state:au.PLAY}:C;try{(function(R){if(typeof R!="string")throw new Error('url parameter must be "string" type')})(g),Im(S),function(R){for(var X in R)if(!Am.includes(X))throw new Error("Invalid key ".concat(X,", valid keys are: ").concat(Am));R.simulcastEncodings&&this.validateSimulcastEncodings(R.simulcastEncodings,Rv,!0)}(S)}catch(R){throw console.error("invalid argument Error: ".concat(R)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),R}return new Promise(function(R,X){v.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:g,settings:S},function(le){le.error?X({error:le.error,errorMsg:le.errorMsg}):R({session_id:le.session_id,remoteMediaPlayerState:{state:le.state,settings:le.settings}})})})}),function(d){return $.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(U=me(function*(d){var v=this;if(typeof d!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(g,C){v.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:d},function(S){S.error?C({error:S.error,errorMsg:S.errorMsg}):g()})})}),function(d){return U.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(z=me(function*(d){var v=this,g=d.session_id,C=d.settings;try{Im(C)}catch(S){throw console.error("invalid argument Error: ".concat(S)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),S}return new Promise(function(S,R){v.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:g,settings:C},function(X){X.error?R({error:X.error,errorMsg:X.errorMsg}):S({session_id:X.session_id,remoteMediaPlayerState:{state:X.state,settings:X.settings}})})})}),function(d){return z.apply(this,arguments)})},{key:"startTranscription",value:function(d){De(this._callState,"startTranscription()"),this.sendMessageToCallMachine(ve({action:"daily-method-start-transcription"},d))}},{key:"updateTranscription",value:function(d){if(De(this._callState,"updateTranscription()"),!d)throw new Error("updateTranscription Error: options is mandatory");if(Ne(d)!=="object")throw new Error("updateTranscription Error: options must be object type");if(d.participants&&!Array.isArray(d.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(ve({action:"daily-method-update-transcription"},d))}},{key:"stopTranscription",value:function(d){if(De(this._callState,"stopTranscription()"),d&&Ne(d)!=="object")throw new Error("stopTranscription Error: options must be object type");if(d&&!d.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(ve({action:"daily-method-stop-transcription"},d))}},{key:"startDialOut",value:(D=me(function*(d){var v=this;De(this._callState,"startDialOut()");var g=function(C){if(C){if(!Array.isArray(C))throw new Error("Error starting dial out: audio codec must be an array");if(C.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");C.forEach(function(S){if(typeof S!="string")throw new Error("Error starting dial out: audio codec must be a string");if(S!=="OPUS"&&S!=="PCMU"&&S!=="PCMA"&&S!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!d.sipUri&&!d.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(d.sipUri&&d.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(d.sipUri){if(typeof d.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!d.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(d.video&&typeof d.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(C){if(C&&(g(C.audio),C.video)){if(!Array.isArray(C.video))throw new Error("Error starting dial out: video codec must be an array");if(C.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");C.video.forEach(function(S){if(typeof S!="string")throw new Error("Error starting dial out: video codec must be a string");if(S!=="H264"&&S!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(d.codecs)}if(d.phoneNumber){if(typeof d.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(d.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");d.codecs&&g(d.codecs.audio)}if(d.callerId){if(typeof d.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(d.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(d.displayName){if(typeof d.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(d.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(d.userId){if(typeof d.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(d.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}return new Promise(function(C,S){v.sendMessageToCallMachine(ve({action:"dialout-start"},d),function(R){R.error?S(R.error):C(R)})})}),function(d){return D.apply(this,arguments)})},{key:"stopDialOut",value:function(d){var v=this;return De(this._callState,"stopDialOut()"),new Promise(function(g,C){v.sendMessageToCallMachine(ve({action:"dialout-stop"},d),function(S){S.error?C(S.error):g(S)})})}},{key:"sipCallTransfer",value:(A=me(function*(d){var v=this;if(De(this._callState,"sipCallTransfer()"),!d)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return d.useSipRefer=!1,Dm(d,"sipCallTransfer"),new Promise(function(g,C){v.sendMessageToCallMachine(ve({action:fm},d),function(S){S.error?C(S.error):g(S)})})}),function(d){return A.apply(this,arguments)})},{key:"sipRefer",value:(M=me(function*(d){var v=this;if(De(this._callState,"sipRefer()"),!d)throw new Error("sessionId and toEndPoint are mandatory parameter");return d.useSipRefer=!0,Dm(d,"sipRefer"),new Promise(function(g,C){v.sendMessageToCallMachine(ve({action:fm},d),function(S){S.error?C(S.error):g(S)})})}),function(d){return M.apply(this,arguments)})},{key:"sendDTMF",value:(x=me(function*(d){var v=this;return De(this._callState,"sendDTMF()"),function(g){var C=g.sessionId,S=g.tones;if(!C||!S)throw new Error("sessionId and tones are mandatory parameter");if(typeof C!="string"||typeof S!="string")throw new Error("sessionId and tones should be of string type");if(S.length>20)throw new Error("tones string must be upto 20 characters");var R=/[^0-9A-D*#]/g,X=S.match(R);if(X&&X[0])throw new Error("".concat(X[0]," is not valid DTMF tone"))}(d),new Promise(function(g,C){v.sendMessageToCallMachine(ve({action:"send-dtmf"},d),function(S){S.error?C(S.error):g(S)})})}),function(d){return x.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var d=this;return this._callState!==Lr?{stats:{latest:{}}}:new Promise(function(v){d.sendMessageToCallMachine({action:"get-calc-stats"},function(g){v(ve({stats:g.stats},d._network))})})}},{key:"testWebsocketConnectivity",value:(b=me(function*(){var d=this;if(Fc(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(v){return Promise.reject(v)}return new Promise(function(v,g){d.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(C){C.error?g(C.error):v(C.results)})})}),function(){return b.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(d){return d?d instanceof MediaStreamTrack?!!US(d)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(w=me(function*(){var d=this;be(),rn(this._callObjectMode,"testCallQuality()"),Xs(this._callMachineInitialized,"testCallQuality()",null,!0),Rc(this._callState,this._isPreparingToJoin,"testCallQuality()");var v=this._testCallAlreadyInProgress,g=function(S){v||(d._testCallInProgress=S)};if(g(!0),this.needsLoad())try{var C=this._callState;yield this.load(),this._callState=C}catch(S){return g(!1),Promise.reject(S)}return new Promise(function(S){d.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:d.properties.dailyJsVersion},function(R){var X=R.results,le=X.result,ke=Jp(X,$S);if(le==="failed"){var qe,Re=ve({},ke);(qe=ke.error)!==null&&qe!==void 0&&qe.details?(ke.error.details=JSON.parse(ke.error.details),Re.error=ve(ve({},Re.error),{},{details:ve({},Re.error.details)}),Re.error.details.duringTest="testCallQuality"):(Re.error=Re.error?ve({},Re.error):{},Re.error.details={duringTest:"testCallQuality"}),d._maybeSendToSentry(Re)}g(!1),S(ve({result:le},ke))})})}),function(){return w.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(y=me(function*(d){var v;Oe()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),v=yield this.testPeerToPeerCallQuality(d)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),v=yield this.testCallQuality());var g={result:v.result,secondsElapsed:v.secondsElapsed};return v.data&&(g.data={maxRTT:v.data.maxRoundTripTime,packetLoss:v.data.avgRecvPacketLoss}),g}),function(d){return y.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(h=me(function*(d){var v=this;if(Fc(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(S){return Promise.reject(S)}var g=d.videoTrack,C=d.duration;if(!this._validateVideoTrackForNetworkTests(g))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=g,new Promise(function(S,R){v.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:C},function(X){X.error?R(X.error):S(X.results)})})}),function(d){return h.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){Oe()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(m=me(function*(d){var v=this;if(Fc(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(g){return Promise.reject(g)}if(!this._validateVideoTrackForNetworkTests(d))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=d,new Promise(function(g,C){v.sendMessageToCallMachine({action:"test-network-connectivity"},function(S){S.error?C(S.error):g(S.results)})})}),function(d){return m.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var d=this;return new Promise(function(v){d._callState===Lr?d.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(g){v(g.cpuStats)}):v({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(d){var v;if(!(((v=Object.keys(d))===null||v===void 0?void 0:v.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(Ic))}},{key:"_validateVideoSendSettings",value:function(d,v){var g=d==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],C="Video send settings should be either an object or one of the supported presets: ".concat(g.join());if(typeof v=="string"){if(!g.includes(v))throw new Error(C)}else{if(Ne(v)!=="object")throw new Error(C);if(!v.maxQuality&&!v.encodings&&v.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(v.maxQuality&&["low","medium","high"].indexOf(v.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(v.encodings){var S=!1;switch(Object.keys(v.encodings).length){case 1:S=!v.encodings.low;break;case 2:S=!v.encodings.low||!v.encodings.medium;break;case 3:S=!v.encodings.low||!v.encodings.medium||!v.encodings.high;break;default:S=!0}if(S)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");v.encodings.low&&this._validateEncodingLayerHasValidProperties(v.encodings.low),v.encodings.medium&&this._validateEncodingLayerHasValidProperties(v.encodings.medium),v.encodings.high&&this._validateEncodingLayerHasValidProperties(v.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(d){var v=this;if(!d||Object.keys(d).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(d).forEach(function(g){var C=Ir(g,2),S=C[0],R=C[1];v._validateVideoSendSettings(S,R)})}},{key:"updateSendSettings",value:function(d){var v=this;return this.validateUpdateSendSettings(d),this.needsLoad()?(this._preloadCache.sendSettings=d,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(g,C){v.sendMessageToCallMachine({action:"update-send-settings",sendSettings:d},function(S){S.error?C(S.error):g(S.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return be(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(d){return be(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:d}),this}},{key:"activeSpeakerMode",value:function(){return be(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(d){return De(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=d,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:d}),this}},{key:"enumerateDevices",value:(f=me(function*(){var d=this;if(this._callObjectMode){var v=yield navigator.mediaDevices.enumerateDevices();return Ur()==="Firefox"&&Eo().major>115&&Eo().major<123&&(v=v.filter(function(g){return g.kind!=="audiooutput"})),{devices:v.map(function(g){var C=JSON.parse(JSON.stringify(g));if(!Oe()&&g.kind==="videoinput"&&g.getCapabilities){var S,R=g.getCapabilities();C.facing=(R==null||(S=R.facingMode)===null||S===void 0?void 0:S.length)>=1?R.facingMode[0]:void 0}return C})}}return new Promise(function(g){d.sendMessageToCallMachine({action:"enumerate-devices"},function(C){g({devices:C.devices})})})}),function(){return f.apply(this,arguments)})},{key:"sendAppMessage",value:function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(De(this._callState,"sendAppMessage()"),JSON.stringify(d).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:d,to:v}),this}},{key:"addFakeParticipant",value:function(d){return be(),De(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(ve({action:"add-fake-participant"},d)),this}},{key:"setShowNamesMode",value:function(d){return Dt(this._callObjectMode,"setShowNamesMode()"),be(),d&&d!=="always"&&d!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:d}),this)}},{key:"setShowLocalVideo",value:function(){var d=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Dt(this._callObjectMode,"setShowLocalVideo()"),be(),De(this._callState,"setShowLocalVideo()"),typeof d!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:d}),this._showLocalVideo=d,this)}},{key:"showLocalVideo",value:function(){return Dt(this._callObjectMode,"showLocalVideo()"),be(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var d=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Dt(this._callObjectMode,"setShowParticipantsBar()"),be(),De(this._callState,"setShowParticipantsBar()"),typeof d!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:d}),this._showParticipantsBar=d,this)}},{key:"showParticipantsBar",value:function(){return Dt(this._callObjectMode,"showParticipantsBar()"),be(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return be(),Dt(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(d){return be(),Dt(this._callObjectMode,"setCustomIntegrations()"),De(this._callState,"setCustomIntegrations()"),Jv(d)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:d}),this._customIntegrations=d,this):this}},{key:"startCustomIntegrations",value:function(d){var v=this;if(be(),Dt(this._callObjectMode,"startCustomIntegrations()"),De(this._callState,"startCustomIntegrations()"),Array.isArray(d)&&d.some(function(S){return typeof S!="string"})||!Array.isArray(d)&&typeof d!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var g=typeof d=="string"?[d]:d,C=g.filter(function(S){return!(S in v._customIntegrations)});return C.length?(console.error(`Can't find custom integration(s): "`.concat(C.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:g}),this)}},{key:"stopCustomIntegrations",value:function(d){var v=this;if(be(),Dt(this._callObjectMode,"stopCustomIntegrations()"),De(this._callState,"stopCustomIntegrations()"),Array.isArray(d)&&d.some(function(S){return typeof S!="string"})||!Array.isArray(d)&&typeof d!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var g=typeof d=="string"?[d]:d,C=g.filter(function(S){return!(S in v._customIntegrations)});return C.length?(console.error(`Can't find custom integration(s): "`.concat(C.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:g}),this)}},{key:"customTrayButtons",value:function(){return Dt(this._callObjectMode,"customTrayButtons()"),be(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(d){return Dt(this._callObjectMode,"updateCustomTrayButtons()"),be(),De(this._callState,"updateCustomTrayButtons()"),Wv(d)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:d}),this._customTrayButtons=d,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(pa))),this)}},{key:"theme",value:function(){return Dt(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(d){var v=this;return Dt(this._callObjectMode,"setTheme()"),new Promise(function(g,C){try{v.validateProperties({theme:d}),v.properties.theme=ve({},d),v.sendMessageToCallMachine({action:"set-theme",theme:v.properties.theme});try{v.emitDailyJSEvent({action:kw,theme:v.properties.theme})}catch(S){console.log("could not emit 'theme-updated'",S)}g(v.properties.theme)}catch(S){C(S)}})}},{key:"requestFullscreen",value:(c=me(function*(){if(be(),this._iframe&&!document.fullscreenElement&&pm())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(d){console.log("could not make video call fullscreen",d)}}),function(){return c.apply(this,arguments)})},{key:"exitFullscreen",value:function(){be(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(a=me(function*(){var d=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(v){d.sendMessageToCallMachine({action:"get-sidebar-view"},function(g){v(g.view)})})}),function(){return a.apply(this,arguments)})},{key:"setSidebarView",value:function(d){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:d}),this)}},{key:"room",value:(s=me(function*(){var d=this,v=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,g=v===void 0||v;return this._accessState.access===xc||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(C){d.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:g},function(S){delete S.action,delete S.callbackStamp,C(S)})})}),function(){return s.apply(this,arguments)})},{key:"geo",value:(i=me(function*(){try{var d=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield d.json()).geo}}catch(v){return console.error("geo lookup failed",v),{current:""}}}),function(){return i.apply(this,arguments)})},{key:"setNetworkTopology",value:(n=me(function*(d){var v=this;return be(),De(this._callState,"setNetworkTopology()"),new Promise(function(g,C){v.sendMessageToCallMachine({action:"set-network-topology",opts:d},function(S){S.error?C({error:S.error}):g({workerId:S.workerId})})})}),function(d){return n.apply(this,arguments)})},{key:"getNetworkTopology",value:(r=me(function*(){var d=this;return new Promise(function(v,g){d.needsLoad()&&v({topology:"none"}),d.sendMessageToCallMachine({action:"get-network-topology"},function(C){C.error?g({error:C.error}):v({topology:C.topology})})})}),function(){return r.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(d){if(be(),typeof d!="number"&&d!==!0&&d!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(d));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:d})}},{key:"on",value:function(d,v){return Ln.prototype.on.call(this,d,v)}},{key:"once",value:function(d,v){return Ln.prototype.once.call(this,d,v)}},{key:"off",value:function(d,v){return Ln.prototype.off.call(this,d,v)}},{key:"validateProperties",value:function(d){for(var v in d){if(!Or[v])throw new Error("unrecognized property '".concat(v,"'"));if(Or[v].validate&&!Or[v].validate(d[v],this))throw new Error("property '".concat(v,"': ").concat(Or[v].help))}}},{key:"assembleMeetingUrl",value:function(){var d,v,g=ve(ve({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(d=this.properties.dailyConfig)!==null&&d!==void 0&&d.proxyUrl?encodeURIComponent((v=this.properties.dailyConfig)===null||v===void 0?void 0:v.proxyUrl):void 0}),C=g.url.match(/\?/)?"&":"?";return g.url+C+Object.keys(Or).filter(function(S){return Or[S].queryString&&g[S]!==void 0}).map(function(S){return"".concat(Or[S].queryString,"=").concat(g[S])}).join("&")}},{key:"needsLoad",value:function(){return[em,tm,Mr,tr].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(d,v){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(d,v,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(d){this._messageChannel.forwardPackagedMessageToCallMachine(d,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(d){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(d,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(d){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(d)}},{key:"handleMessageFromCallMachine",value:function(d){switch(d.action){case ww:this.sendMessageToCallMachine(ve({action:Sw},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var v={action:Gs,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:oa(this.properties.dailyConfig)}};this.sendMessageToCallMachine(v),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case im:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(d);break;case Pw:var g,C=ve({},d);delete C.internal,this._maxAppMessageSize=((g=d.internal)===null||g===void 0?void 0:g._maxAppMessageSize)||Lc,this._joinedCallback&&(this._joinedCallback(d.participants),this._joinedCallback=null),this.emitDailyJSEvent(C);break;case xw:case Lw:if(this._callState===Mr)return;if(d.participant&&d.participant.session_id){var S=d.participant.local?"local":d.participant.session_id;if(this._callObjectMode){var R=this._callMachine().store;Sm(d.participant,R),km(d.participant,R),bm(d.participant,this._participants[S],R)}try{this.maybeParticipantTracksStopped(this._participants[S],d.participant),this.maybeParticipantTracksStarted(this._participants[S],d.participant),this.maybeEventRecordingStopped(this._participants[S],d.participant),this.maybeEventRecordingStarted(this._participants[S],d.participant)}catch(Wr){console.error("track events error",Wr)}this.compareEqualForParticipantUpdateEvent(d.participant,this._participants[S])||(this._participants[S]=ve({},d.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(d))}break;case Aw:if(d.participant&&d.participant.session_id){var X=this._participants[d.participant.session_id];X&&this.maybeParticipantTracksStopped(X,null),delete this._participants[d.participant.session_id],this.emitDailyJSEvent(d)}break;case Nw:Mt(this._participantCounts,d.participantCounts)||(this._participantCounts=d.participantCounts,this.emitDailyJSEvent(d));break;case jw:var le={access:d.access};d.awaitingAccess&&(le.awaitingAccess=d.awaitingAccess),Mt(this._accessState,le)||(this._accessState=le,this.emitDailyJSEvent(d));break;case Dw:if(d.meetingSession){this._meetingSessionSummary=d.meetingSession,this.emitDailyJSEvent(d);var ke=ve(ve({},d),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(ke)}break;case lm:var qe;this._iframe&&!d.preserveIframe&&(this._iframe.src=""),this._updateCallState(tr),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(d.errorMsg),this._loadedCallback=null),d.preserveIframe;var Re=Jp(d,zS);Re!=null&&(qe=Re.error)!==null&&qe!==void 0&&qe.details&&(Re.error.details=JSON.parse(Re.error.details)),this._maybeSendToSentry(d),this._joinedCallback&&(this._joinedCallback(null,Re),this._joinedCallback=null),this.emitDailyJSEvent(Re);break;case Ow:this._callState!==tr&&this._updateCallState(Mr),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(d);break;case"selected-devices-updated":d.devices&&this.emitDailyJSEvent(d);break;case oS:var Rt=d.threshold,Qt=d.quality;Rt===this._network.threshold&&Qt===this._network.quality||(this._network.quality=Qt,this._network.threshold=Rt,this.emitDailyJSEvent(d));break;case aS:d&&d.cpuLoadState&&this.emitDailyJSEvent(d);break;case lS:d&&d.faceCounts!==void 0&&this.emitDailyJSEvent(d);break;case rS:var xt=d.activeSpeaker;this._activeSpeaker.peerId!==xt.peerId&&(this._activeSpeaker.peerId=xt.peerId,this.emitDailyJSEvent({action:d.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var dr=d.show;this._showLocalVideo=dr,this.emitDailyJSEvent({action:d.action,show:dr});break;case iS:var _n=d.enabled;this._activeSpeakerMode!==_n&&(this._activeSpeakerMode=_n,this.emitDailyJSEvent({action:d.action,enabled:this._activeSpeakerMode}));break;case Rw:case Fw:case Bw:this._waitingParticipants=d.allWaitingParticipants,this.emitDailyJSEvent({action:d.action,participant:d.participant});break;case hS:Mt(this._receiveSettings,d.receiveSettings)||(this._receiveSettings=d.receiveSettings,this.emitDailyJSEvent({action:d.action,receiveSettings:d.receiveSettings}));break;case mS:if(!Mt(this._inputSettings,d.inputSettings)){var Qe=this._getInputSettings();this._inputSettings=d.inputSettings,this._preloadCache.inputSettings={},Mt(Qe,this._getInputSettings())||this.emitDailyJSEvent({action:d.action,inputSettings:this._getInputSettings()})}break;case"send-settings-updated":Mt(this._sendSettings,d.sendSettings)||(this._sendSettings=d.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:d.action,sendSettings:d.sendSettings}));break;case"local-audio-level":this._localAudioLevel=d.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(d);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=d.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(d);break;case Yw:var ft=d.session_id;this._rmpPlayerState[ft]=d.playerState,this.emitDailyJSEvent(d);break;case Zw:delete this._rmpPlayerState[d.session_id],this.emitDailyJSEvent(d);break;case Xw:var Gt=d.session_id,Dn=this._rmpPlayerState[Gt];Dn&&this.compareEqualForRMPUpdateEvent(Dn,d.remoteMediaPlayerState)||(this._rmpPlayerState[Gt]=d.remoteMediaPlayerState,this.emitDailyJSEvent(d));break;case"custom-button-click":case"sidebar-view-changed":this.emitDailyJSEvent(d);break;case Iw:var Vr=this._meetingSessionState.topology!==(d.meetingSessionState&&d.meetingSessionState.topology);this._meetingSessionState=Bc(d.meetingSessionState,this._callObjectMode),(this._callObjectMode||Vr)&&this.emitDailyJSEvent(d);break;case eS:this._isScreenSharing=!0,this.emitDailyJSEvent(d);break;case tS:case nS:this._isScreenSharing=!1,this.emitDailyJSEvent(d);break;case om:case sm:case Jw:case Hw:case qw:case zw:case Vw:case Ww:case Ew:case Tw:case Gw:case Kw:case"test-completed":case sS:case Qw:case cS:case uS:case dS:case fS:case am:case pS:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(d);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(d,v){var g="record";d&&(v.local||v[g]!==!1||d[g]===v[g]||this.emitDailyJSEvent({action:sm}))}},{key:"maybeEventRecordingStarted",value:function(d,v){var g="record";d&&(v.local||v[g]!==!0||d[g]===v[g]||this.emitDailyJSEvent({action:om}))}},{key:"maybeEventTrackStopped",value:function(d,v,g,C){d&&(d.readyState!=="ended"&&v&&d.id===v.id||this.emitDailyJSEvent({action:$w,track:d,participant:g,type:C}))}},{key:"maybeEventTrackStarted",value:function(d,v,g,C){v&&(d&&d.readyState!=="ended"&&v.id===d.id||this.emitDailyJSEvent({action:Uw,track:v,participant:g,type:C}))}},{key:"maybeParticipantTracksStopped",value:function(d,v){if(d)for(var g in d.tracks)this.maybeEventTrackStopped(d.tracks[g].track,v&&v.tracks[g]?v.tracks[g].track:null,v,g)}},{key:"maybeParticipantTracksStarted",value:function(d,v){if(v)for(var g in v.tracks)this.maybeEventTrackStarted(d&&d.tracks[g]?d.tracks[g].track:null,v.tracks[g].track,v,g)}},{key:"compareEqualForRMPUpdateEvent",value:function(d,v){var g,C;return d.state===v.state&&((g=d.settings)===null||g===void 0?void 0:g.volume)===((C=v.settings)===null||C===void 0?void 0:C.volume)}},{key:"emitDailyJSEvent",value:function(d){try{d.callClientId=this.callClientId,this.emit(d.action,d)}catch(v){console.log("could not emit",d,v)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(d,v){return!!Mt(d,v)&&(!d.videoTrack||!v.videoTrack||d.videoTrack.id===v.videoTrack.id&&d.videoTrack.muted===v.videoTrack.muted&&d.videoTrack.enabled===v.videoTrack.enabled)&&(!d.audioTrack||!v.audioTrack||d.audioTrack.id===v.audioTrack.id&&d.audioTrack.muted===v.audioTrack.muted&&d.audioTrack.enabled===v.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Oe()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(d){this._updateCallState(this._callState,d)}},{key:"_updateCallState",value:function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(d!==this._callState||v!==this._isPreparingToJoin){var g=this._callState,C=this._isPreparingToJoin;this._callState=d,this._isPreparingToJoin=v;var S=this._callState===Lr;this.updateShowAndroidOngoingMeetingNotification(S);var R=ra(g,C),X=ra(this._callState,this._isPreparingToJoin);R!==X&&(this.updateKeepDeviceAwake(X),this.updateDeviceAudioMode(X),this.updateNoOpRecordingEnsuringBackgroundContinuity(X))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=Lm,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:xc},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=Bc(xm,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=Lc,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(d){Oe()&&this.nativeUtils().setKeepDeviceAwake(d,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(d){if(Oe()&&!this.disableReactNativeAutoDeviceManagement("audio")){var v=d?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(v)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(d){if(Oe()&&this.nativeUtils().setShowOngoingMeetingNotification){var v,g,C,S;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var R=this.properties.reactNativeConfig.androidInCallNotification;v=R.title,g=R.subtitle,C=R.iconName,S=R.disableForCustomOverride}S&&(d=!1),this.nativeUtils().setShowOngoingMeetingNotification(d,v,g,C,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(d){Oe()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(d)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var d,v;if(Oe()){var g=(d=this._callMachine())===null||d===void 0||(v=d.store)===null||v===void 0?void 0:v.getState();for(var C in g==null?void 0:g.streams){var S=g.streams[C];S&&S.pendingTrack&&S.pendingTrack.kind==="audio"&&(S.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(d){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[d]}},{key:"absoluteUrl",value:function(d){if(d!==void 0){var v=document.createElement("a");return v.href=d,v.href}}},{key:"sayHello",value:function(){var d="hello, world.";return console.log(d),d}},{key:"_logUseAfterDestroy",value:function(){var d=Object.values(Pr)[0];if(this.needsLoad())if(d&&!d.needsLoad()){var v={action:Gs,level:"error",code:this.strictMode?9995:9997};d.sendMessageToCallMachine(v)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var g={action:Gs,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(g,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var d=0,v=Object.values(Pr);d<v.length;d++){var g=v[d];g._callMachineInitialized?(g.sendMessageToCallMachine({action:Gs,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),g._delayDuplicateInstanceLog=!1):g._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(d){var v,g,C,S,R,X;if(!((v=d.error)!==null&&v!==void 0&&v.type&&(![_w,yw,rm].includes(d.error.type)||d.error.type===rm&&d.error.msg.includes("deleted")))){var le=(g=this.properties)!==null&&g!==void 0&&g.url?new URL(this.properties.url):void 0,ke="production";le&&le.host.includes(".staging.daily")&&(ke="staging");var qe,Re,Rt,Qt,xt,dr=[V_(),$_(),cw(),aw(),pw(),mw(),W_(),hw()].filter(function(Wr){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(Wr.name)}),_n=new G_({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:ew,stackParser:sw,integrations:dr,environment:ke}),Qe=new ur;if(Qe.setClient(_n),_n.init(),this.session_id&&Qe.setExtra("sessionId",this.session_id),this.properties){var ft=ve({},this.properties);ft.userName=ft.userName?"[Filtered]":void 0,ft.userData=ft.userData?"[Filtered]":void 0,ft.token=ft.token?"[Filtered]":void 0,Qe.setExtra("properties",ft)}if(le){var Gt=le.searchParams.get("domain");if(!Gt){var Dn=le.host.match(/(.*?)\./);Gt=Dn&&Dn[1]||""}Gt&&Qe.setTag("domain",Gt)}d.error&&(Qe.setTag("fatalErrorType",d.error.type),Qe.setExtra("errorDetails",d.error.details),!((qe=d.error.details)===null||qe===void 0)&&qe.uri&&Qe.setTag("serverAddress",d.error.details.uri),!((Re=d.error.details)===null||Re===void 0)&&Re.workerGroup&&Qe.setTag("workerGroup",d.error.details.workerGroup),!((Rt=d.error.details)===null||Rt===void 0)&&Rt.geoGroup&&Qe.setTag("geoGroup",d.error.details.geoGroup),!((Qt=d.error.details)===null||Qt===void 0)&&Qt.on&&Qe.setTag("connectionAttempt",d.error.details.on),(xt=d.error.details)!==null&&xt!==void 0&&xt.bundleUrl&&(Qe.setTag("bundleUrl",d.error.details.bundleUrl),Qe.setTag("bundleError",d.error.details.sourceError.type))),Qe.setTags({callMode:this._callObjectMode?Oe()?"reactNative":(C=this.properties)!==null&&C!==void 0&&(S=C.dailyConfig)!==null&&S!==void 0&&(R=S.callMode)!==null&&R!==void 0&&R.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:ue.version()});var Vr=((X=d.error)===null||X===void 0?void 0:X.msg)||d.errorMsg;Qe.captureException(new Error(Vr))}}},{key:"_callMachine",value:function(){var d,v,g;return(d=window._daily)===null||d===void 0||(v=d.instances)===null||v===void 0||(g=v[this.callClientId])===null||g===void 0?void 0:g.callMachine}}],[{key:"supportedBrowser",value:function(){if(Oe())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var d=s_.getParser(qt());return{supported:!!hm(),mobile:d.getPlatformType()==="mobile",name:d.getBrowserName(),version:d.getBrowserVersion(),supportsFullscreen:!!pm(),supportsScreenShare:!!yS(),supportsSfu:!!hm(),supportsVideoProcessing:xv(),supportsAudioProcessing:Lv()}}},{key:"version",value:function(){return"0.73.0"}},{key:"createCallObject",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return d.layout="none",new ue(null,d)}},{key:"wrap",value:function(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(be(),!d||!d.contentWindow||typeof d.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return v.layout||(v.customLayout?v.layout="custom-v1":v.layout="browser"),new ue(d,v)}},{key:"createFrame",value:function(d,v){var g,C;be(),d&&v?(g=d,C=v):d&&d.append?(g=d,C={}):(g=document.body,C=d||{});var S=C.iframeStyle;S||(S=g===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var R=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?R.allow="microphone, camera":R.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",R.style.visibility="hidden",g.appendChild(R),R.style.visibility=null,Object.keys(S).forEach(function(X){return R.style[X]=S[X]}),C.layout||(C.customLayout?C.layout="custom-v1":C.layout="browser");try{return new ue(R,C)}catch(X){throw g.removeChild(R),X}}},{key:"createTransparentFrame",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};be();var v=document.createElement("iframe");return v.allow="microphone; camera; autoplay",v.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(v),d.layout||(d.layout="custom-v1"),ue.wrap(v,d)}},{key:"getCallInstance",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return d?Pr[d]:Object.values(Pr)[0]}}]),ue}();function mi(r,n){var i={};for(var s in r)if(r[s]instanceof MediaStreamTrack)i[s]=_o;else if(s==="dailyConfig"){if(r[s].modifyLocalSdpHook){var a=window._daily.instances[n].customCallbacks||{};a.modifyLocalSdpHook=r[s].modifyLocalSdpHook,window._daily.instances[n].customCallbacks=a,delete r[s].modifyLocalSdpHook}if(r[s].modifyRemoteSdpHook){var c=window._daily.instances[n].customCallbacks||{};c.modifyRemoteSdpHook=r[s].modifyRemoteSdpHook,window._daily.instances[n].customCallbacks=c,delete r[s].modifyRemoteSdpHook}i[s]=r[s]}else i[s]=r[s];return i}function De(r){var n=arguments.length>2?arguments[2]:void 0;if(r!==Lr){var i="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw n&&(i+=" ".concat(n)),console.error(i),new Error(i)}}function ra(r,n){return[su,Lr].includes(r)||n}function Rc(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",s=arguments.length>3?arguments[3]:void 0;if(ra(r,n)){var a="".concat(i," not supported after joining a meeting.");throw s&&(a+=" ".concat(s)),console.error(a),new Error(a)}}function Xs(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",i=arguments.length>2?arguments[2]:void 0;if(!r){var s="".concat(n,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw i&&(s+=" ".concat(i)),console.error(s),new Error(s)}}function Fc(r){if(r){var n="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(n),new Error(n)}}function rn(r){if(!r){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(n),new Error(n)}}function Dt(r){if(r){var n="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(n),new Error(n)}}function be(){if(Oe())throw new Error("This daily-js method is not currently supported in React Native")}function go(){if(!Oe())throw new Error("This daily-js method is only supported in React Native")}function Fv(r){if(r===void 0)return!0;var n;if(typeof r=="string")n=r;else try{n=JSON.stringify(r),Mt(JSON.parse(n),r)||console.warn("The userData provided will be modified when serialized.")}catch(i){throw Error("userData must be serializable to JSON: ".concat(i))}if(n.length>4096)throw Error("userData is too large (".concat(n.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function Bv(r,n){for(var i=n.allowAllParticipantsKey,s=function(b){var x=["local"];return i||x.push("*"),b&&!x.includes(b)},a=function(b){return!!(b.layer===void 0||Number.isInteger(b.layer)&&b.layer>=0||b.layer==="inherit")},c=function(b){return!!b&&!(b.video&&!a(b.video))&&!(b.screenVideo&&!a(b.screenVideo))},f=0,m=Object.entries(r);f<m.length;f++){var h=Ir(m[f],2),y=h[0],w=h[1];if(!s(y)||!c(w))return!1}return!0}function Uv(r){return Ne(r)==="object"&&!(r.video&&(Ne(r.video)!=="object"||!function(a){var c=["type","config"];return!a||Ne(a)!=="object"||!function(f){return typeof f!="string"?!1:Object.values(na).includes(f)?!0:(console.error("inputSettings video processor type invalid"),!1)}(a.type)||a.config&&(Ne(a.config)!=="object"||!function(f,m){var h=Object.keys(m);if(h.length===0)return!0;var y="invalid object in inputSettings -> video -> processor -> config";switch(f){case na.BGBLUR:return h.length>1||h[0]!=="strength"?(console.error(y),!1):!(typeof m.strength!="number"||m.strength<=0||m.strength>1||isNaN(m.strength))||(console.error("".concat(y,"; expected: {0 < strength <= 1}, got: ").concat(m.strength)),!1);case na.BGIMAGE:return!(m.source!==void 0&&!function(w){if(w.source==="default")return w.type="default",!0;if(w.source instanceof ArrayBuffer)return!0;if(sa(w.source))return w.type="url",!!function(M){var A=new URL(M),D=A.pathname;if(A.protocol==="data:")try{var z=D.substring(D.indexOf(":")+1,D.indexOf(";")).split("/")[1];return Nc.includes(z)}catch($){return console.error("failed to deduce blob content type",$),!1}var U=D.split(".").at(-1).toLowerCase().trim();return Nc.includes(U)}(w.source)||(console.error("invalid image type; supported types: [".concat(Nc.join(", "),"]")),!1);return b=w.source,x=Number(b),isNaN(x)||!Number.isInteger(x)||x<=0||x>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(w.type="daily-preselect",!0);var b,x}(m));default:return!0}}(a.type,a.config))?!1:(Object.keys(a).filter(function(f){return!c.includes(f)}).forEach(function(f){console.warn("invalid key inputSettings -> video -> processor : ".concat(f)),delete a[f]}),!0)}(r.video.processor)))&&!(r.audio&&(Ne(r.audio)!=="object"||(i=r.audio.processor,s=["type"],!i||Ne(i)!=="object"||(Object.keys(i).filter(function(a){return!s.includes(a)}).forEach(function(a){console.warn("invalid key inputSettings -> audio -> processor : ".concat(a)),delete i[a]}),n=i.type,typeof n!="string"||!Object.values(Pv).includes(n)&&(console.error("inputSettings audio processor type invalid"),1)))));var n,i,s}function $v(r,n){var i,s=[];r.video&&!xv((i=n==null?void 0:n.useLegacyVideoProcessor)!==null&&i!==void 0&&i)&&(delete r.video,s.push("video")),r.audio&&!Lv()&&(delete r.audio,s.push("audio")),s.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(s.join(", ")))}function pu(){var r=Object.values(na).join(" | "),n=Object.values(Pv).join(" | ");return"inputSettings must be of the form: { video?: { processor: { type: [ ".concat(r," ], config?: {} } }, audio?: { processor: {type: [ ").concat(n," ] } } }")}function zv(r){var n=r.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(gw).concat(n?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function Vv(){return"customIntegrations should be an object of type ".concat(JSON.stringify(fu),".")}function Wv(r){if(r&&Ne(r)!=="object"||Array.isArray(r))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(pa),".")),!1;if(r)for(var n=0,i=Object.entries(r);n<i.length;n++)for(var s=Ir(i[n],1)[0],a=0,c=Object.entries(r[s]);a<c.length;a++){var f=Ir(c[a],2),m=f[0],h=f[1],y=pa.id[m];if(!y)return console.error("customTrayButton does not support key ".concat(m)),!1;switch(m){case"iconPath":case"iconPathDarkMode":if(!sa(h))return console.error("customTrayButton ".concat(m," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(h))return console.error("customTrayButton ".concat(m," should be ").concat(y,". Got: ").concat(h)),!1;break;default:if(Ne(h)!==y)return console.error("customTrayButton ".concat(m," should be a ").concat(y,".")),!1}}return!0}function Jv(r){if(!r||r&&Ne(r)!=="object"||Array.isArray(r))return console.error(Vv()),!1;for(var n=function(b){return"".concat(b," should be ").concat(fu.id[b])},i=function(b,x){return console.error("customIntegration ".concat(b,": ").concat(x))},s=0,a=Object.entries(r);s<a.length;s++){var c=Ir(a[s],1)[0];if(!("label"in r[c]))return i(c,"label is required"),!1;if(!("location"in r[c]))return i(c,"location is required"),!1;if(!("src"in r[c])&&!("srcdoc"in r[c]))return i(c,"src or srcdoc is required"),!1;for(var f=0,m=Object.entries(r[c]);f<m.length;f++){var h=Ir(m[f],2),y=h[0],w=h[1];switch(y){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof w!="string")return i(c,n(y)),!1;break;case"iconURL":if(!sa(w))return i(c,"".concat(y," should be a url")),!1;break;case"src":if("srcdoc"in r[c])return i(c,"cannot have both src and srcdoc"),!1;if(!sa(w))return i(c,'src "'.concat(w,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in r[c])return i(c,"cannot have both src and srcdoc"),!1;if(typeof w!="string")return i(c,n(y)),!1;break;case"location":if(!["main","sidebar"].includes(w))return i(c,n(y)),!1;break;case"controlledBy":if(w!=="*"&&w!=="owners"&&(!Array.isArray(w)||w.some(function(b){return typeof b!="string"})))return i(c,n(y)),!1;break;case"shared":if((!Array.isArray(w)||w.some(function(b){return typeof b!="string"}))&&w!=="owners"&&typeof w!="boolean")return i(c,n(y)),!1;break;default:if(!fu.id[y])return console.error("customIntegration does not support key ".concat(y)),!1}}}return!0}function Hv(r,n){if(n===void 0)return!1;switch(Ne(n)){case"string":return Ne(r)===n;case"object":if(Ne(r)!=="object")return!1;for(var i in r)if(!Hv(r[i],n[i]))return!1;return!0;default:return!1}}function Dm(r,n){var i=r.sessionId,s=r.toEndPoint,a=r.useSipRefer;if(!i||!s)throw new Error("".concat(n,"() requires a sessionId and toEndPoint"));if(typeof i!="string"||typeof s!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(a&&!s.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!s.startsWith("sip:")&&!s.startsWith("+"))throw new Error("toEndPoint: ".concat(s,' must starts with either "sip:" or "+"'))}function Im(r){if(Ne(r)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(r.state&&!Object.values(au).includes(r.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(au));if(r.volume){if(typeof r.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(r.volume<0||r.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function Rm(r,n,i){return!(typeof r!="number"||r<n||r>i)}function Bc(r,n){return r&&!n&&delete r.data,r}function JS(r,n,i,s){Object.defineProperty(r,n,{get:i,set:s,enumerable:!0,configurable:!0})}var HS={};JS(HS,"DailyTransport",()=>qv);class qv extends Km{constructor({dailyFactoryOptions:n={}}={}){super(),this._botId="",this._selectedCam={},this._selectedMic={},this._selectedSpeaker={},this._dailyFactoryOptions=n}initialize(n,i){this._callbacks=n.callbacks??{},this._onMessage=i;const s=jm.getCallInstance();s&&s.destroy(),this._daily=jm.createCallObject({...this._dailyFactoryOptions,startVideoOff:n.enableCam!=!0,startAudioOff:n.enableMic==!1,allowMultipleCallInstances:!0}),this.attachEventListeners(),this.state="disconnected",Ie.debug("[RTVI Transport] Initialized")}get state(){return this._state}set state(n){var i,s;this._state!==n&&(this._state=n,(s=(i=this._callbacks).onTransportStateChanged)==null||s.call(i,n))}async getAllCams(){const{devices:n}=await this._daily.enumerateDevices();return n.filter(i=>i.kind==="videoinput")}updateCam(n){this._daily.setInputDevicesAsync({videoDeviceId:n}).then(i=>{this._selectedCam=i.camera})}get selectedCam(){return this._selectedCam}async getAllMics(){const{devices:n}=await this._daily.enumerateDevices();return n.filter(i=>i.kind==="audioinput")}updateMic(n){this._daily.setInputDevicesAsync({audioDeviceId:n}).then(i=>{this._selectedMic=i.mic})}get selectedMic(){return this._selectedMic}async getAllSpeakers(){const{devices:n}=await this._daily.enumerateDevices();return n.filter(i=>i.kind==="audiooutput")}updateSpeaker(n){this._daily.setOutputDeviceAsync({outputDeviceId:n}).then(i=>{this._selectedSpeaker=i.speaker})}get selectedSpeaker(){return this._selectedSpeaker}enableMic(n){this._daily.setLocalAudio(n)}get isMicEnabled(){return this._daily.localAudio()}enableCam(n){this._daily.setLocalVideo(n)}get isCamEnabled(){return this._daily.localVideo()}enableScreenShare(n){n?this._daily.startScreenShare():this._daily.stopScreenShare()}get isSharingScreen(){return this._daily.localScreenAudio()||this._daily.localScreenVideo()}tracks(){var a,c,f,m,h,y,w,b,x,M,A,D,z,U,$,V,P;const n=((a=this._daily)==null?void 0:a.participants())??{},i=n==null?void 0:n[this._botId],s={local:{audio:(m=(f=(c=n==null?void 0:n.local)==null?void 0:c.tracks)==null?void 0:f.audio)==null?void 0:m.persistentTrack,screenAudio:(w=(y=(h=n==null?void 0:n.local)==null?void 0:h.tracks)==null?void 0:y.screenAudio)==null?void 0:w.persistentTrack,screenVideo:(M=(x=(b=n==null?void 0:n.local)==null?void 0:b.tracks)==null?void 0:x.screenVideo)==null?void 0:M.persistentTrack,video:(z=(D=(A=n==null?void 0:n.local)==null?void 0:A.tracks)==null?void 0:D.video)==null?void 0:z.persistentTrack}};return i&&(s.bot={audio:($=(U=i==null?void 0:i.tracks)==null?void 0:U.audio)==null?void 0:$.persistentTrack,video:(P=(V=i==null?void 0:i.tracks)==null?void 0:V.video)==null?void 0:P.persistentTrack}),s}async initDevices(){var f,m,h,y,w,b,x,M,A,D,z,U;if(!this._daily)throw new Ht("Transport instance not initialized");this.state="initializing";const n=await this._daily.startCamera(),{devices:i}=await this._daily.enumerateDevices(),s=i.filter($=>$.kind==="videoinput"),a=i.filter($=>$.kind==="audioinput"),c=i.filter($=>$.kind==="audiooutput");(m=(f=this._callbacks).onAvailableCamsUpdated)==null||m.call(f,s),(y=(h=this._callbacks).onAvailableMicsUpdated)==null||y.call(h,a),(b=(w=this._callbacks).onAvailableSpeakersUpdated)==null||b.call(w,c),this._selectedCam=n.camera,(M=(x=this._callbacks).onCamUpdated)==null||M.call(x,n.camera),this._selectedMic=n.mic,(D=(A=this._callbacks).onMicUpdated)==null||D.call(A,n.mic),this._selectedSpeaker=n.speaker,(U=(z=this._callbacks).onSpeakerUpdated)==null||U.call(z,n.speaker),this._daily.isLocalAudioLevelObserverRunning()||await this._daily.startLocalAudioLevelObserver(100),this._daily.isRemoteParticipantsAudioLevelObserverRunning()||await this._daily.startRemoteParticipantsAudioLevelObserver(100),this.state="initialized"}async connect(n,i){var s,a,c;if(!this._daily)throw new Ht("Transport instance not initialized");if(!i.signal.aborted){this.state="connecting";try{await this._daily.join({url:n.room_url,token:n.token});const f=await this._daily.room();f&&"id"in f&&(this._expiry=(s=f.config)==null?void 0:s.exp)}catch{throw this.state="error",new zm}i.signal.aborted||(this.state="connected",(c=(a=this._callbacks).onConnected)==null||c.call(a))}}async sendReadyMessage(){return new Promise(n=>{(async()=>this._daily.on("track-started",i=>{var s;(s=i.participant)!=null&&s.local||(this.state="ready",this.sendMessage(dt.clientReady()),n())}))()})}attachEventListeners(){this._daily.on("available-devices-updated",this.handleAvailableDevicesUpdated.bind(this)),this._daily.on("selected-devices-updated",this.handleSelectedDevicesUpdated.bind(this)),this._daily.on("track-started",this.handleTrackStarted.bind(this)),this._daily.on("track-stopped",this.handleTrackStopped.bind(this)),this._daily.on("participant-joined",this.handleParticipantJoined.bind(this)),this._daily.on("participant-left",this.handleParticipantLeft.bind(this)),this._daily.on("local-audio-level",this.handleLocalAudioLevel.bind(this)),this._daily.on("remote-participants-audio-level",this.handleRemoteAudioLevel.bind(this)),this._daily.on("app-message",this.handleAppMessage.bind(this)),this._daily.on("left-meeting",this.handleLeftMeeting.bind(this)),this._daily.on("nonfatal-error",this.handleNonFatalError.bind(this))}async disconnect(){this._daily.stopLocalAudioLevelObserver(),this._daily.stopRemoteParticipantsAudioLevelObserver(),await this._daily.leave(),await this._daily.destroy()}sendMessage(n){this._daily.sendAppMessage(n,"*")}handleAppMessage(n){n.data.label==="rtvi-ai"&&this._onMessage({id:n.data.id,type:n.data.type,data:n.data.data})}handleAvailableDevicesUpdated(n){var i,s,a,c,f,m;(s=(i=this._callbacks).onAvailableCamsUpdated)==null||s.call(i,n.availableDevices.filter(h=>h.kind==="videoinput")),(c=(a=this._callbacks).onAvailableMicsUpdated)==null||c.call(a,n.availableDevices.filter(h=>h.kind==="audioinput")),(m=(f=this._callbacks).onAvailableSpeakersUpdated)==null||m.call(f,n.availableDevices.filter(h=>h.kind==="audiooutput"))}handleSelectedDevicesUpdated(n){var i,s,a,c,f,m,h,y,w;((i=this._selectedCam)==null?void 0:i.deviceId)!==n.devices.camera&&(this._selectedCam=n.devices.camera,(a=(s=this._callbacks).onCamUpdated)==null||a.call(s,n.devices.camera)),((c=this._selectedMic)==null?void 0:c.deviceId)!==n.devices.mic&&(this._selectedMic=n.devices.mic,(m=(f=this._callbacks).onMicUpdated)==null||m.call(f,n.devices.mic)),((h=this._selectedSpeaker)==null?void 0:h.deviceId)!==n.devices.speaker&&(this._selectedSpeaker=n.devices.speaker,(w=(y=this._callbacks).onSpeakerUpdated)==null||w.call(y,n.devices.speaker))}handleTrackStarted(n){var i,s,a,c;n.type==="screenAudio"||n.type==="screenVideo"?(s=(i=this._callbacks).onScreenTrackStarted)==null||s.call(i,n.track,n.participant?xr(n.participant):void 0):(c=(a=this._callbacks).onTrackStarted)==null||c.call(a,n.track,n.participant?xr(n.participant):void 0)}handleTrackStopped(n){var i,s,a,c;n.type==="screenAudio"||n.type==="screenVideo"?(s=(i=this._callbacks).onScreenTrackStopped)==null||s.call(i,n.track,n.participant?xr(n.participant):void 0):(c=(a=this._callbacks).onTrackStopped)==null||c.call(a,n.track,n.participant?xr(n.participant):void 0)}handleParticipantJoined(n){var s,a,c,f;const i=xr(n.participant);(a=(s=this._callbacks).onParticipantJoined)==null||a.call(s,i),!i.local&&(this._botId=n.participant.session_id,(f=(c=this._callbacks).onBotConnected)==null||f.call(c,i))}handleParticipantLeft(n){var s,a,c,f;const i=xr(n.participant);(a=(s=this._callbacks).onParticipantLeft)==null||a.call(s,i),!i.local&&(this._botId="",(f=(c=this._callbacks).onBotDisconnected)==null||f.call(c,i))}handleLocalAudioLevel(n){var i,s;(s=(i=this._callbacks).onLocalAudioLevel)==null||s.call(i,n.audioLevel)}handleRemoteAudioLevel(n){var a,c;const i=this._daily.participants(),s=Object.keys(n.participantsAudioLevel);for(let f=0;f<s.length;f++){const m=s[f],h=n.participantsAudioLevel[m];(c=(a=this._callbacks).onRemoteAudioLevel)==null||c.call(a,h,xr(i[m]))}}handleLeftMeeting(){var n,i;this.state="disconnecting",this._botId="",(i=(n=this._callbacks).onDisconnected)==null||i.call(n)}handleNonFatalError(n){var i,s;switch(n.type){case"screen-share-error":(s=(i=this._callbacks).onScreenShareError)==null||s.call(i,n.errorMsg);break}}}const xr=r=>({id:r.user_id,local:r.local,name:r.user_name}),qS=new qv,QS=new jn({transport:qS,params:{baseUrl:"http://localhost:8080",endpoints:{connect:"/connect"}},enableMic:!0,enableCam:!1});function GS({children:r}){return ge.jsx(sv,{client:QS,children:r})}function KS(){const r=ma(),n=lv(),i=["connected","ready"].includes(n),s=async()=>{if(!r){console.error("RTVI client is not initialized");return}try{i?await r.disconnect():await r.connect()}catch(a){console.error("Connection error:",a)}};return ge.jsx("div",{className:"controls",children:ge.jsx("button",{className:i?"disconnect-btn":"connect-btn",onClick:s,disabled:!r||["connecting","disconnecting"].includes(n),children:i?"Disconnect":"Connect"})})}function YS(){const r=lv();return ge.jsxs("div",{className:"status",children:["Status: ",ge.jsx("span",{children:r})]})}function XS(){const r=Se.useRef(null),n=ma(),i=Se.useCallback(s=>{if(!r.current)return;const a=document.createElement("div");a.textContent=`${new Date().toISOString()} - ${s}`,s.startsWith("User: ")?a.style.color="#2196F3":s.startsWith("Bot: ")&&(a.style.color="#4CAF50"),r.current.appendChild(a),r.current.scrollTop=r.current.scrollHeight},[]);return Wt(ce.TransportStateChanged,Se.useCallback(s=>{i(`Transport state changed: ${s}`)},[i])),Wt(ce.BotConnected,Se.useCallback(s=>{i(`Bot connected: ${JSON.stringify(s)}`)},[i])),Wt(ce.BotDisconnected,Se.useCallback(s=>{i(`Bot disconnected: ${JSON.stringify(s)}`)},[i])),Wt(ce.TrackStarted,Se.useCallback((s,a)=>{i(`Track started: ${s.kind} from ${(a==null?void 0:a.name)||"unknown"}`)},[i])),Wt(ce.TrackStopped,Se.useCallback((s,a)=>{i(`Track stopped: ${s.kind} from ${(a==null?void 0:a.name)||"unknown"}`)},[i])),Wt(ce.BotReady,Se.useCallback(()=>{var a,c;if(i("Bot ready"),!n)return;const s=n.tracks();i(`Available tracks: ${JSON.stringify({local:{audio:!!s.local.audio,video:!!s.local.video},bot:{audio:!!((a=s.bot)!=null&&a.audio),video:!!((c=s.bot)!=null&&c.video)}})}`)},[n,i])),Wt(ce.UserTranscript,Se.useCallback(s=>{s.final&&i(`User: ${s.text}`)},[i])),Wt(ce.BotTranscript,Se.useCallback(s=>{i(`Bot: ${s.text}`)},[i])),ge.jsxs("div",{className:"debug-panel",children:[ge.jsx("h3",{children:"Debug Info"}),ge.jsx("div",{ref:r,className:"debug-log"})]})}function ZS(){return ge.jsxs("div",{className:"welcome-content",children:[ge.jsx("h1",{children:"Experience Ethan: AI Voice Assistant Demo"}),ge.jsxs("div",{className:"features-section",children:[ge.jsxs("div",{className:"feature-item",children:[ge.jsx("h3",{children:"🎯 Quick Start"}),ge.jsxs("p",{children:["Click ",ge.jsx("strong",{children:'"Connect"'})," to start talking with Ethan, our AI voice assistant. Speak naturally as you would with a person."]})]}),ge.jsxs("div",{className:"feature-item",children:[ge.jsx("h3",{children:"💡 Key Features"}),ge.jsxs("ul",{children:[ge.jsx("li",{children:"Natural conversations with human-like responses"}),ge.jsx("li",{children:"Personalized solutions for your needs"}),ge.jsx("li",{children:"Active listening and empathetic engagement"})]})]})]}),ge.jsx("div",{className:"note-section",children:ge.jsxs("p",{children:[ge.jsx("strong",{children:"Note:"})," Due to CPU resource limitations, only audio is enabled and video is disabled on this page. For a better demo experience, please contact me via ",ge.jsx("a",{href:"https://www.linkedin.com/in/thinh-dang/",target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})," - I'll be happy to support you!"]})})]})}function ek(){return ge.jsxs("div",{className:"app",children:[ge.jsxs("div",{className:"status-bar",children:[ge.jsx(YS,{}),ge.jsx(KS,{})]}),ge.jsx(ZS,{}),ge.jsx(XS,{}),ge.jsx(av,{}),ge.jsx("footer",{className:"app-footer",children:ge.jsxs("p",{className:"version-info",children:["Version: ","9f215dad4c6eddf00a0eaae43bf03f9cd95a0811"]})})]})}function tk(){return ge.jsx(GS,{children:ge.jsx(ek,{})})}Zy.createRoot(document.getElementById("root")).render(ge.jsx(mu.StrictMode,{children:ge.jsx(tk,{})}));
